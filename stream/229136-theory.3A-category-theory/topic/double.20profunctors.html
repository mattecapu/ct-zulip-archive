<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  
<link rel="stylesheet" href="https://mattecapu.github.io/ct-zulip-archive/style.css" /><title>double profunctors · theory: category theory · Zulip Chat Archive</title>
</head>
<body>
<header>
<a href="https://mattecapu.github.io/ct-zulip-archive" class="home-link">
        <img class="logo" src="https://zulip-avatars.s3.amazonaws.com/21317/realm/icon.png?version=3" />
        <h1>Category Theory<br/>Zulip Server<br/>Archive</h1>
        </a>
        <p>
        You're reading the public-facing archive of the <a href="https://categorytheory.zulipchat.com/">Category Theory Zulip server</a>.<br/>
        
        To join the server you need an invite. Anybody can get an invite by contacting <a href="https://matteocapucci.wordpress.com">Matteo Capucci</a> at <em>name dot surname at gmail dot com</em>.<br/>
        
        For all things related to this archive refer to the same person.
        </p>
        </header>
        <hr />
    
<h2>Stream: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/index.html">theory: category theory</a></h2>
<h3>Topic: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html">double profunctors</a></h3>

<hr>

<base href="https://categorytheory.zulipchat.com">

<a name="304117493"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304117493" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304117493">(Oct 14 2022 at 21:10)</a>:</h4>
<p>Hello,<br>
I'm having to deal with <a href="https://ncatlab.org/nlab/show/double%20profunctors">[[double profunctors]]</a> recently and it's not clear to me what are the problems with their composition. There's very limited sources on the topic, so I thought to ask here.<br>
The nLab says double profunctors cannot be composed as their composition involves commuting colimits and pullbacks in Cat, which we know doesn't work in general since non every functor is exponentiable. More precisely, the composition of two double profunctors can be defined but the resulting composition operation doesn't seem to be associative.<br>
Now, recently I've been talking with <span class="user-mention" data-user-id="276823">@Brandon Shapiro</span> who explained to me that the definition of profunctors as <a href="https://ncatlab.org/joyalscatlab/published/Distributors+and+barrels">barrels</a> (which are nothing but functors into the walking arrow) can be generalized to the case of double categories. In this way we recover three kinds of double profunctors: horizontal double profunctors are double functors into the walking horizontal arrow, vertical double profunctors are double functors into the walking vertical arrow, and finally 'square' double profunctors are double functors into the walking square.<br>
I didn't check explicitly but Brandon's claim seems very plausible to me. Take the case of a horizontal double profunctor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">A</mi></mrow><annotation encoding="application/x-tex">\mathbb A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">B</mi></mrow><annotation encoding="application/x-tex">\mathbb B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">B</span></span></span></span> is embodied by a double functor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">A</mi><mi>P</mi><mi mathvariant="double-struck">B</mi><mo>→</mo><mi>h</mi><mn mathvariant="bold">2</mn></mrow><annotation encoding="application/x-tex">\mathbb AP\mathbb B \to h\bf 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathbb">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span><span class="mord"><span class="mord mathbf">2</span></span></span></span></span> whose fibers are, respectively <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">A</mi></mrow><annotation encoding="application/x-tex">\mathbb A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">B</mi></mrow><annotation encoding="application/x-tex">\mathbb B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">B</span></span></span></span>. The data and functoriality of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> correspond to that of the hom-set of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">A</mi><mi>P</mi><mi mathvariant="double-struck">B</mi></mrow><annotation encoding="application/x-tex">\mathbb AP\mathbb B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathbb">B</span></span></span></span>.<br>
Now one can compose double profunctors represented in this way in the same exact way one composes profunctors represented in this way, which is represented by this diagram (this is composition of profunctors in Cat):<br>
<a href="/user_uploads/21317/592KbAqd2CaaSCzdwyE3RTkL/image.png">image.png</a> <br>
Here <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> is the walking object, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> is the walking arrow, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> is the walking composable pair of arrows, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>m</mi><mi>p</mi><mo>:</mo><mn>2</mn><mo>→</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">comp : 2 \to 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">m</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> maps the only arrow in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> to the composite arrow in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>.<br>
Basically you take a pushout and then pullback the resulting functor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>P</mi><mi>B</mi><mi>Q</mi><mi>C</mi><mo>→</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">APBQC \to 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">PBQC</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> along <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>m</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">comp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">m</span><span class="mord mathnormal">p</span></span></span></span>, forgetting about <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>.<br>
When I look at this I see why composition of profunctors is not associative: we are pulling back a pushout, and we are doing it along the <a href="https://ncatlab.org/nlab/show/Conduch%C3%A9+functor">archetypal *non-exponentiable* functor</a>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>o</mi><mi>m</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">comp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">m</span><span class="mord mathnormal">p</span></span></span></span>. Except this I described is composition of profunctors of categories, which is well-defined and associative!<br>
So something is making up for the this lack of commutativity between pushout and pullback here. And it seems that this thing is lacking in the category of double categories and double functors, otherwise we could use the same procedure to define an associative composition of double profunctors (replacing everything in the diagram above suitably).<br>
What is it?</p>
<div class="message_inline_image"><a href="/user_uploads/21317/592KbAqd2CaaSCzdwyE3RTkL/image.png" title="image.png"><img src="/user_uploads/21317/592KbAqd2CaaSCzdwyE3RTkL/image.png"></a></div>



<a name="304119598"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304119598" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304119598">(Oct 14 2022 at 21:26)</a>:</h4>
<p>Instead of pulling back along comp, it's better to consider that last step to be <em>factoring</em> the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>+</mo><mi>C</mi><mo>→</mo><mi>A</mi><mi>P</mi><mi>B</mi><mi>Q</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">A+C \to APBQC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">PBQC</span></span></span></span> as an essentially surjective functor followed by a fully faithful one.  Then the whole construction is a dual form of the bicategory of relations in a regular category.  In a general 2-category, the "cospans that should be collages of profunctors" can be characterized as the two-sided <a href="https://ncatlab.org/nlab/show/codiscrete%20cofibrations">[[codiscrete cofibrations]]</a>, and then what you need is a suitable factorization system to do the composition.  Now the stability condition that holds in Cat to make this associative is clear: fully faithful functors are closed under pushout (a dual of the fact that regular epimorphisms in a regular category are closed under pullback); on the nLab page <a href="https://ncatlab.org/nlab/show/codiscrete%20cofibration">[[codiscrete cofibration]]</a> this is called an "equippable factorization system" on a 2-category.   I presume this condition is what fails in Dbl, although I haven't written out the details.</p>



<a name="304123872"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304123872" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304123872">(Oct 14 2022 at 22:01)</a>:</h4>
<p>Hi Mike, thanks for your reply!<br>
<span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/stream/229136-theory.3A-category-theory/topic/double.20profunctors/near/304119598">said</a>:</p>
<blockquote>
<p>Instead of pulling back along comp, it's better to consider that last step to be <em>factoring</em> the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>+</mo><mi>C</mi><mo>→</mo><mi>A</mi><mi>P</mi><mi>B</mi><mi>Q</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">A+C \to APBQC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">PBQC</span></span></span></span> as an essentially surjective functor followed by a fully faithful one.  </p>
</blockquote>
<p>I presume the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>+</mo><mi>C</mi><mo>→</mo><mi>A</mi><mi>P</mi><mi>B</mi><mi>Q</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">A+C \to APBQC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">PBQC</span></span></span></span> is given by the two inclusions, how does the factorization give me a map into <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>?</p>



<a name="304128262"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304128262" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304128262">(Oct 14 2022 at 22:38)</a>:</h4>
<p>Just forget about 2.  A cospan is the collage of a profunctor just when it's a two-sided codiscrete cofibration.</p>



<a name="304128394"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304128394" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304128394">(Oct 14 2022 at 22:39)</a>:</h4>
<p>However, if you really insist, you can use the fact that 1+1 -&gt; 2 -&gt; 3 is an analogous factorization and the factorization system is functorial.</p>



<a name="304131871"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304131871" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Shapiro <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304131871">(Oct 14 2022 at 23:12)</a>:</h4>
<p>Hi Matteo and Mike! I hadn't thought about the factorization perspective on this before, that's really interesting. After thinking about these for a while though I still feel like the composition should be associative, for the reasons below. I figure I'm missing something though, and I'd love to better understand what goes wrong here.</p>
<ul>
<li>
<p>In the pullback-along-comp version of ordinary profunctor composition, even though comp itself is not exponentiable, the functors APBQC -&gt; 3, APBQCRD -&gt; 4, etc are exponentiable, and this can be used to prove associativity as the pushout Push(2 &lt;- 1 -&gt; 2) = 3 is preserved when pulling back comp_1 : 3 -&gt; 4 along APBQCRD -&gt; 4 to get A(P;Q)CRD. This is used to show that both associations agree with the ternary composite defined this way using comp : 2 -&gt; 4. I don't see why this would be any different when the walking arrows in Cat are replaced by the walking horizontal arrows in DoubleCat (this is admittedly vague, but I'm happy to say more about it when I'm not in transit)</p>
</li>
<li>
<p>In terms of factorizations, it seems relevant here that the pushouts we're considering don't add any new vertical composites. When gluing together P and Q along B, we add in horizontal composites of the heteromorphisms and heterosquares, but on both objects and vertical morphisms the pushout is simply a pushout of inclusions of sets. Maybe this is the most short and intuitive reason why I feel like horizontal double profunctors should compose just as nicely as ordinary profunctors.</p>
</li>
</ul>



<a name="304132153"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304132153" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathanael Arkor <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304132153">(Oct 14 2022 at 23:15)</a>:</h4>
<p><span class="user-mention" data-user-id="275932">@Matteo Capucci (he/him)</span>: have you looked at Paré's papers <a href="http://www.tac.mta.ca/tac/volumes/25/17/25-17abs.html">Yoneda theory for double categories</a> and <a href="http://www.tac.mta.ca/tac/volumes/27/16/27-16abs.html">Composition of modules for lax functors</a>? These discuss the topic of double profunctors quite extensively.</p>



<a name="304133789"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304133789" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304133789">(Oct 14 2022 at 23:32)</a>:</h4>
<p><span class="user-mention" data-user-id="276092">@Nathanael Arkor</span> I don't think Paré's "modules" are the same as the double profunctors we're talking about here.  His are a kind of transformation between two parallel lax double functors.</p>



<a name="304133981"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304133981" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathanael Arkor <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304133981">(Oct 14 2022 at 23:35)</a>:</h4>
<p>Oh whoops, you're right! He just calls them profunctors, and his modules are something else. Thanks for pointing that out; I should have double-checked.</p>



<a name="304135203"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304135203" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304135203">(Oct 14 2022 at 23:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276823">Brandon Shapiro</span> <a href="#narrow/stream/229136-theory.3A-category-theory/topic/double.20profunctors/near/304131871">said</a>:</p>
<blockquote>
<p>In terms of factorizations, it seems relevant here that the pushouts we're considering don't add any new vertical composites. When gluing together P and Q along B, we add in horizontal composites of the heteromorphisms and heterosquares, but on both objects and vertical morphisms the pushout is simply a pushout of inclusions of sets.</p>
</blockquote>
<p>I don't think this is true.  The quotienting that happens on heteromorphisms means that some heterosquares that were not previously composable will become so, and thus new vertical composites of heterosquares appear.  <a href="/user_uploads/21317/u-XaGu83YzNtvryaRCyNeCXl/double-profunctor-non-associativity.pdf">Here</a> is a sketch of how this gives rise to non-associativity.</p>



<a name="304137395"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304137395" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304137395">(Oct 15 2022 at 00:19)</a>:</h4>
<blockquote>
<p>Instead of pulling back along comp, it's better to consider that last step to be <em>factoring</em> the map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>+</mo><mi>C</mi><mo>→</mo><mi>A</mi><mi>P</mi><mi>B</mi><mi>Q</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">A+C \to APBQC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">PBQC</span></span></span></span> as an essentially surjective functor followed by a fully faithful one.  Then the whole construction is a dual form of the bicategory of relations in a regular category.  In a general 2-category, the "cospans that should be collages of profunctors" can be characterized as the two-sided <a href="https://ncatlab.org/nlab/show/codiscrete%20cofibrations">[[codiscrete cofibrations]]</a>, and then what you need is a suitable factorization system to do the composition.  Now the stability condition that holds in Cat to make this associative is clear: fully faithful functors are closed under pushout (a dual of the fact that regular epimorphisms in a regular category are closed under pullback); on the nLab page <a href="https://ncatlab.org/nlab/show/codiscrete%20cofibration">[[codiscrete cofibration]]</a> this is called an "equippable factorization system" on a 2-category.   I presume this condition is what fails in Dbl, although I haven't written out the details.</p>
</blockquote>
<p>Ok I should have read the nLab page you linked before, I now see what you mean here.</p>



<a name="304137414"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304137414" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304137414">(Oct 15 2022 at 00:19)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="276823">Brandon Shapiro</span> <a href="#narrow/stream/229136-theory.3A-category-theory/topic/double.20profunctors/near/304131871">said</a>:</p>
<blockquote>
<p>In terms of factorizations, it seems relevant here that the pushouts we're considering don't add any new vertical composites. When gluing together P and Q along B, we add in horizontal composites of the heteromorphisms and heterosquares, but on both objects and vertical morphisms the pushout is simply a pushout of inclusions of sets.</p>
</blockquote>
<p>I don't think this is true.  The quotienting that happens on heteromorphisms means that some heterosquares that were not previously composable will become so, and thus new vertical composites of heterosquares appear.  <a href="/user_uploads/21317/u-XaGu83YzNtvryaRCyNeCXl/double-profunctor-non-associativity.pdf">Here</a> is a sketch of how this gives rise to non-associativity.</p>
</blockquote>
<p>But any way, this really nails it! <span aria-label="exploding head" class="emoji emoji-1f92f" role="img" title="exploding head">:exploding_head:</span></p>



<a name="304138012"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304138012" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brandon Shapiro <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304138012">(Oct 15 2022 at 00:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/stream/229136-theory.3A-category-theory/topic/double.20profunctors/near/304135203">said</a>:</p>
<blockquote>
<p>I don't think this is true.  The quotienting that happens on heteromorphisms means that some heterosquares that were not previously composable will become so, and thus new vertical composites of heterosquares appear.  <a href="/user_uploads/21317/u-XaGu83YzNtvryaRCyNeCXl/double-profunctor-non-associativity.pdf">Here</a> is a sketch of how this gives rise to non-associativity.</p>
</blockquote>
<p>I see, that makes it very clear where the problem is. Thanks!</p>



<a name="304241789"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304241789" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Williams <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304241789">(Oct 15 2022 at 20:37)</a>:</h4>
<p>Hm, this sketch is interesting. For <em>fibrant</em> double categories, we can compose <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span></span></span></span> with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mn>1</mn><mi>b</mi></msub><mo>∘</mo><mi>c</mi><mi>a</mi><mi>r</mi><msub><mi>t</mi><msub><mi>v</mi><mi>o</mi></msub></msub><mo>∘</mo><mi>δ</mi></mrow><annotation encoding="application/x-tex">1_b\circ cart_{v_o}\circ \delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8652em;vertical-align:-0.2501em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span></span></span></span>, the identity of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> composed with "bending" of the left vertical arrow of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span></span></span></span> (the cartesian cell of its companion) composed with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span></span></span></span>. So these zig-zags are not obstructions to associative composition of profunctors of FDCs.</p>



<a name="304242532"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304242532" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Williams <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304242532">(Oct 15 2022 at 20:49)</a>:</h4>
<p><a href="/user_uploads/21317/JhHFTWtC1u6cIUsp7fT9JO82/prof-comp-assoc-issue.png">prof-comp-assoc-issue.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/JhHFTWtC1u6cIUsp7fT9JO82/prof-comp-assoc-issue.png" title="prof-comp-assoc-issue.png"><img src="/user_uploads/21317/JhHFTWtC1u6cIUsp7fT9JO82/prof-comp-assoc-issue.png"></a></div>



<a name="304248844"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304248844" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304248844">(Oct 15 2022 at 22:23)</a>:</h4>
<p>Yes, that's true.</p>



<a name="304345232"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304345232" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Williams <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304345232">(Oct 16 2022 at 19:42)</a>:</h4>
<p>So, this seems to be a serious limitation of non-fibrant double categories. What notions of profunctor have been used? I'll search  around.</p>



<a name="304346049"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304346049" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Williams <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304346049">(Oct 16 2022 at 19:50)</a>:</h4>
<p>it's not easy to find much online; I'm only seeing <a href="https://ncatlab.org/nlab/show/double+profunctor">nLab: double profunctor</a></p>



<a name="304346936"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304346936" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Williams <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304346936">(Oct 16 2022 at 20:00)</a>:</h4>
<p>yeah, I'm not even seeing double profunctors in those references of Pare. but I'm pretty sure I've seen some from Shulman.</p>



<a name="304356643"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304356643" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathanael Arkor <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304356643">(Oct 16 2022 at 22:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="275899">Christian Williams</span> <a href="#narrow/stream/229136-theory.3A-category-theory/topic/double.20profunctors/near/304346936">said</a>:</p>
<blockquote>
<p>yeah, I'm not even seeing double profunctors in those references of Pare. but I'm pretty sure I've seen some from Shulman.</p>
</blockquote>
<p>They're simply defined to be (lax) double functors <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="double-struck">B</mi><mtext>op</mtext></msup><mo>×</mo><mi mathvariant="double-struck">A</mi><mo>→</mo><mi mathvariant="double-struck">S</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbb B^{\text{op}} \times \mathbb A \to \mathbb S\mathrm{et}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7722em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathbb">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">op</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">S</span><span class="mord"><span class="mord mathrm">et</span></span></span></span></span> in the paper. He doesn't use the terminology "double profunctor".</p>



<a name="304828331"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/304828331" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#304828331">(Oct 18 2022 at 19:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="275899">Christian Williams</span> <a href="#narrow/stream/229136-theory.3A-category-theory/topic/double.20profunctors/near/304346049">said</a>:</p>
<blockquote>
<p>it's not easy to find much online; I'm only seeing <a href="https://ncatlab.org/nlab/show/double+profunctor">nLab: double profunctor</a></p>
</blockquote>
<p>yeah there's pretty much nothing</p>



<a name="305057065"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229136-theory%3A%20category%20theory/topic/double%20profunctors/near/305057065" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229136-theory.3A-category-theory/topic/double.20profunctors.html#305057065">(Oct 19 2022 at 23:14)</a>:</h4>
<p>I added the counterexample to associativity to the nLab page <a href="https://ncatlab.org/nlab/show/double%20profunctor">[[double profunctor]]</a>.</p>



<footer class="site-footer">

<hr><p>Last updated: Feb 28 2026 at 12:12 UTC</p>
This archive runs on a customization of <a href="https://github.com/zulip/zulip-archive">zulip-archive</a>
</footer>
</body>

</html>