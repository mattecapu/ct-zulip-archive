<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  
<link rel="stylesheet" href="https://mattecapu.github.io/ct-zulip-archive/style.css" /><title>Forward derivative composition pattern · learning: questions · Zulip Chat Archive</title>
</head>
<body>
<header>
<a href="https://mattecapu.github.io/ct-zulip-archive" class="home-link">
        <img class="logo" src="https://zulip-avatars.s3.amazonaws.com/21317/realm/icon.png?version=3" />
        <h1>Category Theory<br/>Zulip Server<br/>Archive</h1>
        </a>
        <p>
        You're reading the public-facing archive of the <a href="https://categorytheory.zulipchat.com/">Category Theory Zulip server</a>.<br/>
        
        To join the server you need an invite. Anybody can get an invite by contacting <a href="https://matteocapucci.wordpress.com">Matteo Capucci</a> at <em>name dot surname at gmail dot com</em>.<br/>
        
        For all things related to this archive refer to the same person.
        </p>
        </header>
        <hr />
    
<h2>Stream: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/index.html">learning: questions</a></h2>
<h3>Topic: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html">Forward derivative composition pattern</a></h3>

<hr>

<base href="https://categorytheory.zulipchat.com">

<a name="243421945"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243421945" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Spencer Breiner <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243421945">(Jun 21 2021 at 18:16)</a>:</h4>
<p>Much ink has been spilled in recent years based on the observation that reverse differential composes according to the Lens pattern. I'm wondering if there is a name for the corresponding pattern for the forward derivative? These should be related to opfibrations in a similar way that lenses are related to pointwise-opposite fibrations. </p>
<p>I'm generically interested in monoidal categories, rather than just Cartesian, so I'm looking for a definition something like this:<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="false">?</mo><mo stretchy="false">?</mo><mo stretchy="false">?</mo></mrow><mo stretchy="false">(</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>X</mi><msup><mi>X</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mfrac><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>Y</mi><msup><mi>Y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mfrac><mo fence="true">)</mo></mrow><mo stretchy="false">)</mo><mo>=</mo><msup><mo>∫</mo><mrow><mi>Z</mi><mo>:</mo><mi mathvariant="bold">C</mi></mrow></msup><mi mathvariant="bold">C</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo>⊗</mo><mi>Z</mi><mo stretchy="false">)</mo><mo>×</mo><mi mathvariant="bold">C</mi><mo stretchy="false">(</mo><mi>Z</mi><mo>⊗</mo><msup><mi>X</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi>Y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathrm{???}({X\choose X&#x27;},{Y\choose Y&#x27;})=\int^{Z:\mathbf{C}}\mathbf{C}(X,Y\otimes Z)\times\mathbf{C}(Z\otimes X&#x27;,Y&#x27;)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.272341em;vertical-align:-0.35001em;"></span><span class="mord"><span class="mclose">???</span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9223309999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9223309999999999em;"><span style="top:-2.3550000000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.344297em;vertical-align:-0.30612em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005599999999999772em;">∫</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0381770000000001em;"><span style="top:-3.2579000000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">Z</span><span class="mrel mtight">:</span><span class="mord mathbf mtight">C</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathbf">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbf">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.001892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>If it doesn't have a name yet, I'm tempted to call it a "fiber optic", since it models message-passing and I don't know any other optical components that aren't already taken (lenses, grates, prisms, etc.). Unfortunately, the term "fiber" is already overworked here, so I'm open to other suggestions.</p>



<a name="243429242"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243429242" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jules Hedges <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243429242">(Jun 21 2021 at 19:13)</a>:</h4>
<p>When your base category is cartesian (in which case this category is fibrewise opposite of lenses), this category is called (the total category of) the "simple fibration" in Jacobs' Categorical Logic &amp; Type Theory, it's a major topic of that book. Also in the cartesian case, in David Jaz Meyers' current draft book he calls these morphisms charts, and in Strathclyde we have recently been calling the general thing charts too. But it's early enough days that we could easily switch to calling them anything</p>



<a name="243447831"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243447831" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben MacAdam <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243447831">(Jun 21 2021 at 21:48)</a>:</h4>
<p>I think if you look at some of the Blute-Cockett-Seely papers on Cartesian Differential (Storage) Categories, you'll see they spend quite a bit of time talking about the simple fibration and how it relates to differentiation. I think a forward mode derivative is exactly a section of the simple fibration that satisfies some axioms, just as a reverse derivative is a section of the dual fibration to the simple fibration that satisfies some axioms (although I haven't thought about CDCs or RCDCs much at all lately, so I may be mistaken).</p>



<a name="243449297"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243449297" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jules Hedges <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243449297">(Jun 21 2021 at 22:05)</a>:</h4>
<p>That's reassuring to know</p>



<a name="243449439"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243449439" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jules Hedges <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243449439">(Jun 21 2021 at 22:07)</a>:</h4>
<p>When the base is just monoidal I don't think there's such a strong relationship between the 2 categories, since neither of them is a fibration</p>



<a name="243450061"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243450061" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Spencer Breiner <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243450061">(Jun 21 2021 at 22:13)</a>:</h4>
<p>Thanks for the pointer to the storage categories. That terminology is new to me, but it's no surprise they that they needed to work out the details of the construction. In the Cartesian case there is less need for new terminology, because we have this tight connection with fibrations. In the monoidal case I think the fibration/section gets replaced a coend, just like in the lens -&gt; optic generalization. </p>
<p>What is the intuition behind the "chart" terminology? I couldn't immediately find the DJM draft that you mentioned.</p>



<a name="243493190"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243493190" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243493190">(Jun 22 2021 at 09:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="278008">Spencer Breiner</span> <a href="#narrow/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern/near/243450061">said</a>:</p>
<blockquote>
<p>What is the intuition behind the "chart" terminology? I couldn't immediately find the DJM draft that you mentioned.</p>
</blockquote>
<p><a href="https://github.com/DavidJaz/DynamicalSystemsBook/tree/master/book">Here's the book</a> Jules is talking about, though the main ideas are condensed in <a href="https://arxiv.org/abs/2005.05956">this extended abstract</a></p>



<a name="243493384"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243493384" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243493384">(Jun 22 2021 at 09:49)</a>:</h4>
<p>The intuition is that a charts are maps between boundaries of systems, maps which do not represent interaction though, but simply a mapping</p>



<a name="243493503"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243493503" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243493503">(Jun 22 2021 at 09:51)</a>:</h4>
<p>Indeed the main use of charts is to arrange two of them between the two boundaries of a system, hence producing a square whose vertical sides are lenses (representing a system dynamics) and whose horizontal sides are charts (representing a system being 'charted' into another)</p>



<a name="243493532"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243493532" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243493532">(Jun 22 2021 at 09:51)</a>:</h4>
<p>All in all, these squares are a sophisticated version of <em>simulations</em></p>



<a name="243717889"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243717889" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Spencer Breiner <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243717889">(Jun 23 2021 at 21:51)</a>:</h4>
<p>Following the previous discussion, I am now trying to understand <span class="user-mention" data-user-id="277446">@David Jaz</span>'s formulation of dynamical systems as double categories. I would like to understand better the formal analogy between a dynamical systems doctrine as a section of a bundle map and a vector field as a section of the tangent bundle.</p>
<p>(i) Presumably some part of the classical theory of differential equations (e.g., local existence of solutions?) should literally fall out by interpreting the general construction in the right context. What do the contexts/bundles/etc. look like here? For example, do we turn the base space into a category of open sets or a category of paths? Probably there are different routes one could take.</p>
<p>(ii) When we think about a vector field as defining an object of some doctrine of continuous dynamical systems, is this some kind of microcosm principle? I don't really know what that means, but I'd be curious whether it is and, if so, whether that tells us anything useful.</p>
<p>Probably the answer is "Go read the book", which I will hopefully get to some day.</p>



<a name="243821201"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Forward%20derivative%20composition%20pattern/near/243821201" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Forward.20derivative.20composition.20pattern.html#243821201">(Jun 24 2021 at 17:43)</a>:</h4>
<p>I don't understand (i), but my answer to (ii) is a resounding 'yes!'</p>



<footer class="site-footer">

<hr><p>Last updated: Feb 28 2026 at 12:12 UTC</p>
This archive runs on a customization of <a href="https://github.com/zulip/zulip-archive">zulip-archive</a>
</footer>
</body>

</html>