<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  
<link rel="stylesheet" href="https://mattecapu.github.io/ct-zulip-archive/style.css" /><title>Continuations, parametricity, and polymorphism · learning: questions · Zulip Chat Archive</title>
</head>
<body>
<header>
<a href="https://mattecapu.github.io/ct-zulip-archive" class="home-link">
        <img class="logo" src="https://zulip-avatars.s3.amazonaws.com/21317/realm/icon.png?version=3" />
        <h1>Category Theory<br/>Zulip Server<br/>Archive</h1>
        </a>
        <p>
        You're reading the public-facing archive of the <a href="https://categorytheory.zulipchat.com/">Category Theory Zulip server</a>.<br/>
        
        To join the server you need an invite. Anybody can get an invite by contacting <a href="https://matteocapucci.wordpress.com">Matteo Capucci</a> at <em>name dot surname at gmail dot com</em>.<br/>
        
        For all things related to this archive refer to the same person.
        </p>
        </header>
        <hr />
    
<h2>Stream: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/index.html">learning: questions</a></h2>
<h3>Topic: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html">Continuations, parametricity, and polymorphism</a></h3>

<hr>

<base href="https://categorytheory.zulipchat.com">

<a name="527056316"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527056316" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527056316">(Jul 03 2025 at 18:46)</a>:</h4>
<p>Are you all requiring function extensionality (not just eta) for both -&gt; and forall in your definition of model for system F?  I usually don't but some of these older papers do</p>



<a name="527058413"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527058413" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527058413">(Jul 03 2025 at 19:01)</a>:</h4>
<p>I wouldn't.</p>



<a name="527064108"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527064108" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527064108">(Jul 03 2025 at 19:50)</a>:</h4>
<p>Section 3 of Tannen Coquand ('Extensional Models for Polymorphism', <a href="https://repository.upenn.edu/server/api/core/bitstreams/4eed61a9-05c6-453e-be1e-58b5f5f47bbd/content">https://repository.upenn.edu/server/api/core/bitstreams/4eed61a9-05c6-453e-be1e-58b5f5f47bbd/content</a>) gives a (the?) closed term model of system F, shows that it is not extensional, and shows how you can quotient it to get extensionality (section 4).  (That it satisfies betais stated earlier on page 11.)  So it seems like the closed term model may be parametric but not extensional, if that's even possible?  Anyway, is the Tannen Coquand model equivalent to what people understand as the system F term model?  FWIW I think both this thread and the HRR conclusion paragraph use "true in the term model" accidentally instead of "true in all models/provable from beta/eta alone" in many places</p>



<a name="527065691"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527065691" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527065691">(Jul 03 2025 at 20:04)</a>:</h4>
<p>Hang on, I don't even know what funext means in a non-dependent type theory.</p>



<a name="527066266"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527066266" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527066266">(Jul 03 2025 at 20:08)</a>:</h4>
<p>Oh, do you mean the axioms on p12 of TC, that functions are determined by their action on "elements"? That doesn't even make sense for a category theoretic model where types don't have "elements".</p>



<a name="527066528"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527066528" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527066528">(Jul 03 2025 at 20:10)</a>:</h4>
<p>You could interpret elements as global elements i.e. maps from the terminal object, which in the term model are closed terms, but I certainly wouldn't expect functions in the term model to be determined by their action on closed terms.</p>



<a name="527066582"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527066582" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527066582">(Jul 03 2025 at 20:11)</a>:</h4>
<p>The paper writes the condition semantically, but you can just as easily add proof rules to the system F calculus (from x:T |- f x = g x for fresh var x infer |- f = g), which is usually what I've seen</p>



<a name="527066898"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527066898" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527066898">(Jul 03 2025 at 20:14)</a>:</h4>
<p>That's a different condition, that's just eta-conversion.</p>



<a name="527066962"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527066962" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527066962">(Jul 03 2025 at 20:14)</a>:</h4>
<p>I do not believe funext and eta are equivalent here, or even in dependent type theories, although eta is a special case of funext</p>



<a name="527066978"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527066978" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527066978">(Jul 03 2025 at 20:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/synthetic.20algebraic.20geometry.20vs.20continuation.20passing.20style/near/527064108">said</a>:</p>
<blockquote>
<p>I think both this thread and the HRR conclusion paragraph use "true in the term model" accidentally instead of "true in all models/provable from beta/eta alone" in many places</p>
</blockquote>
<p>Those should always be the same.  That's part of the point of the term model, that it satisfies only the provable equations and hence gives you completeness of the semantics.</p>



<a name="527067038"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527067038" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527067038">(Jul 03 2025 at 20:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/synthetic.20algebraic.20geometry.20vs.20continuation.20passing.20style/near/527066962">said</a>:</p>
<blockquote>
<p>I do not believe funext and eta are equivalent here, or even in dependent type theories, although eta is a special case of funext</p>
</blockquote>
<p>Correct.  But this rule:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>x</mi><mo>:</mo><mi>T</mi><mo>⊢</mo><mi>f</mi><mtext> </mtext><mi>x</mi><mo>=</mo><mi>g</mi><mtext> </mtext><mi>x</mi></mrow><mrow><mo>⊢</mo><mi>f</mi><mo>=</mo><mi>g</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{x:T \vdash f\,x = g\,x}{\vdash f =g }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.2519em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>is eta, not funext.</p>



<a name="527067090"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527067090" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527067090">(Jul 03 2025 at 20:15)</a>:</h4>
<p>(As long as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo></mrow><annotation encoding="application/x-tex">=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span></span></span></span> means definitional equality, and in a non-dependent type theory there's nothing else for it to mean.)</p>



<a name="527067842"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527067842" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527067842">(Jul 03 2025 at 20:22)</a>:</h4>
<p>hm, I grabbed the phrasing from Coq: Lemma functional_extensionality {A B} (f g : A -&gt; B) :<br>
  (forall x, f x = g x) -&gt; f = g.  What did I do wrong?  (it's a lemma b/c uses the dependent ext axiom)</p>



<a name="527068845"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527068845" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527068845">(Jul 03 2025 at 20:31)</a>:</h4>
<p>also: the term model should satisfy a lot more equations than just what is provable in the rules for system F.   (The Tannen Coquand paper talks about this a bit).  For example, the term model of O:nat and S:nat-&gt;nat and + proves x+y=y+x for variable x, whereas an arbitrary model does not.  (at least if we're talking in Set, following Baader and Nipkow.). I thought this was the reason initial model semantics was "good" - you get all these extra properties not found in arbitrary models.</p>



<a name="527069428"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527069428" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527069428">(Jul 03 2025 at 20:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/synthetic.20algebraic.20geometry.20vs.20continuation.20passing.20style/near/527067842">said</a>:</p>
<blockquote>
<p>hm, I grabbed the phrasing from Coq: Lemma functional_extensionality {A B} (f g : A -&gt; B) :  (forall x, f x = g x) -&gt; f = g.  What did I do wrong?  (it's a lemma b/c uses the dependent ext axiom)</p>
</blockquote>
<p>In that axiom <code>=</code> means <em>propositional</em> equality.</p>



<a name="527069597"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527069597" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527069597">(Jul 03 2025 at 20:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/synthetic.20algebraic.20geometry.20vs.20continuation.20passing.20style/near/527068845">said</a>:</p>
<blockquote>
<p>For example, the term model of O:nat and S:nat-&gt;nat and + proves x+y=y+x for variable x, whereas an arbitrary model does not.</p>
</blockquote>
<p>Not in any term model I'm familiar with.  What is your definition of "term model"?  I have always understood the term model to consist <em>by definition</em> of the terms modulo definitional equality.</p>
<p>Remember we are talking about term models with <em>open</em> terms.</p>



<a name="527069790"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527069790" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527069790">(Jul 03 2025 at 20:40)</a>:</h4>
<p>It looks to me like that's exactly what TC do in their section 3.</p>



<a name="527069887"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527069887" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527069887">(Jul 03 2025 at 20:40)</a>:</h4>
<p>They don't call it a "model" because they want to save that word for something that satisfies their additional semantic extensionality property, which of course the term model doesn't.  But their section 3 is really the "term model".</p>



<a name="527070869"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527070869" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527070869">(Jul 03 2025 at 20:49)</a>:</h4>
<p>I'm following Baader and Nipkow re: term algebras.  <br>
<a href="/user_uploads/21317/JOELAzAdZYJjMHWErgyMiHNE/Screenshot-2025-07-03-at-1.46.44PM.png">Screenshot 2025-07-03 at 1.46.44 PM.png</a><br>
<a href="/user_uploads/21317/FeaDdSklzNQwclYkEPhtN2BJ/Screenshot-2025-07-03-at-1.48.37PM.png">Screenshot 2025-07-03 at 1.48.37 PM.png</a><br>
<a href="/user_uploads/21317/0YZCaWmrJ1sQ0A3jD7qyky-E/Screenshot-2025-07-03-at-1.48.28PM.png">Screenshot 2025-07-03 at 1.48.28 PM.png</a><br>
<a href="/user_uploads/21317/zpsFoQA6HuOrCpvdMQ0UDcZO/Screenshot-2025-07-03-at-1.47.58PM.png">Screenshot 2025-07-03 at 1.47.58 PM.png</a><br>
<a href="/user_uploads/21317/8VV7iRVVuutcUNbU0-8Qdewq/Screenshot-2025-07-03-at-1.47.32PM.png">Screenshot 2025-07-03 at 1.47.32 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/JOELAzAdZYJjMHWErgyMiHNE/Screenshot-2025-07-03-at-1.46.44PM.png" title="Screenshot 2025-07-03 at 1.46.44 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1274x406" src="/user_uploads/thumbnail/21317/JOELAzAdZYJjMHWErgyMiHNE/Screenshot-2025-07-03-at-1.46.44PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/FeaDdSklzNQwclYkEPhtN2BJ/Screenshot-2025-07-03-at-1.48.37PM.png" title="Screenshot 2025-07-03 at 1.48.37 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1284x274" src="/user_uploads/thumbnail/21317/FeaDdSklzNQwclYkEPhtN2BJ/Screenshot-2025-07-03-at-1.48.37PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/0YZCaWmrJ1sQ0A3jD7qyky-E/Screenshot-2025-07-03-at-1.48.28PM.png" title="Screenshot 2025-07-03 at 1.48.28 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1290x210" src="/user_uploads/thumbnail/21317/0YZCaWmrJ1sQ0A3jD7qyky-E/Screenshot-2025-07-03-at-1.48.28PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/zpsFoQA6HuOrCpvdMQ0UDcZO/Screenshot-2025-07-03-at-1.47.58PM.png" title="Screenshot 2025-07-03 at 1.47.58 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1300x650" src="/user_uploads/thumbnail/21317/zpsFoQA6HuOrCpvdMQ0UDcZO/Screenshot-2025-07-03-at-1.47.58PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/8VV7iRVVuutcUNbU0-8Qdewq/Screenshot-2025-07-03-at-1.47.32PM.png" title="Screenshot 2025-07-03 at 1.47.32 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1314x1728" src="/user_uploads/thumbnail/21317/8VV7iRVVuutcUNbU0-8Qdewq/Screenshot-2025-07-03-at-1.47.32PM.png/840x560.webp"></a></div>



<a name="527071084"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527071084" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527071084">(Jul 03 2025 at 20:51)</a>:</h4>
<p>example 3.5.9 shows there are equations that hold in the term algebra that don't hold in arbitrary algebras</p>



<a name="527071552"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527071552" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527071552">(Jul 03 2025 at 20:55)</a>:</h4>
<p><a href="/user_uploads/21317/VQaSZazKwK66xKFtcKCsOk3o/Screenshot-2025-07-03-at-1.53.58PM.png">Screenshot 2025-07-03 at 1.53.58 PM.png</a><br>
Baader and Nipkow even define and name the theory of the term model (showing it is more than just the theory started with)</p>
<div class="message_inline_image"><a href="/user_uploads/21317/VQaSZazKwK66xKFtcKCsOk3o/Screenshot-2025-07-03-at-1.53.58PM.png" title="Screenshot 2025-07-03 at 1.53.58 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1278x256" src="/user_uploads/thumbnail/21317/VQaSZazKwK66xKFtcKCsOk3o/Screenshot-2025-07-03-at-1.53.58PM.png/840x560.webp"></a></div>



<a name="527072005"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072005" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072005">(Jul 03 2025 at 20:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/synthetic.20algebraic.20geometry.20vs.20continuation.20passing.20style/near/527069597">said</a>:</p>
<blockquote>
<p>Remember we are talking about term models with <em>open</em> terms.</p>
</blockquote>



<a name="527072057"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072057" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072057">(Jul 03 2025 at 20:59)</a>:</h4>
<p>I thought the TC section 3 builds a model out of closed terms?  that's why they need all the environment machinery?  <br>
<a href="/user_uploads/21317/VlXvN-M6mTLofcAY3uRQAPq-/Screenshot-2025-07-03-at-1.59.15PM.png">Screenshot 2025-07-03 at 1.59.15 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/VlXvN-M6mTLofcAY3uRQAPq-/Screenshot-2025-07-03-at-1.59.15PM.png" title="Screenshot 2025-07-03 at 1.59.15 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1778x716" src="/user_uploads/thumbnail/21317/VlXvN-M6mTLofcAY3uRQAPq-/Screenshot-2025-07-03-at-1.59.15PM.png/840x560.webp"></a></div>



<a name="527072216"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072216" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072216">(Jul 03 2025 at 21:00)</a>:</h4>
<p>In a theory with function-types, you can get away with using only closed terms because an open term can be abstracted over its free variables to yield a closed term.</p>



<a name="527072241"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072241" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072241">(Jul 03 2025 at 21:01)</a>:</h4>
<p>certainly they claim in the conclusion that their model "C" is made entirely of closed terms</p>



<a name="527072305"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072305" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072305">(Jul 03 2025 at 21:01)</a>:</h4>
<p>But for instance the observation you quoted about <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>≈</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x,y)\approx f(y,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> is not true in a term model with open terms, if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> are free variables.</p>



<a name="527072489"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072489" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072489">(Jul 03 2025 at 21:03)</a>:</h4>
<p>sure, but I don't see how TC section 3 has free variables or open terms anywhere in its definition.  This is why I think the term model for system F should have all kinds of equations true in it that aren't implied by the theory of F.  The interpretation of a sequent that has variables in context uses the "environment" rather than an open term (a trick from closed term models of simply typed lambda calculus).  I'd also be surprised they'd call it the "closed term/closed type construction" if it used open terms.</p>



<a name="527072634"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527072634" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527072634">(Jul 03 2025 at 21:04)</a>:</h4>
<p>I will agree that a model of system F with open terms as carrier will prove a lot less things than one with closed terms as carrier, according to my intuition</p>



<a name="527083809"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527083809" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527083809">(Jul 03 2025 at 22:56)</a>:</h4>
<p>Okay, let's back up.  Really explaining this in depth is going to require a broader view.</p>



<a name="527083866"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527083866" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527083866">(Jul 03 2025 at 22:56)</a>:</h4>
<p>I'm going to write to Prof Tannen.  I think he might be able to settle some questions (eg is there an equation true in his term model of system F that doesn't follow from beta/eta) faster than us trying to work through his definitions</p>



<a name="527083903"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527083903" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527083903">(Jul 03 2025 at 22:57)</a>:</h4>
<p>(The answer to that specific question is that it depends on what you mean by "equation" and "true", which I'll get to in a bit.)</p>



<a name="527083924"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527083924" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527083924">(Jul 03 2025 at 22:57)</a>:</h4>
<p>I do want to keep pressing on the (a?) closed term model of system F (instead of the open model), however, because to me that is what formalizes "idealized haskell w/o recursion"; it's what I have in my head when I write a big step operational semantics (the target is the closed term model)</p>



<a name="527083967"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527083967" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527083967">(Jul 03 2025 at 22:58)</a>:</h4>
<p>Every theory is written in a "doctrine" that specifies the allowable judgment forms.  You can extend a theory to a more expressive doctrine, and we often blur the distinction between a theory and its extension, but formally they are different and it's sometimes important to distinguish.</p>



<a name="527084093"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084093" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084093">(Jul 03 2025 at 22:59)</a>:</h4>
<p>In particular, the term model of a theory is built out of the judgment forms that are derivable in its syntax.  But what those are depends also on the doctrine, and thus the term model for a theory is different depending on what doctrine you write it in.</p>



<a name="527084150"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084150" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084150">(Jul 03 2025 at 23:00)</a>:</h4>
<p>Theories like STLC and System F are written in doctrines whose judgment forms include contexts of variables, such as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">x:A, y:B \vdash t:C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>.  Thus, their term models are built out of judgments of that sort, which are of course open terms.</p>



<a name="527084277"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084277" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084277">(Jul 03 2025 at 23:01)</a>:</h4>
<p>The doctrine of STLC, with only "term variables", can be called "simple type theory", while the doctrine of System F, which also has type variables, could be called "polymorphic type theory".</p>



<a name="527084373"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084373" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084373">(Jul 03 2025 at 23:02)</a>:</h4>
<p>well sure, the closed term model of TC interprets judgements with variables in context, but the carrier for their interpretation is not open terms</p>



<a name="527084389"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084389" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084389">(Jul 03 2025 at 23:02)</a>:</h4>
<p>Let me finish please.</p>



<a name="527084559"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084559" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084559">(Jul 03 2025 at 23:04)</a>:</h4>
<p>The term model of a simple type theory is most directly viewed as some kind of multicategory, whose objects are the types and whose multi-morphisms such as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>→</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">(A,B) \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> are terms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">x:A ,y:B \vdash t:C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>.  However, it's common to view it instead as an ordinary category whose objects are contexts (lists of types), and whose morphisms are substitutions (lists of terms).</p>
<p>If the theory has product types, this is equivalent to a category whose objects are single types and whose morphisms are terms in a singleton context such as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">x:A \vdash t:C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>.  And even if the theory doesn't have product types, we can consider that category for simplicity.</p>



<a name="527084714"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084714" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084714">(Jul 03 2025 at 23:06)</a>:</h4>
<p>If the theory has <em>function</em> types, then there is a bijection between open terms such as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">x:A, y:B \vdash t:C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> and closed terms of type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi><mo>→</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A\to B\to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>.  Thus, <em>in this case</em> we could equivalently build the term model using only closed terms.  This is what TC do in section 3, modulo some rearranging of their presentation to become a category, and ignoring the relation <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo></mrow><annotation encoding="application/x-tex">\vDash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span></span></span></span> which I haven't gotten to yet.</p>



<a name="527084869"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084869" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084869">(Jul 03 2025 at 23:08)</a>:</h4>
<p>In particular, the <em>equality</em> between terms in the section 3 model is the equivalence relation that they call <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>ω</mi></msub></mrow><annotation encoding="application/x-tex">G_\omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">ω</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, which is defined to be the definitional equality of syntax.  Thus, their term model <em>qua</em> category, like every term model, validates all and only the statements <em>in the doctrine</em> that are derivable in the theory.</p>



<a name="527084886"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084886" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084886">(Jul 03 2025 at 23:08)</a>:</h4>
<p>So what about <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo></mrow><annotation encoding="application/x-tex">\vDash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span></span></span></span>.</p>



<a name="527084918"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527084918" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527084918">(Jul 03 2025 at 23:09)</a>:</h4>
<p>In general it is true that a term model can satisfy additional statements that are <em>not in its doctrine</em>.</p>



<a name="527085118"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085118" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085118">(Jul 03 2025 at 23:11)</a>:</h4>
<p>in Baader-Nipkow example 3.5.9, the extra equations it satisfies are not part of the doctrine of the original equational theory?</p>



<a name="527085173"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085173" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085173">(Jul 03 2025 at 23:12)</a>:</h4>
<p>Right!</p>



<a name="527085218"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085218" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085218">(Jul 03 2025 at 23:13)</a>:</h4>
<p>Ok, I'll need to pause to consider that.  I've never really used doctrines before, and Baader/Nipkow don't talk about that point at all</p>



<a name="527085257"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085257" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085257">(Jul 03 2025 at 23:13)</a>:</h4>
<p>If we formulate a simple algebraic theory in a doctrine <em>without</em> contexts, there is just one judgment <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mtext> </mtext><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">m</mi></mrow></mrow><annotation encoding="application/x-tex">t\, \mathrm{term}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">term</span></span></span></span></span>, with rules such as</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>s</mi><mtext> </mtext><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">m</mi></mrow><mspace width="1em"/><mi>t</mi><mtext> </mtext><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">m</mi></mrow></mrow><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mtext> </mtext><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">m</mi></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{s\,\mathrm{term} \quad t\,\mathrm{term}}{f(s,t) \,\mathrm{term}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.2281em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">term</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">term</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">term</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>



<a name="527085325"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085325" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085325">(Jul 03 2025 at 23:14)</a>:</h4>
<p>(Doctrines are indeed under-explained!)</p>



<a name="527085331"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085331" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085331">(Jul 03 2025 at 23:14)</a>:</h4>
<p>here you are talking about ground terms only (b/c no contexts)?</p>



<a name="527085342"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085342" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085342">(Jul 03 2025 at 23:15)</a>:</h4>
<p>Exactly.</p>



<a name="527085358"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085358" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085358">(Jul 03 2025 at 23:15)</a>:</h4>
<p>Then the term model in this doctrine is the set of all ("closed") terms such as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(a,f(f(b,a),b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> built only from the constants <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">a,b,f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> and no "variables".</p>



<a name="527085379"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085379" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085379">(Jul 03 2025 at 23:15)</a>:</h4>
<p>right</p>



<a name="527085405"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085405" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085405">(Jul 03 2025 at 23:16)</a>:</h4>
<p>A statement like "for all <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> we have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x,y)=f(y,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>" is not in this doctrine, and so it can hold in the term model even though it isn't "derivable from the theory".</p>



<a name="527085425"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085425" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085425">(Jul 03 2025 at 23:16)</a>:</h4>
<p>However, we can also extend this theory to the doctrine of a simple type theory with judgments in context like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x:A, y:A \vdash f(x,y):A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊢</mo><mi>a</mi><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\vdash a:A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>, where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> is the unique type.  In this case, the term model will be the (multi)category freely generated by a semigroup object containing two elements that commute with each other.  Of course such a semigroup need not be abelian, and therefore the two morphisms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo><mo>→</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">(A,A)\to A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> determined by the terms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x:A, y:A \vdash f(x,y):A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x:A, y:A \vdash f(y,x):A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> are not the same, and so this term model does <em>not</em> satisfy the equation <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x:A, y:A \vdash f(x,y)=f(y,x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>, which <em>is</em> in its doctrine.</p>



<a name="527085552"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085552" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085552">(Jul 03 2025 at 23:18)</a>:</h4>
<p>right, I'm still following.  But for example 3.5.9, why isn't that equation that is only true in the term model not in the original doctrine (which had variables in context in its initial set of equations)</p>



<a name="527085568"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085568" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085568">(Jul 03 2025 at 23:18)</a>:</h4>
<p>It <em>will</em> satisfy a statement like "for all closed terms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊢</mo><mi>s</mi><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\vdash s:A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\vdash t:A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> we have <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊢</mo><mi>f</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\vdash f(s,t) = f(t,s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span>", but this is <em>not</em> in its doctrine, since simple type theory does not include a way to quantify over <em>closed</em> terms.</p>



<a name="527085733"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085733" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085733">(Jul 03 2025 at 23:21)</a>:</h4>
<p>(also, I understand why function extensionality as I wrote it doesn't fit with system's F equational logic (it just follows from eta), albeit not b/c of a hyper doctrine reason.  I'd never tried writing fun-ext outside of coq before)</p>



<a name="527085905"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085905" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085905">(Jul 03 2025 at 23:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/synthetic.20algebraic.20geometry.20vs.20continuation.20passing.20style/near/527085552">said</a>:</p>
<blockquote>
<p>But for example 3.5.9, why isn't that equation that is only true in the term model not in the original doctrine (which had variables in context in its initial set of equations)</p>
</blockquote>
<p>Yes, good point.  If we want to capture that whole example in a doctrine without contexts, we would have to include associativity in the doctrine itself rather than in the theory.  So it would be in the doctrine of semigroups, and the theory in that doctrine would be the theory of two commuting elements, and so the term model would be the free semigroup generated by two commuting elements.  (This is just like how associativity for morphism composition in a category, i.e. substitution of terms, is included in the doctrine of simple type theory, but not expressible <em>in</em> any theory in that doctrine.)</p>



<a name="527085968"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527085968" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527085968">(Jul 03 2025 at 23:25)</a>:</h4>
<p>So, to conclude, the TC relation <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo></mrow><annotation encoding="application/x-tex">\vDash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span></span></span></span> is a way of expressing statements about closed terms, which is not in the doctrine of simple type theory, and so the term model can satisfy statements of that form that are not derivable from the theory.</p>



<a name="527086072"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086072" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086072">(Jul 03 2025 at 23:26)</a>:</h4>
<p>ooh, heh, I get it now... I think.  the "doctrine" defines what freeness is relative to.  In which case, example 3.5.9 is "different" when you view it as the three axiom equational theory over the empty theory (as I do), or as a single ground equation over two (universally quantified) equations... right?</p>



<a name="527086332"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086332" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086332">(Jul 03 2025 at 23:30)</a>:</h4>
<p>Yes!</p>



<a name="527086352"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086352" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086352">(Jul 03 2025 at 23:30)</a>:</h4>
<p>I wrote a longish blog post about doctrines, and more general "<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>-theories", <a href="https://golem.ph.utexas.edu/category/2018/04/what_is_an_ntheory.html">here</a>.</p>



<a name="527086459"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086459" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086459">(Jul 03 2025 at 23:32)</a>:</h4>
<p>ok, that explains (some of) the confusion with term models.  For me (and I'd imagine TC), we just assume every statement in first order logic about the model is fair game to distinguish the models</p>



<a name="527086573"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086573" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086573">(Jul 03 2025 at 23:33)</a>:</h4>
<p>incidentally, CQL may provide a good example of "stacking" doctrines, its "instances" are theories in the doctrine of its schema which is a theory in the doctrine of its "typeside", if I understand correctly.  Implementation-wise these are just theories that extend each other, but there are very specific rules about what kind of equations can be written where in this stack.</p>



<a name="527086602"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086602" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086602">(Jul 03 2025 at 23:34)</a>:</h4>
<p>The confusion is that the TC syntax for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo></mrow><annotation encoding="application/x-tex">\vDash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span></span></span></span> <em>looks</em> the same as the syntax for definitional equality <em>in</em> the doctrine.  It would be better if instead of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo separator="true">;</mo><mi>M</mi><mo>=</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\vDash x:A, y:B ; M = N </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> they wrote something like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>⊢</mo><mi>x</mi><mo>:</mo><mi>A</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mo>⊢</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo stretchy="false">)</mo><mo>⊨</mo><mo stretchy="false">(</mo><mo>⊢</mo><mi>M</mi><mo>=</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\vdash x:A), (\vdash y:B) \vDash (\vdash M = N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⊨</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>.</p>



<a name="527086692"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086692" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086692">(Jul 03 2025 at 23:35)</a>:</h4>
<p>Yes, a doctrine is a 2-theory, which is a 2-theory in some 2-doctrine (= 3-theory), and so on.</p>



<a name="527086791"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086791" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086791">(Jul 03 2025 at 23:37)</a>:</h4>
<p>I think im still going to write to prof. tannen asking about properties true in his closed term model that don't follow from beta/eta, but then we can check them to see if they fall into the expected doctrine or not.  does that sound like a good next step?</p>



<a name="527086885"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086885" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086885">(Jul 03 2025 at 23:38)</a>:</h4>
<p>What's the goal?</p>



<a name="527086939"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527086939" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527086939">(Jul 03 2025 at 23:39)</a>:</h4>
<p>I want to know if HRR's Q = S is true in the closed TC model, even if that question is ill-posed doctrinally.  It's true in the closed TC model after they collapse it, because collapse creates a PER model</p>



<a name="527087073"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087073" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087073">(Jul 03 2025 at 23:41)</a>:</h4>
<p>Do they say that?</p>



<a name="527087102"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087102" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087102">(Jul 03 2025 at 23:41)</a>:</h4>
<p>no one has made that claim, it's a claim I need to figure out to check my understanding</p>



<a name="527087110"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087110" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087110">(Jul 03 2025 at 23:41)</a>:</h4>
<p>I mean, do they claim that it's true after the collapse?</p>



<a name="527087170"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087170" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087170">(Jul 03 2025 at 23:42)</a>:</h4>
<p>I think they say collapse results in a PER somewhere, I'll go find the reference</p>



<a name="527087269"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087269" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087269">(Jul 03 2025 at 23:43)</a>:</h4>
<p>I want to not be too blithe about it, because there could be multiple meanings of what "being a PER model" is, and it doesn't seem to me that simply <em>quotienting</em> the term model could create the kind of "PER model" that makes Q=S.</p>



<a name="527087271"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087271" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087271">(Jul 03 2025 at 23:43)</a>:</h4>
<p>lemma 4.3 says something is a PER, although maybe not the kind of PER HRR talk about</p>



<a name="527087299"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087299" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087299">(Jul 03 2025 at 23:44)</a>:</h4>
<p>I'll ask prof tannen the question both pre-collapse and post-collapse</p>



<a name="527087435"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087435" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087435">(Jul 03 2025 at 23:46)</a>:</h4>
<p>Okay.  Pre-collapse we know that it is not true in the ordinary sense as a statement about the term model <em>qua</em> category, because of the HRR counterexample.  But I guess there may be a way to interpret it as a different statement involving <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo></mrow><annotation encoding="application/x-tex">\vDash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span></span></span></span>, which might be true.</p>



<a name="527087525"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087525" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087525">(Jul 03 2025 at 23:47)</a>:</h4>
<p>my hunch is all these properties that are ruled out doctrinally actually do conspire to equate Q=S in the specific closed term model of TC, and HRR meant open term model or "all models"</p>



<a name="527087663"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087663" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087663">(Jul 03 2025 at 23:49)</a>:</h4>
<p>I'm not sure what you mean by hyper-doctrinally.  I haven't been talking about any hyperdoctrines.</p>



<a name="527087716"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087716" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087716">(Jul 03 2025 at 23:50)</a>:</h4>
<p>oh, sorry, I've been saying hyper doctrine on accident, I just mean "doctrine"</p>



<a name="527087753"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087753" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087753">(Jul 03 2025 at 23:50)</a>:</h4>
<p>I also don't know what you mean by distinguishing the closed term model and open term model.  As I said, I think there is no difference between them in a theory with function types; what makes the difference is what's in the doctrine.</p>



<a name="527087776"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087776" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087776">(Jul 03 2025 at 23:51)</a>:</h4>
<p>Oh, I see.  It's very confusing that a "hyperdoctrine" is totally unrelated to a "doctrine" in this sense.</p>



<a name="527087816"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087816" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087816">(Jul 03 2025 at 23:52)</a>:</h4>
<p>I'll find the reference - I think it was hasegawa - who was talking about the differences between the open and closed term models of system F</p>



<a name="527087920"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527087920" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527087920">(Jul 03 2025 at 23:53)</a>:</h4>
<p><a href="/user_uploads/21317/wMitl2iz97bP7V06Tnb_zWHo/Screenshot-2025-07-03-at-4.53.29PM.png">Screenshot 2025-07-03 at 4.53.29 PM.png</a><br>
Yeah, it hasegawa (Parametricity of extensionally collapsed term models of polymorphism and their categorical properties) from here: <a href="https://link.springer.com/chapter/10.1007/3-540-54415-1_61">https://link.springer.com/chapter/10.1007/3-540-54415-1_61</a> .  so a priori I claim open and closed models can be different, even if those differences may not be visible doctrinally.  Paper attached<br>
<a href="/user_uploads/21317/5W0lFvopS5ghJfPMHgNjHA88/3-540-54415-1_61.pdf">3-540-54415-1_61.pdf</a>.  It also "proves" an identity extension lemma without giving the proof</p>
<div class="message_inline_image"><a href="/user_uploads/21317/wMitl2iz97bP7V06Tnb_zWHo/Screenshot-2025-07-03-at-4.53.29PM.png" title="Screenshot 2025-07-03 at 4.53.29 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1144x312" src="/user_uploads/thumbnail/21317/wMitl2iz97bP7V06Tnb_zWHo/Screenshot-2025-07-03-at-4.53.29PM.png/840x560.webp"></a></div>



<a name="527088367"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527088367" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527088367">(Jul 04 2025 at 00:00)</a>:</h4>
<p>while we're revisiting very basic assumptions, I always thought the logical relations lemma was proved by induction on closed terms or types, so it surprises me when a closed term model isn't parametric.  but as this thread makes clear, I'm full of erroneous assumptions if someone wants to correct this one too</p>



<a name="527093185"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527093185" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527093185">(Jul 04 2025 at 01:18)</a>:</h4>
<p>I can't get to that paper either, so I don't know what this putative closed term model might mean.  But I do know that it's nearly impossible to prove anything by induction only over closed terms: when you get to the case for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mi>x</mi><mi mathvariant="normal">.</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">\lambda x. M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>, you don't have an inductive hypothesis since <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> isn't a closed term any more.  The logical relations lemma that I know is proved by induction (i.e. by the universal property) on the ordinary (open) term model.  (And, remember that that's only external parametricity.)</p>



<a name="527093206"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527093206" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527093206">(Jul 04 2025 at 01:18)</a>:</h4>
<p>Oh, I see you attached the paper now, let me see.</p>



<a name="527093760"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527093760" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527093760">(Jul 04 2025 at 01:26)</a>:</h4>
<p>fyi: hasegawa's remark 4.8 mentions something quite similar to HRR's a ~ CPS a</p>



<a name="527094165"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527094165" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527094165">(Jul 04 2025 at 01:32)</a>:</h4>
<p>Well, I can't make heads or tails of Hasegawa's introduction, and nowhere in the paper do I see a definition of what he means by a model of open terms.  His model of "closed terms" (which he calls just an "interpretation") looks to me like it is equivalent to I would call the ordinary term model, by the trick that I mentioned of abstracting open terms to make them closed.</p>



<a name="527094298"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527094298" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527094298">(Jul 04 2025 at 01:34)</a>:</h4>
<p>Ohh... maybe by "open terms" he means a model in which the "elements" of a type are the <em>union</em> of the terms of that type in <em>all</em> contexts?  Or, put more categorically, in which the morphisms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>:</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>→</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">t:(A,B)\to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> are terms of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Γ</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>B</mi><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">\Gamma_t, x:A, y:B \vdash t:C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> for some additional context <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Γ</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\Gamma_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, which could be different for different morphisms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>?</p>



<a name="527094362"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527094362" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527094362">(Jul 04 2025 at 01:35)</a>:</h4>
<p>I've seen people do things like that for untyped lambda-calculus, so maybe people do it for typed lambda-calculus too.  It certainly wouldn't be the initial model, but it might be useful for some things.</p>



<a name="527094611"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527094611" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527094611">(Jul 04 2025 at 01:39)</a>:</h4>
<p>if the trick of an interpreting a term in context via its corresponding closed lambda term really set up an equivalence of models, why would the closed one fail to be extensional but the open would not?  my intuition is that these closed models must be doing something differently than just using the equivalent lambda term or there wouldn't be all these papers by well-known authors about how to turn the closed model extensional... but we might be approaching the point where it's easiest to ask the authors</p>



<a name="527096442"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527096442" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527096442">(Jul 04 2025 at 02:08)</a>:</h4>
<p>It's an equivalence between what TC and Hasegawa call the "closed term model" and what I call "the term model" which involves terms in context that only use the variables from that context.  I don't think the latter is what Hasegawa means by an "open term model" -- I think he means what I suggested above, where the terms can also involve additional free variables that <em>aren't</em> in the context.  That model can be "extensional" for trivial reasons because you can always apply two functions <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo separator="true">,</mo><mi>g</mi><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f,g:A\to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> to a free variable <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">x:A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> and then if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mtext> </mtext><mi>x</mi><mo>=</mo><mi>g</mi><mtext> </mtext><mi>x</mi></mrow><annotation encoding="application/x-tex">f\,x = g\,x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span> it must be that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>=</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f=g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span> by eta.</p>



<a name="527097219"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527097219" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Madeleine Birchfield <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527097219">(Jul 04 2025 at 02:22)</a>:</h4>
<p>I renamed this discussion because it has veered far from the original topic of comparing synthetic algebraic geometry to continuations. This deviation happened at the beginning of the discussion once it became clear that the SQC axiom wasn't all that similar to the axioms that types are isomorphic to its continuations.</p>



<a name="527097499"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527097499" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527097499">(Jul 04 2025 at 02:27)</a>:</h4>
<p>I found and attached the paper hasegawa cites when he says "the open model is used to prove completeness".  section 3 uses an argument like you just made, but I can't settle your question from reading it quite yet.  <br>
<a href="/user_uploads/21317/5I8Bv2ep8mdkE0HPbSRVcMpW/second-order-semantics.pdf">second-order-semantics.pdf</a></p>



<a name="527311885"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527311885" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527311885">(Jul 06 2025 at 00:10)</a>:</h4>
<p><a href="/user_uploads/21317/4_Me2iq2JEt98ysq3qOCmQo2/Screenshot-2025-07-05-at-4.39.55PM.png">Screenshot 2025-07-05 at 4.39.55 PM.png</a><br>
<a href="/user_uploads/21317/B57R4zVfIKZAVbfPr7sERCam/Screenshot-2025-07-05-at-4.40.33PM.png">Screenshot 2025-07-05 at 4.40.33 PM.png</a><br>
I'm still trying to square the fact that the term model of the simply typed lambda calculus is sound and complete for the equational theory of the STLC (I've gone through this proof many times), but that you can, according to Baader/Nipkow/Mitchell and many others, still end up with a "term model" of an equational theory that has more equations true in it than specified (and that this fact is used in algebraic specification, for example, you can choose from 'initial model' and 'final model' semantics, with entire papers about the differences).  doctrines may help formalize what's going on, but I'm getting  more confused rather than less.  I've included some images from Baader/Nipkow that indicate whatever is going on is related to having infinitely many variables, and also an image of Mitchell talking about how "no junk, no confusion" in the initial model refers to ground terms (not open terms).  I'll keep thinking, but if anyone can explain this difference, please chime in.  the difference is even weirder in my mind when I consider the point-free form of the STLC, since that has no variables and so should be amendable to analysis from universal algebra.<br>
<a href="/user_uploads/21317/45A7bDPVjPlsl-JXQTA9nmW7/Screenshot-2025-07-05-at-5.03.03PM.png">Screenshot 2025-07-05 at 5.03.03 PM.png</a><br>
<a href="/user_uploads/21317/powVUTEkVoqZ2xD_s7ULfqHi/Screenshot-2025-07-05-at-5.02.56PM.png">Screenshot 2025-07-05 at 5.02.56 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/4_Me2iq2JEt98ysq3qOCmQo2/Screenshot-2025-07-05-at-4.39.55PM.png" title="Screenshot 2025-07-05 at 4.39.55 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1784x806" src="/user_uploads/thumbnail/21317/4_Me2iq2JEt98ysq3qOCmQo2/Screenshot-2025-07-05-at-4.39.55PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/B57R4zVfIKZAVbfPr7sERCam/Screenshot-2025-07-05-at-4.40.33PM.png" title="Screenshot 2025-07-05 at 4.40.33 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1776x742" src="/user_uploads/thumbnail/21317/B57R4zVfIKZAVbfPr7sERCam/Screenshot-2025-07-05-at-4.40.33PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/45A7bDPVjPlsl-JXQTA9nmW7/Screenshot-2025-07-05-at-5.03.03PM.png" title="Screenshot 2025-07-05 at 5.03.03 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1642x950" src="/user_uploads/thumbnail/21317/45A7bDPVjPlsl-JXQTA9nmW7/Screenshot-2025-07-05-at-5.03.03PM.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/powVUTEkVoqZ2xD_s7ULfqHi/Screenshot-2025-07-05-at-5.02.56PM.png" title="Screenshot 2025-07-05 at 5.02.56 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1602x1778" src="/user_uploads/thumbnail/21317/powVUTEkVoqZ2xD_s7ULfqHi/Screenshot-2025-07-05-at-5.02.56PM.png/840x560.webp"></a></div>



<a name="527312276"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312276" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312276">(Jul 06 2025 at 00:21)</a>:</h4>
<p>I think the remark in 3.5.8 means that b/c example 3.5.9 uses quantified equations, its ground term model may satisfy quantified equations that are not provable from the original equational theory (as the example shows), and that this is a general phenomenon - ground models of quantified equations will have many more (quantified) consequences than models with variables.  which is the "usual situation" where I grew up - ground term models of theories with variables.  but I get why this situation isn't fully satisfactory for all times, and why you'd want variables in your term model.</p>



<a name="527312436"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312436" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312436">(Jul 06 2025 at 00:25)</a>:</h4>
<p>Yes, we already discussed that -- BN's initial algebras are in a doctrine without contexts, while the "identities" they consider are in a nonempty context.</p>



<a name="527312513"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312513" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312513">(Jul 06 2025 at 00:27)</a>:</h4>
<p>never having used doctrines before, I have to work all this out in BN/mitchell terms, and I'm being very careful anticipating writing this up, thanks for sticking with me</p>



<a name="527312514"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312514" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312514">(Jul 06 2025 at 00:27)</a>:</h4>
<p>The thing about cardinality of variables is an extension of that: if instead of the initial algebra (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">X=\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">∅</span></span></span></span>) you consider the free algebra on a set of generators <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>, then any equation in a context of length <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mi mathvariant="normal">∣</mi><mi>X</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\le |X|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord">∣</span></span></span></span> can be instantiated using distinct generators for the variables, and since it's <em>free</em> on the generators it won't satisfy any such equations that don't follow from the theory even with contexts.</p>



<a name="527312569"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312569" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312569">(Jul 06 2025 at 00:29)</a>:</h4>
<p>this new set of messages is about how the term model of the STLC manages to avoid this phenomenon, b/c I thought you could encode the point-free version of STLC equationally</p>



<a name="527312583"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312583" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312583">(Jul 06 2025 at 00:30)</a>:</h4>
<p>By "point-free STLC" do you mean combinatory algebra?</p>



<a name="527312593"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312593" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312593">(Jul 06 2025 at 00:30)</a>:</h4>
<p>pretty much</p>



<a name="527312594"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312594" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312594">(Jul 06 2025 at 00:30)</a>:</h4>
<p>SKI stuff?</p>



<a name="527312607"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312607" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312607">(Jul 06 2025 at 00:30)</a>:</h4>
<p>that kind of thing, but more for the internal language of a CCC</p>



<a name="527312619"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312619" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312619">(Jul 06 2025 at 00:30)</a>:</h4>
<p>I'll go find a definition</p>



<a name="527312631"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312631" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312631">(Jul 06 2025 at 00:30)</a>:</h4>
<p>oh, think "curry-howard-lambeck", if that helps</p>



<a name="527312639"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312639" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312639">(Jul 06 2025 at 00:31)</a>:</h4>
<p>Not really for me.</p>



<a name="527312641"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312641" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312641">(Jul 06 2025 at 00:31)</a>:</h4>
<p>You can do typed combinatory algebra without any problem.</p>



<a name="527312651"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312651" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312651">(Jul 06 2025 at 00:31)</a>:</h4>
<p>if that's what you mean by "internal language of a CCC"</p>



<a name="527312696"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312696" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312696">(Jul 06 2025 at 00:32)</a>:</h4>
<p>E.g. exercise 2.8.2 of <a href="http://mikeshulman.github.io/catlog/catlog.pdf">my categorical logic notes</a></p>



<a name="527312698"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312698" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312698">(Jul 06 2025 at 00:32)</a>:</h4>
<p><a href="/user_uploads/21317/XmbNa1o0BHAWiy7W3Orp0GFe/Screenshot-2025-07-05-at-5.32.10PM.png">Screenshot 2025-07-05 at 5.32.10 PM.png</a><br>
this is for a BCCC and some other stuff, but it's the language with "curry" and "eval" etc - the original "categorical machine language", actually</p>
<div class="message_inline_image"><a href="/user_uploads/21317/XmbNa1o0BHAWiy7W3Orp0GFe/Screenshot-2025-07-05-at-5.32.10PM.png" title="Screenshot 2025-07-05 at 5.32.10 PM.png"><img data-original-content-type="image/png" data-original-dimensions="2004x334" src="/user_uploads/thumbnail/21317/XmbNa1o0BHAWiy7W3Orp0GFe/Screenshot-2025-07-05-at-5.32.10PM.png/840x560.webp"></a></div>



<a name="527312729"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312729" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312729">(Jul 06 2025 at 00:33)</a>:</h4>
<p>What I'd need to see to understand that is the typing judgments, not the raw terms.</p>



<a name="527312730"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312730" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312730">(Jul 06 2025 at 00:33)</a>:</h4>
<p><a href="/user_uploads/21317/STHs4bq_c6iOgwwA1mSS1U33/Screenshot-2025-07-05-at-5.33.24PM.png">Screenshot 2025-07-05 at 5.33.24 PM.png</a><br>
here's wikipedia's definition</p>
<div class="message_inline_image"><a href="/user_uploads/21317/STHs4bq_c6iOgwwA1mSS1U33/Screenshot-2025-07-05-at-5.33.24PM.png" title="Screenshot 2025-07-05 at 5.33.24 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1604x1296" src="/user_uploads/thumbnail/21317/STHs4bq_c6iOgwwA1mSS1U33/Screenshot-2025-07-05-at-5.33.24PM.png/840x560.webp"></a></div>



<a name="527312745"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312745" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312745">(Jul 06 2025 at 00:34)</a>:</h4>
<p>they are here<br>
<a href="https://en.wikipedia.org/wiki/Curry–Howard_correspondence#Curry–Howard–Lambek_correspondence">https://en.wikipedia.org/wiki/Curry–Howard_correspondence#Curry–Howard–Lambek_correspondence</a></p>



<a name="527312815"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527312815" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527312815">(Jul 06 2025 at 00:36)</a>:</h4>
<p>so specifically, assuming these "equations" are actually equations the sense of Baader Nipkow, I'm trying to compare its ground term model against the usual one for STLC that is sound/complete for beta/eta only</p>



<a name="527313009"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313009" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313009">(Jul 06 2025 at 00:41)</a>:</h4>
<p>They should be the same, since both present a free CCC.</p>



<a name="527313054"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313054" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313054">(Jul 06 2025 at 00:43)</a>:</h4>
<p>The analogue of the BN observation about "extra equations" would apply here to equations of the form <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mi>α</mi><mo>→</mo><mi>β</mi><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mi>γ</mi><mo>→</mo><mi>δ</mi><mo>⊢</mo><mi>M</mi><mo>=</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">x:\alpha\to\beta, y:\gamma\to\delta \vdash M=N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> in a context where you've assumed a couple of morphisms in the free CCC, which is not a statement in the variable-free doctrine of this theory.</p>



<a name="527313059"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313059" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313059">(Jul 06 2025 at 00:43)</a>:</h4>
<p>the ground term model of the equations suffers from the phenomenon that it will have quantified equations true in it that don't follow from the equations (according to BN 3.5.8 remark).  But the free CC is sound/complete for the equations.  that's the contradiction I don't understand</p>



<a name="527313095"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313095" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313095">(Jul 06 2025 at 00:44)</a>:</h4>
<p>If you pass that back to ordinary STLC with variables, you would get something like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>:</mo><mo stretchy="false">(</mo><mi>a</mi><mo>:</mo><mi>α</mi><mo>⊢</mo><mi>t</mi><mo>:</mo><mi>β</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo>:</mo><mo stretchy="false">(</mo><mi>c</mi><mo>:</mo><mi>γ</mi><mo>⊢</mo><mi>s</mi><mo>:</mo><mi>δ</mi><mo stretchy="false">)</mo><mo>⊢</mo><mi>M</mi><mo>=</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">x : (a:\alpha \vdash t:\beta), y : (c:\gamma \vdash s:\delta) \vdash M=N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>, which is also not in the doctrine of STLC since it quantifies not over internal variables but over judgments.</p>



<a name="527313105"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313105" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313105">(Jul 06 2025 at 00:44)</a>:</h4>
<p>And hence the term model isn't complete for equations of that form either.</p>



<a name="527313106"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313106" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313106">(Jul 06 2025 at 00:44)</a>:</h4>
<p>ok, I see now doctrines really are formalizing what's going on here</p>



<a name="527313116"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313116" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313116">(Jul 06 2025 at 00:45)</a>:</h4>
<p>er, I don't understand doctrines at all, but I understand "forms of syntax"</p>



<a name="527313221"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313221" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313221">(Jul 06 2025 at 00:47)</a>:</h4>
<p>what happens if we just roll with it.  like, are there "extra equations" that hold in the ground term model but not in the usual model?  I see how "extra equations" they can be consider ill-formed, but for other purposes, they are still well-formed.  like, they seem to have determine truth-values (being true or false in each model)?  I ask because to my understanding of "haskellers", for blog post purposes these extra equations may be part of "Haskell's term model"</p>



<a name="527313495"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527313495" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527313495">(Jul 06 2025 at 00:55)</a>:</h4>
<p><del>hm, I also don't understand why "passing back" does anything at all - the original equation with x and y seems like it is already an equation of ordinary STLC, but that may be because of lack of knowledge of doctrines.  in fact, conflating the two may be another common mistake to write about</del></p>



<a name="527315833"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527315833" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527315833">(Jul 06 2025 at 01:59)</a>:</h4>
<p>I don't know what you mean by distinguishing a "ground term model" from a "usual model".  Each theory in a given doctrine has a definite specific term model.</p>



<a name="527316031"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527316031" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527316031">(Jul 06 2025 at 02:03)</a>:</h4>
<p>By "the usual model", I mean the free CCC as defined in sec 7/8 of <a href="https://www.cl.cam.ac.uk/teaching/1617/L108/catl-notes.pdf">https://www.cl.cam.ac.uk/teaching/1617/L108/catl-notes.pdf</a> .  By "the ground term model", I mean the ground term model of the "lambeck" form of STLC (with curry, eval, etc) from wikipedia</p>



<a name="527316103"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527316103" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527316103">(Jul 06 2025 at 02:05)</a>:</h4>
<p>I'd like to find an example of an "extra equation" that holds in the ground term model that does not hold in the usual model, which I claim is possible since "quantification over judgements" is still  well-defined, if not internalized in the stlc</p>



<a name="527316332"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527316332" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527316332">(Jul 06 2025 at 02:11)</a>:</h4>
<p>I thought I just explained that those two models are the same.</p>



<a name="527316388"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527316388" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527316388">(Jul 06 2025 at 02:13)</a>:</h4>
<p>Each of them satisfies internally exactly the equations in their doctrine that are derivable from the theory, and each of them can satisfy additional equations that are not in the doctrine.  The difference is that one of them has an "internal" notion of "variable" while the other is formulated without such, but there is still a bijection between the "internal" equations on both sides and also a bijection between the "external" equations on both sides.</p>



<a name="527316512"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527316512" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527316512">(Jul 06 2025 at 02:17)</a>:</h4>
<p>if "each of them can satisfy additional equations that are not in the doctrine", then what is an example equation, not in the doctrine, that one satisfies that the other doesn't (that's my previous question), or must they satisfy the same set of equations not in the doctrine?</p>



<a name="527317306"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317306" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317306">(Jul 06 2025 at 02:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527312513">said</a>:</p>
<blockquote>
<p>never having used doctrines before, </p>
</blockquote>
<p>This sounds a bit off because doctrines aren't mainly a technical device one "uses" in a problem like this - e.g., people have argued for many years about the correct definition of doctrine, but that doesn't stop anyone from talking about doctrines, because they mainly serve as a way of thinking that keeps one from getting confused.     In this particular case Mike seems to keeps using them to say roughly "the stuff you do when you do logic with contexts is different from the stuff you do in logic without contexts, so just because something is initial when you're working without contexts, doesn't mean some similar-looking thing is gonna be initial when you're working with contexts".    See, I said that without saying "doctrines", but Mike said it faster by saying the word "doctrines".</p>
<p>I don't understand what you guys are talking about, except for the part about how you gotta be careful which doctrine you're working in.   It's a very general point, like how you can't say an object is initial until you've made up your mind what category it's an object in.</p>



<a name="527317630"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317630" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317630">(Jul 06 2025 at 02:46)</a>:</h4>
<p>I think we're making progress, if testing Mike's patience.  At present, there's two models of the simply typed lambda calculus we're trying to compare, one defined as the ground term model (in Baader Nipkow sense) of the "lambeck equations"  as defined in wikipedia, the other being the free cartesian closed category as usual.  These are so similar that teasing them apart (if they can be teased apart at all) may require what we've been calling "extra equations", which as I understand it can be formalized using doctrines</p>



<a name="527317639"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317639" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317639">(Jul 06 2025 at 02:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527316512">said</a>:</p>
<blockquote>
<p>if "each of them can satisfy additional equations that are not in the doctrine", then what is an example equation, not in the doctrine, that one satisfies that the other doesn't (that's my previous question), or must they satisfy the same set of equations not in the doctrine?</p>
</blockquote>
<p>They must satisfy the same set of equations not in the doctrine because <em>they are the same object</em>.</p>



<a name="527317664"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317664" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317664">(Jul 06 2025 at 02:46)</a>:</h4>
<p>heh, that would explain why I can't come up with an example myself and had to ask...</p>



<a name="527317778"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317778" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317778">(Jul 06 2025 at 02:50)</a>:</h4>
<p>So you see, "teasing them apart" is mainly about teasing apart the two doctrines.  So you gotta listen when people talk about doctrines, even if they never say exactly what a doctrine is in full generality (since nobody knows, although maybe Mike does).</p>



<a name="527317779"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317779" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317779">(Jul 06 2025 at 02:50)</a>:</h4>
<p>I take the absence of an example here to mean that although a ground term model (in the BN sense) may satisfy extra equations, it doesn't have to, or any that it does are already true in the free CCC (which is I think is the case here, any "extra theorems" in the ground term model are true in the free CCC, following from the free CCCs initiality)</p>



<a name="527317828"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317828" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317828">(Jul 06 2025 at 02:51)</a>:</h4>
<p>Is there a guy named Lambeck in addition to the famous guy named Lambek, or is this some joke about Lambek and Beck?</p>



<a name="527317833"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317833" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317833">(Jul 06 2025 at 02:52)</a>:</h4>
<p>it's the famous guy</p>



<a name="527317842"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317842" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317842">(Jul 06 2025 at 02:52)</a>:</h4>
<p>I'm a terrible speller</p>



<a name="527317848"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527317848" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527317848">(Jul 06 2025 at 02:52)</a>:</h4>
<p>Okay: he's called Lambek.</p>



<a name="527318003"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527318003" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527318003">(Jul 06 2025 at 02:56)</a>:</h4>
<p>fwiw, it sounds like much of the field of "algebraic specification", where you study the "extra equations" that arise in the ground term model of an equational theory, can be explained in doctrinal terms.  there may be two blog posts here, one on folklore about system F and one about how doctrines relate to old school algebraic specification</p>



<a name="527319326"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527319326" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527319326">(Jul 06 2025 at 03:30)</a>:</h4>
<p>bearing with me as I apply all of what happened today to the original questions about system F, I now conclude 1) Reynolds parametricity implies Q~Cont(Q) , and 2) the term model of system F is not reynolds-parametric (any "extra equations" from today can't "conspire to make it so", as was my original concern).  I'd still like to find citations/proofs for these though.  anyway, I have no further questions for now and will go back to writing.</p>



<a name="527321184"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527321184" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527321184">(Jul 06 2025 at 04:17)</a>:</h4>
<p>I agree if instead of "parametric" you say <em>internally</em> parametric.  I maintain the term model is <em>externally</em> parametric by the usual argument.</p>



<a name="527321343"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527321343" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527321343">(Jul 06 2025 at 04:22)</a>:</h4>
<p>hm, I mean parametric in the sense of the HRR conclusion.  I think they must have meant "internal" too, in which case they are saying its a failure of the externally parametric term model to be internally parametric, which squares with what we saw earlier with bridge discreteness etc.  When put that way it doesn't seem surprising to me anymore</p>



<a name="527324337"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527324337" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527324337">(Jul 06 2025 at 05:26)</a>:</h4>
<p>checking my understanding again: the plotkin-abadi identity extension lemma implies equality of two variables (rather than closed terms); therefore, the plotkin-abadi logic is axiomatizing internal parametricity.  Nevermind: this was confirmed earlier in the thread</p>



<a name="527329640"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527329640" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527329640">(Jul 06 2025 at 07:33)</a>:</h4>
<p>Ok, I've summarized my conclusions from this thread into the following list; some entries are sanity checks and some go against folklore, but all should be correct.  the blog post will refer to many or most of these propositions.   I don't have any more questions, and appreciate everyone's patience.</p>
<div class="codehilite"><pre><span></span><code>1) external parametricity does not imply q ~ cont q (evan,mike)

2) internal parametricity implies q ~ cont q (evan,mike)

3) internal parametricity implies c ~ cont c for every closed type c  (b/c closed types are bridge discrete) (evan,mike)

4) internal parametricity doesnt imply a ~ cont a for variable a (internal parametricity of forall a, forall r, ((a-&gt;r)-&gt;r) does not help (mike); need bridge discreteness for a variable) (evan,mike)

5) system F term model is external but not internal parametric (HRR)

6) models of reynolds-abadi logic are internally parametric (mike)

7) external parametricity implies forall x, x -&gt; x has one inhabitant (need reference)

8) the term model for system F is sound and complete for beta and eta (mike), same as with STLC (course notes)

9) &quot;extra equations&quot; (in the sense of BN) in the ground term model of the Lambek equational theory from wikipedia are meta-theoretic (not theoretic) statements about the free CCC that follow from initiality

10) extensional PER models are internally parametric (not 100% sure about this one / need reference)

11) in the early 90s many authors required models of system F to be extensional, a property they always expressed semantically (and different than eta) (tannen)

12) in the early 90s many authors distinguished between &quot;open&quot; and &quot;closed&quot; term models of system F for extensionality reasons, but &quot;open&quot; and &quot;closed&quot; may have unusual meanings in these papers (mike)

13) not all polymorphic functions in system F define natural transformations on definable functors (since not all type constructors are functorial, e.g. X |-&gt; X-&gt;X) (reddy)

14) all polymorphic functions between (definable) functors are natural transformations in an internally parametric model, but not an externally parametric model (b/c q not iso to Cont q; need reference)

15) initial algebras and final coalgebras for positive defineable functors exist in an internally parametric model of system F (wadler)

16) eta implies a kind of function extensionality in system F (mike, mitchell)

17) in system F, both internal and external parametricity are meta-theoretic properties

18) internal parametricity (conclusions hold in all contexts) implies external parametricity (conclusions hold in empty contexts) for system F
</code></pre></div>



<a name="527356653"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527356653" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527356653">(Jul 06 2025 at 16:15)</a>:</h4>
<p>Can you reformat that post please so the text will wrap?</p>



<a name="527376621"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527376621" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Madeleine Birchfield <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527376621">(Jul 06 2025 at 22:14)</a>:</h4>
<ol>
<li>external parametricity does not imply q ~ cont q (evan,mike)</li>
<li>internal parametricity implies q ~ cont q (evan,mike)</li>
<li>internal parametricity implies c ~ cont c for every closed type c  (b/c closed types are bridge discrete) (evan,mike)</li>
<li>internal parametricity doesnt imply a ~ cont a for variable a (internal parametricity of forall a, forall r, ((a-&gt;r)-&gt;r) does not help (mike); need bridge discreteness for a variable) (evan,mike)</li>
<li>system F term model is external but not internal parametric (HRR)</li>
<li>models of reynolds-abadi logic are internally parametric (mike)</li>
<li>external parametricity implies forall x, x -&gt; x has one inhabitant (need reference)</li>
<li>the term model for system F is sound and complete for beta and eta (mike), same as with STLC (course notes)</li>
<li>"extra equations" (in the sense of BN) in the ground term model of the Lambek equational theory from wikipedia are meta-theoretic (not theoretic) statements about the free CCC that follow from initiality</li>
<li>extensional PER models are internally parametric (not 100% sure about this one / need reference)</li>
<li>in the early 90s many authors required models of system F to be extensional, a property they always expressed semantically (and different than eta) (tannen)</li>
<li>in the early 90s many authors distinguished between "open" and "closed" term models of system F for extensionality reasons, but "open" and "closed" may have unusual meanings in these papers (mike)</li>
<li>not all polymorphic functions in system F define natural transformations on definable functors (since not all type constructors are functorial, e.g. X |-&gt; X-&gt;X) (reddy)</li>
<li>all polymorphic functions between (definable) functors are natural transformations in an internally parametric model, but not an externally parametric model (b/c q not iso to Cont q; need reference)</li>
<li>initial algebras and final coalgebras for positive defineable functors exist in an internally parametric model of system F (wadler)</li>
<li>eta implies a kind of function extensionality in system F (mike, mitchell)</li>
<li>in system F, both internal and external parametricity are meta-theoretic properties</li>
<li>internal parametricity (conclusions hold in all contexts) implies external parametricity (conclusions hold in empty contexts) for system F</li>
</ol>



<a name="527378591"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527378591" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527378591">(Jul 06 2025 at 22:57)</a>:</h4>
<p>Thanks!  That's mostly right, but I have a few questions and quibbles.</p>
<p>(3) certainly depends on what theory we're talking about.  It's not true in internally parametric dependent type theory, for instance, because universes are closed and not bridge-discrete.  Evan showed essentially that all closed types in the first universe are bridge-discrete, which would imply that in a simple <em>predicative</em> type theory without universes all closed types are bridge-discrete; but his proof doesn't treat an impredicative universe or <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi></mrow><annotation encoding="application/x-tex">\forall</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∀</span></span></span></span>, so it's not clear to me at the moment whether all closed types in System F are bridge-discrete.</p>
<p>(7) I would say "one <em>closed</em> inhabitant".</p>
<p>(14) This depends on (3) (since automatic naturality for transfomations Reader-&gt;Id implies a ~ cont a), so it also varies with the theory, is false (or at least probably not true) for dependent type theory, and is unclear to me whether it's true for System F.</p>
<p>(16) What are you referring to here?</p>
<p>(17) I'm not sure what you mean by this for internal parametricity.  Normally I think of internal parametricity as a built-in part of a theory, not a metatheoretic statement about it, hence the "internal".</p>



<a name="527388711"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527388711" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527388711">(Jul 07 2025 at 02:04)</a>:</h4>
<p>thanks Madeleine! and Mike!</p>



<a name="527388921"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527388921" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527388921">(Jul 07 2025 at 02:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527378591">said</a>:</p>
<blockquote>
<p>it's not clear to me at the moment whether all closed types in System F are bridge-discrete</p>
</blockquote>
<p>Hmm, although it's possible this is a consequence of the Reynolds-Abadi logic?</p>



<a name="527388995"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527388995" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527388995">(Jul 07 2025 at 02:09)</a>:</h4>
<p>re: 3) I meant system F, so it's good to note your uncertainty.  I'm not sure if bridge discreteness follows from internal parametricity as formulated by Reynolds abadi (or anyone else), and regard 3) as key to settling.</p>



<a name="527389027"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527389027" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527389027">(Jul 07 2025 at 02:09)</a>:</h4>
<p>understood re: 7) I agree</p>



<a name="527389086"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527389086" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527389086">(Jul 07 2025 at 02:10)</a>:</h4>
<p>re 14) I might have seen a reference, I'll try to track that down</p>



<a name="527389245"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527389245" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527389245">(Jul 07 2025 at 02:13)</a>:</h4>
<p>re: 16, I'm used to distinguishing eta from function extensionality due to working in Coq so much.  I've never seen fun-ext follow from eta.  So I was surprised to learn that (x |- f x = g x -&gt; |- f = g) follows from eta in System F, even though it's due to issues with having a type of propositions, etc.  Mitchell gives the same argument about this that you did earlier.</p>



<a name="527389724"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527389724" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527389724">(Jul 07 2025 at 02:21)</a>:</h4>
<p>for 17) I'm using "internal and external in the sense of 18).  But I agree there's another meaning of internal and external meaning that internally you can have a Prop stating that e.g. function extensionality is true which is distinct from it being true externally.  I tried to use "definable" instead of "internal" in this bullet list to avoid ambiguity in this specific sense.  What I meant by the question was that  it seems like people need to build a logic on top of system F (a la plotkin abadi), rather than say add a bunch of 'free theorems' to system F, to capture parametricity.  I was trying to confirm you have to do more than just add (infinitely many) equations to the theory of system F to capture internal parametricity.</p>



<a name="527404516"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527404516" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527404516">(Jul 07 2025 at 05:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527389245">said</a>:</p>
<blockquote>
<p>I've never seen fun-ext follow from eta.  So I was surprised to learn that (x |- f x = g x -&gt; |- f = g) follows from eta in System F,</p>
</blockquote>
<p>As I said before, if <code>=</code> means definitional equality, then that rule <em>is not funext</em>.  It is not even a "kind" of funext, unless you want to call eta itself "a kind of funext", because this rule is <em>equivalent</em> to eta.</p>



<a name="527404684"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527404684" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527404684">(Jul 07 2025 at 05:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527389724">said</a>:</p>
<blockquote>
<p>for 17) I'm using "internal and external in the sense of 18)</p>
</blockquote>
<p>Actually I don't know what you meant by it in (18).  What are "conclusions"?</p>



<a name="527404876"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527404876" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527404876">(Jul 07 2025 at 06:00)</a>:</h4>
<p>I'm not even sure what you mean by "parametricity" in (17-18).  What I mean by "external parametricity" is that there's a translation on syntax transforming every closed type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> to a relation on its closed terms, defined in the usual way, such that every closed term is related to itself.  What I mean by "internal parametricity" is that the syntax <em>contains</em> an operation mapping every type to a relation on itself, defined in the usual way, such that every term is related to itself.</p>



<a name="527493425"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527493425" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathanael Arkor <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527493425">(Jul 07 2025 at 14:32)</a>:</h4>
<p>I've not been following this discussion so closely, but it seems like Abadi, Cardelli, and Curien's work on <a href="https://www.sciencedirect.com/science/article/pii/0304397593900825">Formal Parametric Polymorphism</a> may be related, as they give a calculus extending System F in which certain parametricity results are provable internally.</p>



<a name="527516637"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527516637" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527516637">(Jul 07 2025 at 16:30)</a>:</h4>
<p>Thanks.  That looks similar to the Plotkin-Abadi logic we've been discussing; in fact I'm not sure what the difference is.  They cite the Plotkin-Abadi paper in the last sentence but it's not clear to me what they're saying about it.</p>
<p>I think I would classify both of them as a way to add "internal parametricity" to System F.  (Full internal parametricity requires a dependent type theory.)  But I could be misunderstanding something about one or both.</p>



<a name="527529347"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527529347" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527529347">(Jul 07 2025 at 17:55)</a>:</h4>
<p>I got the internal/external parametricity distinction (applies in all contexts vs applies in empty context) from here: <a href="https://ncatlab.org/nlab/show/parametric+dependent+type+theory">https://ncatlab.org/nlab/show/parametric+dependent+type+theory</a> .  Without a type of propositions, I'm not even sure how system F could "internalize" (mike's sense) parametricity (besides an axiom schema of 'free theorems').</p>



<a name="527529991"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527529991" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527529991">(Jul 07 2025 at 17:58)</a>:</h4>
<p>internal vs external in the sense of that ncatlab page seemed relevant, since a ~ CPS a when a is a variable has different properties than c ~ CPS c when c is a closed term</p>



<a name="527533516"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527533516" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527533516">(Jul 07 2025 at 18:16)</a>:</h4>
<p>The distinction is correct, but the "thing" that applies in contexts or not is not the conclusions, but the parametricity operator that takes types to relations and terms to witnesses of relations.</p>
<p>Also that nLab page is only about forms of parametricity that are inside the theory:</p>
<blockquote>
<p>Parametric dependent type theory is dependent type theory with an explicit notion of parametricity inside of the theory itself</p>
</blockquote>
<p>In particular, as it says, it uses "external parametricity" for "explicit external parametricity", which is different from the meta-theoretic external parametricity of Reynolds:</p>
<blockquote>
<p>In the rest of this article, we shall follow the terminology of the Narya documentation and use external parametricity for explicit external parametricity. To disambiguate, we shall use meta-theoretic parametricity for the traditional meta-theoretic notion of external parametricity.</p>
</blockquote>
<p>Basically all constructive type theories satisfy <em>meta-theoretic</em> external parametricity.  But I don't know what "meta-theoretic internal parametricity" would even mean.</p>
<p>Explicit parametricity is indeed harder to make sense of in a non-dependent type theory, but I thought that's what the Plotkin-Abadi and Abadi-Cardelli-Curien logics were trying to do.</p>



<a name="527534395"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527534395" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527534395">(Jul 07 2025 at 18:21)</a>:</h4>
<p>I figured "meta-theoretic internal parametricity" meant a parametricity result that also applies to open terms.  at least, that's how I used internal/external in the list of items.  if that's not a germane distinction for system F, I'll need to re-think the list</p>



<a name="527535167"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527535167" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527535167">(Jul 07 2025 at 18:25)</a>:</h4>
<p>If you can point to a paper that does something you would describe as "meta-theoretic internal parametricity", I'd be interested.  Otherwise, let's not use that phrase.</p>
<p>Note that ordinary meta-theoretic external parametricity does do <em>something</em> with open terms, as it essentially must in order to give a proof by induction over syntax in a theory with variable binding.  Namely, it shows that open terms map related values for their free variables to related outputs, just like abstracted functions.</p>



<a name="527536113"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527536113" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527536113">(Jul 07 2025 at 18:30)</a>:</h4>
<p>In my ignorance I'd point at that automated free theorem generator website from a week ago as something that distinguishes closed vs open terms in a parametricity result : it could generate a free theorem for "forall a, forall x, (a-&gt;x)-&gt;x", but not for "forall x, (a-&gt;x)-&gt;x" with a left a type variable.  could just be a limitation of the tooling however, or a meaningless distinction (which I suppose it must be)</p>



<a name="527536646"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527536646" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527536646">(Jul 07 2025 at 18:33)</a>:</h4>
<p>to make progress, I need to figure out what to replace "internal" and "external" with in each item of the list... so that's what I'll be doing next</p>



<a name="527538203"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527538203" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527538203">(Jul 07 2025 at 18:40)</a>:</h4>
<p>I didn't say there is no distinction.</p>



<a name="527539150"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527539150" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527539150">(Jul 07 2025 at 18:45)</a>:</h4>
<p>fair enough, then in that case the question is, do the distinctions (exclusively) explain any of the phenomena on that list, like I erroneously thought they did, and if they don't, what does... so that's what I'll be thinking through, item by item</p>



<a name="527539175"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527539175" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527539175">(Jul 07 2025 at 18:45)</a>:</h4>
<p>But if you apply meta-theoretic external parametricity to an open type, you get an open type that depends on relations corresponding to the free variables.  Which is basically the same as if you abstracted over the free variables with forall, applied the "closed term" translation, and then peeled off the corresponding abstractions.  So in that sense, the "open terms" translation that's part of external parametricity carries no new information, so it makes sense that the free theorem generator doesn't deal with it.  I was just making the point that in order for the induction to go through, the open terms have to be dealt with at some point.</p>



<a name="527539455"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527539455" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527539455">(Jul 07 2025 at 18:46)</a>:</h4>
<p>side note: I don't always get indications that you're typing, mike.   must be a weird intermittent glitch.  I didn't mean to interrupt</p>



<a name="527539714"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527539714" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527539714">(Jul 07 2025 at 18:48)</a>:</h4>
<p>No worries, I don't believe in typing notifications anyway.</p>



<a name="527540222"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527540222" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527540222">(Jul 07 2025 at 18:51)</a>:</h4>
<p>I don't know if you're as wrong as you seem to think.  Most of the places on that list where you distinguished external and internal parametricity seemed correct to me with the meaning of "internal parametricity" that I'm most familiar with, namely explicit internal parametricity in a dependent type theory.</p>



<a name="527540454"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527540454" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527540454">(Jul 07 2025 at 18:53)</a>:</h4>
<p>I think the main thing that I don't understand yet is how the Plotkin-Abadi and Abadi-Cardelli-Curien theories are related to each other and to explicitly internally parametric dependent type theory.  In particular, to what extent does my intuition for the latter carry over to them.</p>



<a name="527540519"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527540519" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527540519">(Jul 07 2025 at 18:53)</a>:</h4>
<p>I think a good answer to this question should resolve most of the open issues on your list.</p>



<a name="527540969"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527540969" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527540969">(Jul 07 2025 at 18:56)</a>:</h4>
<p>that's good to know - and I use Coq a lot more than system F - but I am also fixated on answering these for system F to get at "haskell" folklore for blogging reasons.  that being said, I'm thinking of starting with a blog post that just compares the folklore that "the term model of STLC is sound/complete for beta/eta" with folklore that "equational specifications (lists, trees, etc) are studied by their inductive theories", because I think the subtleties of doctrine involved here are often under-stated even in textbooks that use both frameworks (such as Mitchell's)</p>



<a name="527542303"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527542303" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527542303">(Jul 07 2025 at 19:03)</a>:</h4>
<p>That does also seem worthwhile!</p>



<a name="527636418"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527636418" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527636418">(Jul 08 2025 at 09:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527533516">said</a>:</p>
<blockquote>
<p>Basically all constructive type theories satisfy <em>meta-theoretic</em> external parametricity. But I don't know what "meta-theoretic internal parametricity" would even mean.</p>
</blockquote>
<p>constructive type theories can have parametricity-breaking primitives</p>



<a name="527696295"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527696295" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Madeleine Birchfield <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527696295">(Jul 08 2025 at 13:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527636418">said</a>:</p>
<blockquote>
<p>constructive type theories can have parametricity-breaking primitives</p>
</blockquote>
<p>What's an example of a dependent type theory with a primitive that breaks Reynolds external parametricity?</p>



<a name="527701462"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527701462" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527701462">(Jul 08 2025 at 14:14)</a>:</h4>
<p>onlookers will start thinking i'm a one trick pony but typecase is enough</p>



<a name="527701560"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527701560" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527701560">(Jul 08 2025 at 14:15)</a>:</h4>
<p>you don't even need internal injectivity of type constructors</p>



<a name="527702956"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527702956" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527702956">(Jul 08 2025 at 14:21)</a>:</h4>
<p>i'd love to go back to the original question though, as there's definitely a flavor of getting first order information back out of higher order in SQC: an example is being able to derive <code>((x = 0) → ⊥) → x invertible</code></p>



<a name="527704073"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527704073" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527704073">(Jul 08 2025 at 14:25)</a>:</h4>
<p>morally a proof of <code>(x = 0) → ⊥</code> has to go through some proof that <code>(0 = 1)</code>, but in that case you do know that <code>1 = x*i</code> in the current stage</p>



<a name="527717249"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527717249" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527717249">(Jul 08 2025 at 15:19)</a>:</h4>
<p>Hmm, interesting.  I'm used to thinking of constructivity as the condition ensuring that a theory has a good initial algebra semantics with a gluing construction, which generally implies parametricity as well as canonicity and (with some extra work) normalization.  Typecase doesn't really fit well into my mental models.  How do you prove canonicity and normalization for a theory with typecase?</p>



<a name="527717278"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527717278" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527717278">(Jul 08 2025 at 15:19)</a>:</h4>
<p>And can you tell me again what SQC is?</p>



<a name="527723234"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527723234" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527723234">(Jul 08 2025 at 15:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527717249">said</a>:</p>
<blockquote>
<p>Hmm, interesting.  I'm used to thinking of constructivity as the condition ensuring that a theory has a good initial algebra semantics with a gluing construction, which generally implies parametricity as well as canonicity and (with some extra work) normalization.  Typecase doesn't really fit well into my mental models.  How do you prove canonicity and normalization for a theory with typecase?</p>
</blockquote>
<p>When you're doing a normalization model for a type theory, you have 2 choices for the interpretation of the universe (and that of the type judgments): positive or negative. The negative version is what you have in mind: a record of abstract relations that verify the minimal interface wrt. neutrals and normal forms. The positive version instead asserts that you already know all types, here are all the codes, and when you need the relation on terms you have a decoding function.</p>



<a name="527723386"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527723386" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527723386">(Jul 08 2025 at 15:49)</a>:</h4>
<p>so the negative model lets you prove parametricity results because you can feed it external relations, but the positive model supports typecase</p>



<a name="527730900"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527730900" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527730900">(Jul 08 2025 at 16:18)</a>:</h4>
<p>Interesting.  So is typecase the "only" constructive alternative to parametricity then?  Can you cite some references that prove canonicity/normalization with typecase?</p>



<a name="527733082"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527733082" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527733082">(Jul 08 2025 at 16:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527730900">said</a>:</p>
<blockquote>
<p>So is typecase the "only" constructive alternative to parametricity then?</p>
</blockquote>
<p>I don't think there's a way to formalize this sentence, but intuitively I don't know of any other way to formalize types: it's either of an inductive type of codes or a negative record</p>



<a name="527733223"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527733223" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527733223">(Jul 08 2025 at 16:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527730900">said</a>:</p>
<blockquote>
<p>Can you cite some references that prove canonicity/normalization with typecase?</p>
</blockquote>
<p>not that i know of (but i haven't looked into it too hard) but it seems pretty straightforward to add to any formalization that uses the positive interpretation</p>



<a name="527733672"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527733672" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527733672">(Jul 08 2025 at 16:34)</a>:</h4>
<p>Can you cite a reference that uses the positive interpretation then?</p>



<a name="527734153"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527734153" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527734153">(Jul 08 2025 at 16:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527733082">said</a>:</p>
<blockquote>
<p>I don't know of any other way to formalize types: it's either of an inductive type of codes or a negative record</p>
</blockquote>
<p>It's interesting that there are multiple ways to construct a universe semantically.  That isn't the case for any other type constructors that I know of, because they all have a universal property and hence are uniquely determined up to isomorphism.  I guess these two approaches correspond basically to choosing a "handedness" of universal property to give to the universe semantically.  And if you try to incarnate those universal properties syntactically, then on the one hand you get typecase, and I guess on the other hand you get... univalence?</p>



<a name="527736734"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527736734" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527736734">(Jul 08 2025 at 16:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527733672">said</a>:</p>
<blockquote>
<p>Can you cite a reference that uses the positive interpretation then?</p>
</blockquote>
<p>All formalizations of logical relation arguments for dependent type theory that I know use it: <a href="https://github.com/CoqHott/logrel-coq/blob/coq-8.20/theories/LogicalRelation/Definition/Def.v">LogRel-Coq</a> is an example ofc (or <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L386">LogRel-MLTT</a> if Agda is more your cup of tea)</p>



<a name="527736876"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527736876" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527736876">(Jul 08 2025 at 16:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527734153">said</a>:</p>
<blockquote>
<p>and I guess on the other hand you get... univalence?</p>
</blockquote>
<p>isn't parametricity finer than univalence already?</p>



<a name="527738017"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527738017" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527738017">(Jul 08 2025 at 16:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527736876">said</a>:</p>
<blockquote>
<p>isn't parametricity finer than univalence already?</p>
</blockquote>
<p>What do you mean by "finer"?  Neither implies the other, certainly.</p>
<p>Internal parametricity is certainly inspired by a negative view of the universe, but it isn't a universal property.  Univalence is basically a universal property, it says that the universe is a classifying space.</p>



<a name="527738251"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527738251" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527738251">(Jul 08 2025 at 17:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527738017">said</a>:</p>
<blockquote>
<p>What do you mean by "finer"?</p>
</blockquote>
<p>I didn't see that you were talking about <em>internalizing</em> it, sorry.</p>



<a name="527738951"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527738951" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527738951">(Jul 08 2025 at 17:04)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527736734">said</a>:</p>
<blockquote>
<p>All formalizations of logical relation arguments for dependent type theory that I know use it: <a href="https://github.com/CoqHott/logrel-coq/blob/coq-8.20/theories/LogicalRelation/Definition/Def.v">LogRel-Coq</a> is an example ofc (or <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L386">LogRel-MLTT</a> if Agda is more your cup of tea)</p>
</blockquote>
<p>Umm... hang on.  Maybe I'm misreading that code, but it looks to me like just the usual inductive definition of logical relations over types.  That's different from <em>interpreting the universe as</em> an inductive type in the model.</p>
<p>Maybe I don't know the right words to say syntactically to make this point.  Categorically, the way these arguments work is that you have a syntactic category which is initial among categories with some structure.  You consider some canonical map out of it, like the global sections functor if you're proving canonicity, and then you take the comma category over that functor to make a "glued" category living over the syntactic category, whose objects are "types equipped with a logical relation" or something.  You prove that the glued category has the same structure as the syntactic category, and then you observe that since the syntactic category is initial, there's a section of the projection down to it from the glued category, where the section assigns to each type its logical relation.</p>
<p>It looks to me like what you pointed to is talking about the definition of the section.  This is always inductive over types (i.e. objects of the syntactic category) because the syntactic category is always initial, never terminal.  But I thought we were talking about defining the "universe object" <em>in</em> the glued category, whether it has a positive or a negative universal property as an <em>object</em> of that category.</p>



<a name="527745087"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527745087" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527745087">(Jul 08 2025 at 17:41)</a>:</h4>
<p>36 messages were moved from this topic to <a class="stream-topic" data-stream-id="229199" href="/#narrow/channel/229199-learning.3A-questions/topic/universal.20properties.20for.20positive.20types/with/527737174">#learning: questions &gt; universal properties for positive types</a> by <span class="user-mention silent" data-user-id="276777">Mike Shulman</span>.</p>



<a name="527841846"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527841846" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527841846">(Jul 09 2025 at 09:07)</a>:</h4>
<p>so in that Agda code (and also the Rocq one) there's a bit of indirection, but if you look at the <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L251">reducibility predicate at the universe</a>, it uses the type reducibility predicate of the lower level (the definition here is quantified over a so-called <code>LogRelKit</code> of lower levels), which is itself obtained by the definition I linked to before</p>



<a name="527842202"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527842202" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527842202">(Jul 09 2025 at 09:09)</a>:</h4>
<p>also, this is not the definition of the section: the section is usually called the "fundamental theorem" and is in fact defined in <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation/Fundamental.agda#L36">Fundamental</a></p>



<a name="527843531"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527843531" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527843531">(Jul 09 2025 at 09:16)</a>:</h4>
<p>i'm a bit more used to the categorical gluing argument à la STC for dependent type theories, and in that formalism you're basically considering two different definitions for the dependent presheaf over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ρ</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>T</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> ρ^*(Ty) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi></mrow><annotation encoding="application/x-tex"> ρ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ρ</span></span></span></span> is what Jon calls a <em>figure shape</em></p>



<a name="527843668"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527843668" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527843668">(Jul 09 2025 at 09:16)</a>:</h4>
<p>(and where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>y</mi></mrow><annotation encoding="application/x-tex"> Ty </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> is the presheaf over the syntactic category of contexts of syntactic types)</p>



<a name="527843873"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527843873" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527843873">(Jul 09 2025 at 09:17)</a>:</h4>
<p>you can do the same for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>ρ</mi><mo>∗</mo></msup><mo stretchy="false">(</mo><mi>T</mi><mi>m</mi><mi>U</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> ρ^*(Tm U) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">ρ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">m</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span></span></span></span> of course</p>



<a name="527888046"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527888046" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527888046">(Jul 09 2025 at 13:25)</a>:</h4>
<p>wrt. SQC, it's the axiom that internally to the zariski topos, the canonical map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mo stretchy="false">(</mo><msub><mrow><mi mathvariant="normal">H</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">m</mi></mrow><mrow><mi>f</mi><mi>p</mi></mrow></msub><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>R</mi><mo stretchy="false">)</mo><mo>→</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> A → (\mathrm{Hom}_{fp}(A,R) → R) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">Hom</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span> is invertible for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex"> A </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> a finitely presented <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex"> R </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>-algebra</p>



<a name="527927826"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527927826" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527927826">(Jul 09 2025 at 16:42)</a>:</h4>
<p>Ah, SQC = Synthetic Quasi-Coherence -- I know it when it's spelled out.  (-:</p>



<a name="527928050"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/527928050" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#527928050">(Jul 09 2025 at 16:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527841846">said</a>:</p>
<blockquote>
<p>so in that Agda code (and also the Rocq one) there's a bit of indirection, but if you look at the <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L251">reducibility predicate at the universe</a>, it uses the type reducibility predicate of the lower level (the definition here is quantified over a so-called <code>LogRelKit</code> of lower levels), which is itself obtained by the definition I linked to before</p>
</blockquote>
<p>Hmm, isn't <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L239">_⊩¹U</a> the reducibility predicate on the universe?  I thought <code>_⊩¹U_∷U/_</code> would be the proof that all terms <em>in</em> the universe are reducible.  Am I reading that code wrong?</p>



<a name="528119880"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528119880" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ignat Insarov <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528119880">(Jul 10 2025 at 16:25)</a>:</h4>
<p>What is the minimal background or summary needed to understand this conversation? I want to understand if parametric functions have free theorems attached or not. I tried reading articles of John Reynolds and Philip Wadler, but I was not able to follow them all the way. Now it seems they were wrong?</p>
<p>I can see that a term of type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>→</mo><mi>x</mi><mo stretchy="false">)</mo><mo>→</mo><mo stretchy="false">(</mo><mi>x</mi><mo>→</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">∀ x. (x → x) → (x → x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> does not denote a natural transformation because the type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>x</mi><mo>→</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">∀x. (x → x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>  does not denote a functor. That about sums up what I understood from scrolling through this conversation. I want to understand more but I am dazzled by the expanse of techniques deployed.</p>
<p>If anyone is writing an explanation of this issue, I can be a good representative of general audience and help make it accessible!</p>



<a name="528121884"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528121884" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528121884">(Jul 10 2025 at 16:37)</a>:</h4>
<p>the place I'm stuck is finding a complete proof that Reynolds parametricity for system f does or does not imply c ~ CPS c for all closed types c.</p>



<a name="528122136"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528122136" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528122136">(Jul 10 2025 at 16:38)</a>:</h4>
<p>Perhaps try asking somewhere like <a href="http://cs.stackexchange.com">cs.stackexchange.com</a>?</p>



<a name="528122290"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528122290" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528122290">(Jul 10 2025 at 16:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="583446">Ignat Insarov</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528119880">said</a>:</p>
<blockquote>
<p>Now it seems they were wrong?</p>
</blockquote>
<p>I don't think <em>they</em> were wrong.  I think our conclusion is more that some people (particularly in the Haskell community) have interpreted their results to say more than they actually do.</p>



<a name="528122459"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528122459" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ignat Insarov <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528122459">(Jul 10 2025 at 16:40)</a>:</h4>
<p>I might be one of those people, and I do want to straighten my ways.</p>



<a name="528122598"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528122598" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528122598">(Jul 10 2025 at 16:41)</a>:</h4>
<p>Hopefully the blog post(s) will be readable and clarify the situation!</p>



<a name="528149308"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528149308" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528149308">(Jul 10 2025 at 19:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527928050">said</a>:</p>
<blockquote>
<p>Hmm, isn't <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L239">_⊩¹U</a> the reducibility predicate on the universe?  I thought <code>_⊩¹U_∷U/_</code> would be the proof that all terms <em>in</em> the universe are reducible.  Am I reading that code wrong?</p>
</blockquote>
<p>no, you're reading it right! when i say the reducibility predicate <em>at</em> the universe, I mean the predicate for terms of type the universe (i.e. each realized type decodes to a reducibility predicate for its terms).</p>



<a name="528149340"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528149340" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528149340">(Jul 10 2025 at 19:48)</a>:</h4>
<p>(i realized i had not sent my reply earlier today)</p>



<a name="528149581"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528149581" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528149581">(Jul 10 2025 at 19:50)</a>:</h4>
<p>so for a term <code>t : U</code> to be realized, you need <code>Γ ⊩ t</code> which refers to type realizability at the lower level, which is itself inductive</p>



<a name="528165440"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528165440" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528165440">(Jul 10 2025 at 22:02)</a>:</h4>
<p>But then this is not actually an example of "two different ways to interpret the universe".  The definition of <code>_⊩¹U</code> is the relevant one, and that's what gives the parametricity interpretation.  I thought you were saying that <code>_⊩¹U</code> could also be defined inductively, and that's what I was asking for an example of.</p>



<a name="528197798"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528197798" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528197798">(Jul 11 2025 at 05:11)</a>:</h4>
<p>how does this sound for stack overflow?  anything I should add or remove?  "I am trying to find a proof (or dis-proof) that a Reynolds parametric model of system F is such that for every closed type c, the type c is bijective with the type forall x, (c-&gt;x)-&gt;x (known as the type of continuations for c).  Hyland, Robinson, and Rosolini, in the conclusion of "Algebraic Types in PER Models" (<a href="https://www.dpmms.cam.ac.uk/~jmeh1/Research/Pub81-90/hrr90.pdf">https://www.dpmms.cam.ac.uk/~jmeh1/Research/Pub81-90/hrr90.pdf</a>), give an example c for which this isomorphism fails: (forall x, x-&gt;x) -&gt; (forall x, x-&gt;x) and conclude  "parametricity fails in the system F term model".  However, Bartosz Milewski gives a "free theorems" argument (which I've verified in Coq) that this isomorphism must hold (<a href="https://bartoszmilewski.com/2015/09/01/the-yoneda-lemma/">https://bartoszmilewski.com/2015/09/01/the-yoneda-lemma/</a>).  So myself and other applied category theorists would like community input to settle these two questions: in system F, does Reynolds parametricity imply every closed type is bijective with its type of continuations?  And is the system F term model Reynolds parametric"?</p>



<a name="528199279"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528199279" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528199279">(Jul 11 2025 at 05:30)</a>:</h4>
<p>Maybe by "non-proof" you mean "disproof"?   It's very easy to find non-proofs, i.e. strings of symbols that aren't proofs.</p>



<a name="528290841"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528290841" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528290841">(Jul 11 2025 at 08:44)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528165440">said</a>:</p>
<blockquote>
<p>But then this is not actually an example of "two different ways to interpret the universe". The definition of <code>_⊩¹U</code> is the relevant one, and that's what gives the parametricity interpretation</p>
</blockquote>
<p>How does the realizability <em>of</em> the universe give you the parametricity interpretation? It's rather what realizers of terms at type <code>U</code> that you can feed to polymorphic functions that matter, no?</p>



<a name="528294861"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528294861" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528294861">(Jul 11 2025 at 09:06)</a>:</h4>
<p>I don't remember if it's been said before, but wrt. the Q example of HRR, if you suppose that all inhabitants of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo>=</mo><mi mathvariant="normal">Π</mi><mi>X</mi><mo separator="true">,</mo><mi>X</mi><mo>→</mo><mi>X</mi></mrow><annotation encoding="application/x-tex"> P = Π X, X → X </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">Π</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> are already parametric, then in the model</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><mi>a</mi><mo>:</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">[</mo><mi>X</mi><mo>→</mo><mi>P</mi><mo stretchy="false">]</mo><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">(</mo><mi mathvariant="normal">_</mi><mo>:</mo><mi>X</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">Λ</mi><mi>Y</mi><mi mathvariant="normal">.</mi><mi>λ</mi><mo stretchy="false">(</mo><mi>y</mi><mo>:</mo><mi>Y</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>p</mi><mo>:</mo><mi>P</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">λ (a : P), a[X→P](λ(\_:X).ΛY.λ(y:Y).y)(f(λ(p:P).p))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">]</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">.Λ</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">.</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord">.</span><span class="mord mathnormal">p</span><span class="mclose">))</span></span></span></span></span></p>
<p>will be equal (in the model) to</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>λ</mi><mo stretchy="false">(</mo><mi>a</mi><mo>:</mo><mi>P</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">(</mo><mi mathvariant="normal">_</mi><mo>:</mo><mi>X</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">Λ</mi><mi>Y</mi><mi mathvariant="normal">.</mi><mi>λ</mi><mo stretchy="false">(</mo><mi>y</mi><mo>:</mo><mi>Y</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>p</mi><mo>:</mo><mi>P</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi>λ</mi><mo stretchy="false">(</mo><mi>a</mi><mo>:</mo><mi>P</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">Λ</mi><mi>Y</mi><mi mathvariant="normal">.</mi><mi>λ</mi><mo stretchy="false">(</mo><mi>y</mi><mo>:</mo><mi>Y</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">λ (a:P).(λ(\_:X).ΛY.λ(y:Y).y)(f(λ(p:P).p)) = λ(a:P).ΛY.λ(y:Y).y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">.Λ</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">.</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord">.</span><span class="mord mathnormal">p</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mord">.Λ</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">.</span><span class="mord mathnormal">λ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span></p>
<p>which is of the required form</p>



<a name="528295127"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528295127" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528295127">(Jul 11 2025 at 09:07)</a>:</h4>
<p>of course it's not a βη-equivalence, but extensionally, if you only probe them by <em>definable</em> functions, they are equal</p>



<a name="528295238"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528295238" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528295238">(Jul 11 2025 at 09:08)</a>:</h4>
<p>it's something quite similar to Escardó's seemingly impossible functional programs, which work only when you feed them definable predicates</p>



<a name="528296073"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528296073" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528296073">(Jul 11 2025 at 09:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528197798">said</a>:</p>
<blockquote>
<p>Bartosz Milewski gives a "free theorems" argument (which I've verified in Coq) that this isomorphism must hold</p>
</blockquote>
<p>can you be more explicit about what exactly you've proven? just that web page isn't enough for me to infer it</p>



<a name="528327672"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528327672" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Madeleine Birchfield <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528327672">(Jul 11 2025 at 12:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/527701462">said</a>:</p>
<blockquote>
<p>onlookers will start thinking i'm a one trick pony but typecase is enough</p>
</blockquote>
<p>Do you have any references / papers that talk about dependent type theory with typecase?</p>



<a name="528346784"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528346784" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528346784">(Jul 11 2025 at 14:01)</a>:</h4>
<p><span class="user-mention silent" data-user-id="671813">Madeleine Birchfield</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528327672">said</a>:</p>
<blockquote>
<p>Do you have any references / papers that talk about dependent type theory with typecase?</p>
</blockquote>
<p>"The next 700 syntactical models of type theory" by Boulier et al. mentions typecase</p>



<a name="528374518"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528374518" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528374518">(Jul 11 2025 at 16:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528290841">said</a>:</p>
<blockquote>
<p>How does the realizability <em>of</em> the universe give you the parametricity interpretation? It's rather what realizers of terms at type <code>U</code> that you can feed to polymorphic functions that matter, no?</p>
</blockquote>
<p>The fact that the parametricity translations of <code>Type</code>and <code>Π</code> are</p>
<div class="codehilite"><pre><span></span><code>Typeᵖ X Y = X → Y → Type
Πᴾ X Y f₀ f₁ = (x₀ x₁ : X) (x₂ : Xᵖ x₀ x₁) → Yᵖ (f₀ x₀) (f₁ x₁)
</code></pre></div>
<p>tells you that, for instance, the parametricity translation of <code>(X : Type) → X → X</code> is</p>
<div class="codehilite"><pre><span></span><code>((X : Type) → X → X)ᵖ F G =
  (X₀ X₁ : Type) (X₂ : X₀ → X₁ → Type) (x₀ : X₀) (x₁ : X₁) → X₂ (F x₀) (G x₁)
</code></pre></div>
<p>Therefore, for any (closed) <code>F : (X : Type) → X → X</code>, its translation <code>Fᵖ</code> tells you that <code>F</code> must preserve all relations, from which you get its free theorem.</p>



<a name="528375017"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528375017" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528375017">(Jul 11 2025 at 16:42)</a>:</h4>
<p>Where <code>Typeᵖ X Y = X → Y → Type</code> is, I believe, what <code>_⊩¹U</code> says (maybe in the unary case).</p>



<a name="528375371"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528375371" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528375371">(Jul 11 2025 at 16:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528197798">said</a>:</p>
<blockquote>
<p>how does this sound for stack overflow?  anything I should add or remove?  "I am trying to find a proof (or dis-proof) that a Reynolds parametric model of system F is such that</p>
</blockquote>
<p>Is there a precise definition of the phrase "Reynolds parametric model of system F"?</p>



<a name="528376453"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528376453" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528376453">(Jul 11 2025 at 16:53)</a>:</h4>
<p>If so, maybe link to it.  If not, maybe clarify that there isn't (yet) one, but that you mean some class of models including PER models that satisfy parametricity "internally" in some sense.</p>



<a name="528376781"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528376781" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528376781">(Jul 11 2025 at 16:56)</a>:</h4>
<p>Also I think I wouldn't cite Milewski, since we know what's wrong with his argument.  Instead I would say that HRR show that even for their own <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span>, the isomorphism does hold in their PER model.  So the question is whether there are any "even worse" closed types for which the isomorphism even fails in internally parametric / PER models, or whether one can show that it works there for all closed types.</p>



<a name="528416671"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528416671" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528416671">(Jul 11 2025 at 23:19)</a>:</h4>
<p>remind me what went wrong with Milewski's argument?  His argument had convinced me that c ~ CPS c for closed c in a parametric model (or at least a model with the 'free theorem' for the Reader and Id functors), from which I concluded the term model is not (fully) parametric.  Am I mis-interpreting his argument or the Coq that formalized his argument?</p>



<a name="528416756"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528416756" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528416756">(Jul 11 2025 at 23:21)</a>:</h4>
<p>I think I'd use the Adadi-Plotkin paper to define Reynolds parametricity, but am open to suggestions</p>



<a name="528417756"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528417756" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528417756">(Jul 11 2025 at 23:39)</a>:</h4>
<p>The isomorphism c ~ CPS c depends on knowing that all transformations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>c</mi><mo>→</mo><mi>x</mi><mo stretchy="false">)</mo><mo>→</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\forall x. (c\to x) \to x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> are natural, which in turn requires c to be bridge-discrete to prove it from parametricity (even internal parametricity).  IIRC the Coq formalization just <em>assumed</em> that all transformations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>c</mi><mo>→</mo><mi>x</mi><mo stretchy="false">)</mo><mo>→</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\forall x. (c\to x) \to x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> are natural.</p>



<a name="528418160"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528418160" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528418160">(Jul 11 2025 at 23:48)</a>:</h4>
<p>So the real question is whether "internal parametricity" of some kind for system F implies that all types are bridge-discrete.</p>



<a name="528418188"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528418188" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528418188">(Jul 11 2025 at 23:48)</a>:</h4>
<p>Evan proved that all types in the first universe of internally parametric predicative dependent type theory are bridge-discrete, but that doesn't consider the impredicative <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi></mrow><annotation encoding="application/x-tex">\forall</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∀</span></span></span></span>.</p>



<a name="528418773"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528418773" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528418773">(Jul 12 2025 at 00:00)</a>:</h4>
<p>both the coq code and the milewski post assume that any function of type "forall a, F a -&gt; G a", where F and G are internal functors (in this case F=Reader and G=Id), is a natural transformation, this is true.  In milewski's case I think he tries to establish this from the Yoneda lemma, and I just assumed it as a "free theorem" in the sense of wadler (and therefore implied by parametricity alone to my way of thinking).  But both arguments seem to bypass bridge discreteness (although maybe they shouldn't), which is confusing me.  (for sanity I'm going to stick to working in system F and interpreting milewski in system F).  image is milewski's "axiom" <br>
<a href="/user_uploads/21317/BoybqL7zoHdSplpMUFTnqU_Y/Screenshot-2025-07-11-at-5.09.10PM.png">Screenshot 2025-07-11 at 5.09.10 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/BoybqL7zoHdSplpMUFTnqU_Y/Screenshot-2025-07-11-at-5.09.10PM.png" title="Screenshot 2025-07-11 at 5.09.10 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1046x176" src="/user_uploads/thumbnail/21317/BoybqL7zoHdSplpMUFTnqU_Y/Screenshot-2025-07-11-at-5.09.10PM.png/840x560.webp"></a></div>



<a name="528419476"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419476" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419476">(Jul 12 2025 at 00:10)</a>:</h4>
<p>Yoneda only applies when you already <em>have</em> a natural transformation.</p>



<a name="528419497"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419497" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419497">(Jul 12 2025 at 00:10)</a>:</h4>
<p>He states it using <code>forall</code> but that's because he's previously asserted that all transformations are natural.</p>



<a name="528419509"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419509" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419509">(Jul 12 2025 at 00:11)</a>:</h4>
<p>Without even attempting a proof <a href="https://bartoszmilewski.com/2015/04/07/natural-transformations/">here</a>:</p>
<blockquote>
<p>Haskell’s parametric polymorphism has an unexpected consequence: any polymorphic function of the type <code>alpha :: F a -&gt; G a</code> where <code>F</code> and <code>G</code> are functors, automatically satisfies the naturality condition.... The reason why the naturality condition is automatic in Haskell has to do with “theorems for free.”... In the case of functions that transform functors, free theorems are the naturality conditions.</p>
</blockquote>



<a name="528419554"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419554" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419554">(Jul 12 2025 at 00:12)</a>:</h4>
<p>and <a href="https://bartoszmilewski.com/2014/09/22/parametricity-money-for-nothing-and-theorems-for-free/">here</a></p>
<blockquote>
<p>If you accept the premise that an appropriate relation can be defined for any functor, then you can derive a free theorem for all polymorphic functions of the type <code>r :: forall a. f a -&gt; g a</code> where <code>f</code> and <code>g</code> are functors. This type of function is known as a natural transformation between the two functors, and the free theorem <code>fmap h . r == r . fmap h</code> is the naturality condition.</p>
</blockquote>



<a name="528419635"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419635" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419635">(Jul 12 2025 at 00:13)</a>:</h4>
<p>But I think we worked out before that this just isn't true.  There is <em>a</em> free theorem for the type <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>x</mi><mi mathvariant="normal">.</mi><mo stretchy="false">(</mo><mi>F</mi><mi>x</mi><mo>→</mo><mi>G</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\forall x. (F x \to G x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mord mathnormal">x</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>, for any functors <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>, but it isn't by definition naturality, and to extract naturality from it you need the identity extension lemma for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>.</p>



<a name="528419656"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419656" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419656">(Jul 12 2025 at 00:14)</a>:</h4>
<p>And the identity extension lemma for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo>→</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_a(x) = (a\to x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> requires <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> to be bridge-discrete.</p>



<a name="528419821"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528419821" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528419821">(Jul 12 2025 at 00:17)</a>:</h4>
<p>ok.  I think that is a good summary of the failure of folklore: naturality does not follow from parametricity in general , so "theorems for free" is not the same as "Reynolds parametricity".  Indeed, Wadler might even be conflating these concepts in his "free theorems" paper !?</p>



<a name="528420161"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528420161" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528420161">(Jul 12 2025 at 00:23)</a>:</h4>
<p>anyway, I think the blog post will probably need to give the free theorem and show how it isn't the same as naturality, and walk through how bridge discreteness implies identity extension implies naturality, but i think I'm unblocked on writing even without the stack overflow post now: naturality simply does not follow from parametricity.  Which is actually a bit surprising because I've seen it claimed at a high level that parametricity generalizes naturality from functions to relations</p>



<a name="528423272"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528423272" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528423272">(Jul 12 2025 at 01:25)</a>:</h4>
<p>the plotkin abadi identity extension lemma refers to all types, not just bridge discrete ones (but has no proof).  does this mean their logic is actually capturing a notion of parametricity that might always imply naturality?  (side note: I saw a remark that identity extension is what separates a parametric model from one that is simply defined using a logical relation, and wonder if that distinction has been showing up here: a parametric model is one where identity extension holds for all types, whereas a logical relation defined model only has that property for bridge discrete types, or something along those lines).  Image is of remark from <a href="https://par.nsf.gov/servlets/purl/10338496">https://par.nsf.gov/servlets/purl/10338496</a><br>
<a href="/user_uploads/21317/Dcyny9CRJ_X6WW7u9udxc0S5/Screenshot-2025-07-11-at-6.26.58PM.png">Screenshot 2025-07-11 at 6.26.58 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/Dcyny9CRJ_X6WW7u9udxc0S5/Screenshot-2025-07-11-at-6.26.58PM.png" title="Screenshot 2025-07-11 at 6.26.58 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1746x1036" src="/user_uploads/thumbnail/21317/Dcyny9CRJ_X6WW7u9udxc0S5/Screenshot-2025-07-11-at-6.26.58PM.png/840x560.webp"></a></div>



<a name="528424951"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528424951" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528424951">(Jul 12 2025 at 02:01)</a>:</h4>
<p>Maybe!</p>



<a name="528425008"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528425008" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528425008">(Jul 12 2025 at 02:02)</a>:</h4>
<p>I think I would just call them different forms of parametricity, though.  "Internal parametricity" is pretty well-established as a name for a class of dependent type theories, and we decided that those don't satisfy universal identity extension or bridge-discreteness.</p>



<a name="528425023"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528425023" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528425023">(Jul 12 2025 at 02:03)</a>:</h4>
<p>Maybe this is "strong parametricity" or "impredicative parametricity" or something.</p>



<a name="528434465"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528434465" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528434465">(Jul 12 2025 at 05:36)</a>:</h4>
<p>ok, great; then to conclude, in that case I'd say the HRR conclusion comment is noticing that the term model fails to be "strong parametric", even though it does satisfy weaker forms of parametricity (such as polymorphic identity having one inhabitant), giving q ~ cont q as the witness, and this thread quantifies the difference between the two situations using the "bridge discreteness" of a type</p>



<a name="528441220"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528441220" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528441220">(Jul 12 2025 at 08:07)</a>:</h4>
<p>That <em>sounds</em> good, but I'm not ready to conclude until I see a proof of the identity extension lemma.</p>



<a name="528442153"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528442153" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528442153">(Jul 12 2025 at 08:26)</a>:</h4>
<p>a proof of the identity extension lemma for which models/logics are you referring to?</p>



<a name="528442527"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528442527" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528442527">(Jul 12 2025 at 08:33)</a>:</h4>
<p>At <a href="https://cs.stackexchange.com/a/136373/185120">https://cs.stackexchange.com/a/136373/185120</a> András Kovács claimed that "For System F, identity extension can be proven for types-in-contexts", but wasn't able to produce a reference when I asked.</p>



<a name="528442847"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528442847" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528442847">(Jul 12 2025 at 08:38)</a>:</h4>
<p>the plot thickens; identity extension for system F would in my mind contradict HRR's claim that q is not iso to cont q in the term model.  my current thinking is no such proof should exist</p>



<a name="528443987"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528443987" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528443987">(Jul 12 2025 at 08:58)</a>:</h4>
<p>there's a proof of (qualified) identity extension as prop 9 in wadler's paper  <a href="https://homepages.inf.ed.ac.uk/wadler/papers/gr2/gr2-tcs.pdf">https://homepages.inf.ed.ac.uk/wadler/papers/gr2/gr2-tcs.pdf</a> but it's in natural deduction style and so taking me a while to understand.  This post by Neel K is ambiguous about whether the F term model satisfies identity extension depending on how the word "the model" is interpreted: <a href="https://semantic-domain.blogspot.com/2020/12/church-encodings-are-inductive-types.html">https://semantic-domain.blogspot.com/2020/12/church-encodings-are-inductive-types.html</a></p>



<a name="528467544"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528467544" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528467544">(Jul 12 2025 at 15:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528442847">said</a>:</p>
<blockquote>
<p>the plot thickens; identity extension for system F would in my mind contradict HRR's claim that q is not iso to cont q in the term model.  my current thinking is no such proof should exist</p>
</blockquote>
<p>Could it be a definitional vs contextual thing?  E.g. maybe the form of IEL that holds only shows that every element of CPS q behaves like an element of q when applied to all possible closed term inputs, and the exotic HRR term does that?</p>



<a name="528479188"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528479188" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528479188">(Jul 12 2025 at 19:19)</a>:</h4>
<p>I think Josselin made a similar remark yesterday?  I suppose I'll write to Neel K as a next step.</p>



<a name="528484237"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528484237" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528484237">(Jul 12 2025 at 20:58)</a>:</h4>
<p>Seems sensible; I think he's usually pretty careful.</p>



<a name="528565872"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528565872" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528565872">(Jul 13 2025 at 23:40)</a>:</h4>
<p>Here's what Neel said: "There is no incompatibility between the parametricity of the syntactic model and Hyland's note.  Hyland considers the naive PER model, in which every type is interpreted solely as a partial equivalence relation (PER) which is well-known to be weak to prove parametricity results. To prove parametricity results, you need a relationally parametric model, in which every type is interpreted both as a PER, and a relation between PERs.<br>
The place where the parametric model over PERs is documented is in Bainbridge, Freyd, Scedrov and Scott's paper "Functorial Polymorphism". The first half of their paper is a (failed) attempt to interpret parametricity as dinaturality, after which they go ahead and build a syntactic parametric PER model, where types are PERs/relations over Godel codes. Among other results, they prove that their relational model satisfies the identity extension property.<br>
Their proof only relies on the Godel codes forming a partial combinatory algebra, and so you can plug in any PCA -- and lambda terms obviously form one.  Recall that a PCA is basically an axiomatization of the algebra of the SKI combinators, and so you can make the lambda calculus into a PCA with the usual definitions S = λf.λg.λx.f x (g x) and K = λx.λy.x.<br>
Once you do this, then it's immediate that the parametric term model satisfies identity extension."</p>



<a name="528568675"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528568675" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528568675">(Jul 14 2025 at 00:34)</a>:</h4>
<p>Interesting.  So he seems to be saying that in order to get IEL, you can't actually look at the term model in the usual sense, but you have to use a model in relations that builds in some strong parametricity.  That makes sense with my intuition.</p>



<a name="528568695"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528568695" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528568695">(Jul 14 2025 at 00:35)</a>:</h4>
<p>Did you ask him specifically about Kovács' claim that "For System F, identity extension can be proven for types-in-contexts"?  That sounds like it's a statement about the ordinary term model rather than a relation model constructed from it.</p>



<a name="528568944"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528568944" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528568944">(Jul 14 2025 at 00:40)</a>:</h4>
<p>yeah, I was not expecting him to start talking about a model using untyped lambda terms in reference to the term model.  Here's what I asked: "Myself and some other type theorists / category theorists were hoping you might be able to help settle an apparent open folklore question concerning system F.  We’re writing specifically because of your illuminating blog post at <a href="https://semantic-domain.blogspot.com/2020/12/church-encodings-are-inductive-types.html">https://semantic-domain.blogspot.com/2020/12/church-encodings-are-inductive-types.html</a> .<br>
The conclusion of ‘Algebraic types and PER models' by Hyland et al (<a href="https://www.dpmms.cam.ac.uk/~jmeh1/Research/Pub81-90/hrr90.pdf">https://www.dpmms.cam.ac.uk/~jmeh1/Research/Pub81-90/hrr90.pdf</a>) exhibits a failure of “parametricity” in the system F term model by constructing a closed type c for which c is not bijective with forall x, (c -&gt; x) -&gt; x (the type of continuations for c) in the term model.  <br>
At the same time, it seems to be folklore that the system F term model is parametric, with for example Andy Kovacs stating that identity extension should hold in the term model (<a href="https://cs.stackexchange.com/questions/136359/rigorous-proof-that-parametric-polymorphism-implies-naturality-using-parametrici/136373#136373">https://cs.stackexchange.com/questions/136359/rigorous-proof-that-parametric-polymorphism-implies-naturality-using-parametrici/136373#136373</a>).  There are many other such claims in the literature, yet Mike Schulman and I can’t find any proofs.  In fact, I’m starting to believe the term model does not satisfy identity extension, which would explain Hyland et al’s claim (I think).<br>
So, do you know of a proof or dis-proof that the system F term model satisfies identity extension (however suitably formulated for the term model)?"</p>



<a name="528569238"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528569238" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528569238">(Jul 14 2025 at 00:46)</a>:</h4>
<p>Ok, he does seem to be saying that the term model doesn't satisfy identity extension, but it's not completely clear.  Maybe you could ask for a clarification, emphasizing that by "term model" you mean the initial model build directly from the syntax of system F?</p>



<a name="528681296"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528681296" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528681296">(Jul 14 2025 at 14:58)</a>:</h4>
<p>I asked neel the follow-up: "it seems like here by term model you are talking about a model of system F built from untyped lambda terms, passing through their PCA.  But what Mike and I meant by the term model of system F was the initial model built directly from the syntax of system F.  I’m not even sure how to state identity extension for the term model in the Mike/Ryan sense, but I’m wondering if you can comment on identity extension in the typed term model of system F, rather than the untyped PCA model.  Thanks again!" and he replied with a detailed answer, but again not what I was expecting.  My understanding of his response is that the untyped PER model somehow "is also" the term model.<br>
<a href="/user_uploads/21317/RFKatL1tPYGbqme4olywcHPy/Screenshot-2025-07-14-at-7.53.38AM.png">Screenshot 2025-07-14 at 7.53.38 AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/RFKatL1tPYGbqme4olywcHPy/Screenshot-2025-07-14-at-7.53.38AM.png" title="Screenshot 2025-07-14 at 7.53.38 AM.png"><img data-original-content-type="image/png" data-original-dimensions="2582x1250" src="/user_uploads/thumbnail/21317/RFKatL1tPYGbqme4olywcHPy/Screenshot-2025-07-14-at-7.53.38AM.png/840x560.webp"></a></div>



<a name="528686092"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528686092" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528686092">(Jul 14 2025 at 15:21)</a>:</h4>
<p>That does seem to be what he's implying, but that's clearly false because the (initial) term model is <em>not</em> defined mutually recursively with any relational interpretation.  Why don't you add me to the email thread and we can all continue there instead of playing telephone?  (-:</p>



<a name="528687366"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528687366" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528687366">(Jul 14 2025 at 15:27)</a>:</h4>
<p>Will do, although here's a final thought before doing so: to obtain a set-theoretic model of system F terms, the machinery of logical relations might already be required, for example, to inductively define terms that strongly normalize.  So maybe there is a sense in which the system F term model does have to be constructed alongside its relational interpretation.</p>



<a name="528702290"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528702290" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528702290">(Jul 14 2025 at 16:43)</a>:</h4>
<p>Every type theory has an initial model built out of syntax.  It's not a "set-theoretic" model in the sense of interpreting each type as a set, but it always exists.</p>



<a name="528702400"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528702400" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528702400">(Jul 14 2025 at 16:44)</a>:</h4>
<p>In particular, it doesn't depend on any sort of normalization.</p>



<a name="528736188"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528736188" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528736188">(Jul 14 2025 at 20:37)</a>:</h4>
<p>5 messages were moved from this topic to <a class="stream-topic" data-stream-id="229199" href="/#narrow/channel/229199-learning.3A-questions/topic/What.20is.20a.20term.3F/with/528736187">#learning: questions &gt; What is a term?</a> by <span class="user-mention silent" data-user-id="276777">Mike Shulman</span>.</p>



<a name="528821308"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528821308" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528821308">(Jul 15 2025 at 09:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528375017">said</a>:</p>
<blockquote>
<p>Where <code>Typeᵖ X Y = X → Y → Type</code> is, I believe, what <code>_⊩¹U</code> says (maybe in the unary case).</p>
</blockquote>
<p>What I'm saying is precisely that it does not, that would be the negative interpretation of the universe</p>



<a name="528822036"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528822036" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528822036">(Jul 15 2025 at 09:58)</a>:</h4>
<p>you have two choices, either <code>_⊩¹U</code> consists of metatheoretical relations with some conditions on them that makes them behave <em>as</em> realizability relations, or it is just a universe of codes that then decode to the expected relations. The difference between the two is that the former contain undefinable relations while the second, by construction, only contains definable relations</p>



<a name="528887311"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528887311" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528887311">(Jul 15 2025 at 15:26)</a>:</h4>
<p>I guess I just can't make heads or tails of that Agda.  Can you write out the definition of <code>_⊩¹U</code> in words?  I agree it doesn't look like the negative interpretation, but it doesn't look like a positive inductive definition either.</p>



<a name="528959536"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528959536" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528959536">(Jul 15 2025 at 23:54)</a>:</h4>
<p>I'm revisiting an example from tannen coquand. consider the type T := (forall x, x) -&gt; (forall x, x) -&gt; (forall x, x).  Then there are two distinct terms in this type T, essentially, "project first component" and "project second component".  But in an extensional model where forall x, x is empty, this type T should have only one inhabitant.  In tannen coquand they conclude the term model is not extensional.  So my question: could the HRR result  be similarly (better?) understood as a failure of extensionality than parametricity in the term model?</p>



<a name="528959946"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528959946" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528959946">(Jul 15 2025 at 23:58)</a>:</h4>
<p>What does "extensional" mean?</p>



<a name="528960383"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528960383" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528960383">(Jul 16 2025 at 00:04)</a>:</h4>
<p>I've attached tannen coquand's definition, which I understand to be a semantic criteria similar to (forall x, f x = g x) -&gt; f = g for both function types and forall types.  <br>
<a href="/user_uploads/21317/oDPrT25uCdzlat34ivzy7Hxn/Screenshot-2025-07-15-at-5.02.05PM.png">Screenshot 2025-07-15 at 5.02.05 PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/oDPrT25uCdzlat34ivzy7Hxn/Screenshot-2025-07-15-at-5.02.05PM.png" title="Screenshot 2025-07-15 at 5.02.05 PM.png"><img data-original-content-type="image/png" data-original-dimensions="1756x354" src="/user_uploads/thumbnail/21317/oDPrT25uCdzlat34ivzy7Hxn/Screenshot-2025-07-15-at-5.02.05PM.png/840x560.webp"></a></div>



<a name="528961192"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528961192" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528961192">(Jul 16 2025 at 00:13)</a>:</h4>
<p>Ok, they mean equality of functions is detected by applying them to global elements.  I would call that being <a href="https://ncatlab.org/nlab/show/well-pointed+topos">well-pointed</a>.</p>



<a name="528961242"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528961242" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528961242">(Jul 16 2025 at 00:13)</a>:</h4>
<p>And of course no one should expect the term model to be well-pointed.</p>



<a name="528961305"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528961305" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528961305">(Jul 16 2025 at 00:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="281326">Ryan Wisnesky</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528959536">said</a>:</p>
<blockquote>
<p>could the HRR result  be similarly (better?) understood as a failure of [well-pointedness] than parametricity in the term model?</p>
</blockquote>
<p>Well, can you show that the exotic term would be equal to some standard one in any well-pointed model?</p>



<a name="528961786"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/528961786" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#528961786">(Jul 16 2025 at 00:22)</a>:</h4>
<p>the HRR argument for PER models seems to apply to well pointed ones also, but I figured someone here might already know or have a proof</p>



<a name="529105292"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529105292" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529105292">(Jul 16 2025 at 17:20)</a>:</h4>
<p>I want to record in this thread something that I didn't realize explicitly at first, namely that strong parametricity (= external parametricity plus identity extension) implies internal parametricity.</p>
<p>By <em>external parametricity</em> I mean firstly operations on closed terms such as</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mo>⊢</mo><mi>A</mi><mtext> </mtext><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow></mrow><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>:</mo><mi>A</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo>:</mo><mi>A</mi><mo>⊢</mo><msup><mi>A</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mtext> </mtext><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow></mrow></mfrac><mspace width="2em"/><mfrac><mrow><mo>⊢</mo><mi>a</mi><mo>:</mo><mi>A</mi></mrow><mrow><mo>⊢</mo><msup><mi>a</mi><mi>p</mi></msup><mo>:</mo><msup><mi>A</mi><mi>p</mi></msup><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\vdash A\,\mathsf{type}}{x_0 : A, x_1: A \vdash A^p(x_0,x_1) \,\mathsf{type}}\qquad
\frac{\vdash a:A}{\vdash a^p : A^p(a,a)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3074em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathsf">type</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathsf">type</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>but to define these recursively on syntax we have to extend them to open terms by also "degenerating the context", e.g.</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>B</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext> </mtext><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow></mrow><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>:</mo><mi>A</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo>:</mo><mi>A</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo>:</mo><msup><mi>A</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>y</mi><mn>0</mn></msub><mo>:</mo><mi>B</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>:</mo><mi>B</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>⊢</mo><msup><mi>B</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mtext> </mtext><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow></mrow></mfrac><mspace linebreak="newline" height="1em"></mspace><mfrac><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>b</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><mi>B</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>:</mo><mi>A</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo>:</mo><mi>A</mi><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo>:</mo><msup><mi>A</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>⊢</mo><msup><mi>b</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>:</mo><msup><mi>B</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{x:A \vdash B(x)\,\mathsf{type}}{x_0:A, x_1:A, x_2:A^p(x_0,x_1), y_0:B(x_0), y_1 : B(x_1) \vdash B^p(x_2,y_0,y_1) \,\mathsf{type}}\\[1em]
\frac{x:A \vdash b(x):B(x)}{x_0:A, x_1:A, x_2:A^p(x_0,x_1) \vdash b^p(x_2) : B^p(x_2,b(x_0),b(x_1))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathsf">type</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathsf">type</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline" style="margin-top:1em;"></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>External parametricity satisfies <em>identity extension</em> if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mi>p</mi></msup><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mrow><mi mathvariant="sans-serif">I</mi><mi mathvariant="sans-serif">d</mi></mrow><mi>A</mi></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A^p(x_0,x_1) = \mathsf{Id}_A(x_0,x_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathsf">Id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, and similarly in the dependent case.</p>
<p>By <em>internal</em> parametricity I mean operations on possibly-open terms that <em>don't</em> degenerate the context, such as</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>B</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mtext> </mtext><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow></mrow><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo separator="true">,</mo><msub><mi>y</mi><mn>0</mn></msub><mo>:</mo><mi>B</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo>:</mo><mi>B</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>⊢</mo><msup><mi>B</mi><mi>p</mi></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mtext> </mtext><mrow><mi mathvariant="sans-serif">t</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow></mrow></mfrac><mspace linebreak="newline" height="1em"></mspace><mfrac><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><mi>b</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><mi>B</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><mrow><mi>x</mi><mo>:</mo><mi>A</mi><mo>⊢</mo><msup><mi>b</mi><mi>p</mi></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>:</mo><msup><mi>B</mi><mi>p</mi></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{x:A \vdash B(x)\,\mathsf{type}}{x:A, y_0:B(x), y_1:B(x) \vdash B^p(x,y_0,y_1)\,\mathsf{type}}\\[1em]
\frac{x:A \vdash b(x):B(x)}{x:A \vdash b^p(x) : B^p(x,b(x),b(x))}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathsf">type</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathsf">type</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline" style="margin-top:1em;"></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>Now if you already have external parametricity, to get internal parametricity it suffices to add these operations on <em>variables</em>, since then you can obtain (for instance) the internal <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mi>p</mi></msup><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">b^p(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> as the external <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>b</mi><mi>p</mi></msup><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><msup><mi>x</mi><mi>p</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">b^p(x,x,x^p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.  (This is how "observational" parametricity, as in Narya, computes with its internal parametricity operator.)</p>
<p>But identity extension also suffices, since you can also use <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="sans-serif">r</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">f</mi><mi mathvariant="sans-serif">l</mi></mrow><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">\mathsf{refl}_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathsf">refl</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> instead of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">x^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span>.</p>



<a name="529179976"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529179976" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Madeleine Birchfield <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529179976">(Jul 16 2025 at 23:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529105292">said</a>:</p>
<blockquote>
<p>Now if you already have external parametricity, to get external parametricity it suffices to add these operations on <em>variables</em>,</p>
</blockquote>
<p>Don't you mean internal parametricity in the second clause?</p>



<a name="529189950"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529189950" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529189950">(Jul 17 2025 at 01:49)</a>:</h4>
<p>Yes, thanks.</p>



<a name="529240532"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529240532" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529240532">(Jul 17 2025 at 09:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/528887311">said</a>:</p>
<blockquote>
<p>I guess I just can't make heads or tails of that Agda. Can you write out the definition of <code>_⊩¹U</code> in words?</p>
</blockquote>
<p>So the main definition in there is <a href="https://github.com/mr-ohman/logrel-mltt/blob/a171530b5fcb10cb9bb3baf26263e2b63a81a261/Definition/LogicalRelation.agda#L385"><code>_⊩¹_</code></a>, which defines the realizability predicate for types (what Jon calls <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">p</mi></mrow><mi>α</mi><mtext>⨳</mtext></msubsup></mrow><annotation encoding="application/x-tex"> \mathrm{tp}_{α}^{⨳} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8621em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">tp</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.368em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span><span style="top:-3.068em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⨳</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>).</p>
<p>Note that the <code>¹</code> is slightly misleading here, it should be understood as <code>⁺¹</code> instead, as it builds the predicate for types at level <em>higher</em> than the given <code>rec</code> in the module telescope. So when <code>l  = 0</code> and <code>rec</code> equals <code>λ ()</code>, it actually builds the realizability predicate for small types.</p>
<p>What it says is that for a type <code>A</code> to be realized, it should either verify:</p>
<ul>
<li>it reduces in a well-typed manner to <code>ℕ</code></li>
<li>it reduces in a well-typed manner to <code>Empty</code></li>
<li>it reduces in a well-typed manner to <code>Unit</code></li>
<li>it reduces in a well-typed manner to a neutral type that is (neutral-)convertible to itself</li>
<li>it reduces to a <code>Π</code> or <code>Σ</code> of a type + family over it, they're both realizable after an arbitrary weakening</li>
<li>the level is <code>1</code> and it's literally the universe (here there's a trick, since there is no large elimination, it's impossible for a term that reduces to <code>U</code> to not be <code>U</code> itself already)</li>
</ul>
<p>Note that this information does not contain an arbitrary realizability relation for terms at that type, it's entirely decoded from the above. This is in contrast with semantic approaches I know of in the literature, where you additionally ask for a relation on terms that reflects neutrals and reifies to normals, and you use <em>that</em> relation when realizing inhabitants of this semantic type.</p>



<a name="529240769"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529240769" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529240769">(Jul 17 2025 at 09:43)</a>:</h4>
<p><code>_⊩¹_</code>, the positive interpretation, is thus a subtype of the negative version in the literature. One advantage is that the realizability relation is entirely determined by the syntax.</p>



<a name="529335982"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529335982" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529335982">(Jul 17 2025 at 18:36)</a>:</h4>
<p>Okay, I see, thanks!  Now I understand what you meant about this being the positive interpretation of the universe.  But I don't understand this:</p>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529240769">said</a>:</p>
<blockquote>
<p>One advantage is that the realizability relation is entirely determined by the syntax.</p>
</blockquote>
<p>In what sense is the negative relation not determined by the syntax?  It's also defined recursively over the syntax, it's just that one of the clauses is different.</p>



<a name="529423219"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529423219" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529423219">(Jul 18 2025 at 09:17)</a>:</h4>
<p>I mean that the realizability relation for terms at a type is entirely determined by the syntax of the type, whereas in the negative version, you can attach any well-behaved realizability relation to a type</p>



<a name="529431417"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529431417" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529431417">(Jul 18 2025 at 10:08)</a>:</h4>
<p>one interesting thing: impredicativity forces the negative interpretation by the impredicative propositions of the meta-theory, you can't have a positive interpretation</p>



<a name="529439234"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529439234" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenji Maillard <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529439234">(Jul 18 2025 at 10:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529431417">said</a>:</p>
<blockquote>
<p>one interesting thing: impredicativity forces the negative interpretation by the impredicative propositions of the meta-theory, you can't have a positive interpretation</p>
</blockquote>
<p>Couldn't you have a positive interpretation where every types in the impredicative universe are inhabited ? I have no evidence that this is possible, but I don't see immediately how it is impossible in the same way that the incompatibility between impredicative universes and typecase is about logical consistency, not that everything necessarily collapse.</p>



<a name="529452396"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529452396" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529452396">(Jul 18 2025 at 12:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276885">Kenji Maillard</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529439234">said</a>:</p>
<blockquote>
<p>Couldn't you have a positive interpretation where every types in the impredicative universe are inhabited ? I have no evidence that this is possible, but I don't see immediately how it is impossible in the same way that the incompatibility between impredicative universes and typecase is about logical consistency, not that everything necessarily collapse.</p>
</blockquote>
<p>Wdym “positive interpretation where every type is inhabited”? If you mean that in the model, types are precisely inhabited types, then you're still having a negative interpretation, positive would be: here's a list of the possible types.</p>



<a name="529474920"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529474920" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529474920">(Jul 18 2025 at 14:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529423219">said</a>:</p>
<blockquote>
<p>I mean that the realizability relation for terms at a type is entirely determined by the syntax of the type, whereas in the negative version, you can attach any well-behaved realizability relation to a type</p>
</blockquote>
<p>I still don't get it.  The negative interpretation says that each type is associated to <em>some</em> realizability relation, but for any <em>concrete</em> type the associated relation is still defined in the same way as a specific relation by induction over the syntax of types.  The only place you have an arbitrary relation is when you have a variable type, and in that case there's no syntax you could expect the relation to be determined by anyway.</p>



<a name="529478009"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529478009" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529478009">(Jul 18 2025 at 14:55)</a>:</h4>
<p>take the interpretation of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>:</mo><mi mathvariant="normal">∀</mi><mo stretchy="false">(</mo><mi>X</mi><mo>:</mo><mi>U</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> t : ∀ (X:U), P(X) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>, in the negative version you're allowed to feed it any type you want with a possibly non-definable relation, whereas in the positive type you have 0 leeway there.</p>



<a name="529478141"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529478141" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529478141">(Jul 18 2025 at 14:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529474920">said</a>:</p>
<blockquote>
<p>The negative interpretation says that each type is associated to <em>some</em> realizability relation, but for any <em>concrete</em> type the associated relation is still defined in the same way as a specific relation by induction over the syntax of types.</p>
</blockquote>
<p>That's right</p>



<a name="529478366"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529478366" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529478366">(Jul 18 2025 at 14:57)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529474920">said</a>:</p>
<blockquote>
<p>The only place you have an arbitrary relation is when you have a variable type, and in that case there's no syntax you could expect the relation to be determined by anyway.</p>
</blockquote>
<p>In the positive version, the realizability at neutral types is completely determined by the fact they are neutrals, so it is deterministic in this sense. In that case, terms are realized iff. they are neutrals.</p>



<a name="529478640"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529478640" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529478640">(Jul 18 2025 at 14:58)</a>:</h4>
<p>from the pov of the fundamental lemma, the only thing that changes is when you quantify over the universe, you get a wider quantification with the negative version. In all other cases, you get the same result</p>



<a name="529482467"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529482467" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529482467">(Jul 18 2025 at 15:21)</a>:</h4>
<p>Ah, I see.</p>
<p>Why is that an advantage?  It seems to me that the negative version is the one that has an advantage, since it lets you prove parametricity results.</p>



<a name="529484832"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529484832" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529484832">(Jul 18 2025 at 15:34)</a>:</h4>
<p>yes, but as I mentioned before no formalization has attempted it, it just seems very complicated</p>



<a name="529484888"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529484888" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529484888">(Jul 18 2025 at 15:34)</a>:</h4>
<p>and also it supports typecase :)</p>



<a name="529485125"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529485125" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529485125">(Jul 18 2025 at 15:36)</a>:</h4>
<p>the reason it's hard is that the negative version is very proof-relevant, you have to care about which realizability relation you're over, whereas in the positive case there are irrelevance lemma which let you avoid coherence issues</p>



<a name="529500402"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529500402" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529500402">(Jul 18 2025 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529485125">said</a>:</p>
<blockquote>
<p>the reason it's hard is that the negative version is very proof-relevant, you have to care about which realizability relation you're over, whereas in the positive case there are irrelevance lemma which let you avoid coherence issues</p>
</blockquote>
<p>I suppose that makes sense.  But that seems to me like a different thing than saying that "realizability is determined by syntax".</p>



<a name="529500440"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529500440" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529500440">(Jul 18 2025 at 17:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529484888">said</a>:</p>
<blockquote>
<p>and also it supports typecase :)</p>
</blockquote>
<p>At least, it seems like it should -- but you said that no one's actually done this as far as you know?</p>



<a name="529705284"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529705284" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529705284">(Jul 20 2025 at 18:32)</a>:</h4>
<p>quick update: mike and I have been talking to neel k over email, but haven't found a proof or disproof of identity extension for the system F term/initial model yet.</p>



<a name="529831315"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/529831315" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josselin Poiret <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#529831315">(Jul 21 2025 at 09:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276777">Mike Shulman</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529500440">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="284453">Josselin Poiret</span> <a href="#narrow/channel/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism/near/529484888">said</a>:</p>
<blockquote>
<p>and also it supports typecase :)</p>
</blockquote>
<p>At least, it seems like it should -- but you said that no one's actually done this as far as you know?</p>
</blockquote>
<p>no one's formalized it, yes. I don't think it should be too hard to do on top of what we have</p>



<a name="534528452"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/534528452" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#534528452">(Aug 14 2025 at 17:24)</a>:</h4>
<p>Quick update, I'm continuing to ask around but it seems like the answer to the question 'does the System F term model satisfy identity extension' is still 'experts don't know of a proof'.  Curien did however provide the paper: <a href="https://www.irif.fr/~curien/FPP.A4.pdf">https://www.irif.fr/~curien/FPP.A4.pdf</a> which maybe could be used to answer it.</p>



<a name="534602218"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/534602218" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#534602218">(Aug 15 2025 at 05:56)</a>:</h4>
<p>my initial read of this paper is that it defines two systems, R0 and R1, that extend system F with relations to allow proving 'free theorems', and that it is likely the system R1 has the property that every polymorphic function between definable functors is natural, but the paper doesn't prove this.  If true, there could be a blog post arguing that R1 is a better (in some sense) model of "idealized haskell" than the term model of system F.  Their system R0 corresponds directly to F and is weaker than R1.</p>



<a name="536349380"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536349380" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536349380">(Aug 27 2025 at 05:28)</a>:</h4>
<p>After further discussion on and off the types mailing list I think we have a conclusion which I wanted to write down here to conclude the thread (hopefully).  According to Andrew Polonsky, with the usual Church encoding of natural numbers, there are two contextually equivalent ways to define the successor function, which are equated in a model satisfying identity extension and not equated in the initial model of system F.   Hence the initial model F is not parametric enough for every polymorphic function between definable functors to be natural.</p>



<a name="536349661"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536349661" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536349661">(Aug 27 2025 at 05:32)</a>:</h4>
<p>I speculate the origins of the folklore that "system F is parametric" (an ambiguous phrase) has to do with a subtle aspect of Reynolds' original paper where he proves the identity extension lemma: he does not use the full set theoretic semantics which was later shown not to exist classically. He uses an alternative set theoretic semantics that appeals to the relational interpretation and restricts attention to parametric functions, something of a circular trick.  This is described here: <a href="https://queuea9.wordpress.com/2020/11/25/some-thoughts-on-types-abstraction-and-parametric-polymorphism/">https://queuea9.wordpress.com/2020/11/25/some-thoughts-on-types-abstraction-and-parametric-polymorphism/</a> .  It would be easy to overlook Reynold's non-standard semantics and assume it applies to a standard semantics, such as the term model or full intuitionistic set model, sparking the folklore</p>



<a name="536357362"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536357362" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536357362">(Aug 27 2025 at 06:55)</a>:</h4>
<p>Specifically, Andrew's example shows that the type family <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>:</mo><mrow><mi mathvariant="sans-serif">T</mi><mi mathvariant="sans-serif">y</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">e</mi></mrow><mo>⊢</mo><mi>X</mi><mo>→</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">X:\mathsf{Type} \vdash X\to X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathsf">Type</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊢</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> does not satisfy identity extension in the initial model.  This family isn't a functor, so it doesn't itself lead to a counterexample to the claim that every polymorphic function between definable functors is natural.  But I guess the HRR example that we were discussing long ago does?  Now that we know IEL does certainly fail in some cases, so there doesn't have to be anything wrong with our conclusions from that example.</p>



<a name="536528001"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536528001" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536528001">(Aug 28 2025 at 04:18)</a>:</h4>
<p>Here's Andrew's new example of a type family, claimed to be functorial, but not satisfying identity extension:<br>
<code>Top = \forall X. X -&gt; X
tt = /\X.\x:X.x : Top
T(X) = (X -&gt; Top) -&gt; (Top -&gt; Top)
A1 = A2 = Top
R \subset A1xA2 is =beta(eta)
T(R) identifies \x.x, \xy.y, and \xy.tt</code> Still not quite a counter example to every polymorphic function between definable functors being natural though.</p>



<a name="536535346"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536535346" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536535346">(Aug 28 2025 at 05:55)</a>:</h4>
<p>That's actually quite close to the HRR example, which involves <code>T(X) = (Top -&gt; Top) -&gt; X</code> (and the identity functor). I guess the same argument shows directly that this T fails IEL, since for <code>A1 = A2 = Top -&gt; Top</code>, <code>T(=)</code> identifies <code>\x.x</code> and <code>\xy.y</code> and <code>\xy.tt</code> and I guess also other things like <code>\xy.x(y)</code>.</p>



<a name="536535650"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536535650" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536535650">(Aug 28 2025 at 05:58)</a>:</h4>
<p>For reference, the HRR unnatural transformation from T to the identity is <code>/\X. \f. f(\y. y[X -&gt; Top](\z. tt)(f(\w.w)))</code>.</p>



<a name="536716334"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536716334" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Shulman <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536716334">(Aug 29 2025 at 04:29)</a>:</h4>
<p>Does anyone have a copy of, or can anyone access, Hasegawa's paper <a href="https://link.springer.com/chapter/10.1007/3-540-54415-1_61">Parametricity of extensionally collapsed term models of polymorphism and their categorical properties</a>?</p>



<a name="536716789"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Continuations%2C%20parametricity%2C%20and%20polymorphism/near/536716789" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Wisnesky <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Continuations.2C.20parametricity.2C.20and.20polymorphism.html#536716789">(Aug 29 2025 at 04:34)</a>:</h4>
<p>here's a <a href="user_uploads/21317/5W0lFvopS5ghJfPMHgNjHA88/3-540-54415-1_61.pdf">link</a></p>



<footer class="site-footer">

<hr><p>Last updated: Nov 01 2025 at 12:09 UTC</p>
This archive runs on a customization of <a href="https://github.com/zulip/zulip-archive">zulip-archive</a>
</footer>
</body>

</html>