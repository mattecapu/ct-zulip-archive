<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  
<link rel="stylesheet" href="https://mattecapu.github.io/ct-zulip-archive/style.css" /><title>Futamura projections · learning: questions · Zulip Chat Archive</title>
</head>
<body>
<header>
<a href="https://mattecapu.github.io/ct-zulip-archive" class="home-link">
        <img class="logo" src="https://zulip-avatars.s3.amazonaws.com/21317/realm/icon.png?version=3" />
        <h1>Category Theory<br/>Zulip Server<br/>Archive</h1>
        </a>
        <p>
        You're reading the public-facing archive of the <a href="https://categorytheory.zulipchat.com/">Category Theory Zulip server</a>.<br/>
        
        To join the server you need an invite. Anybody can get an invite by contacting <a href="https://matteocapucci.wordpress.com">Matteo Capucci</a> at <em>name dot surname at gmail dot com</em>.<br/>
        
        For all things related to this archive refer to the same person.
        </p>
        </header>
        <hr />
    
<h2>Stream: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/index.html">learning: questions</a></h2>
<h3>Topic: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html">Futamura projections</a></h3>

<hr>

<base href="https://categorytheory.zulipchat.com">

<a name="470815673"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/470815673" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Schwiebert <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#470815673">(Sep 17 2024 at 03:08)</a>:</h4>
<p>I ran across the term "Futamura projection" when reading souffle-lang's site.  </p>
<p><a href="http://blog.sigfpe.com/2009/05/three-projections-of-doctor-futamura.html">http://blog.sigfpe.com/2009/05/three-projections-of-doctor-futamura.html</a></p>
<p>While the atmosphere is crackling with category-theoretic energy, I actually can't find sources that discuss the connection.</p>
<p>Can anyone couch the concept of Futamura projections in terms of category theory?  I have a feeling it'll make it faster for me to understand...</p>



<a name="470915591"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/470915591" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fosco <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#470915591">(Sep 17 2024 at 09:00)</a>:</h4>
<p>I honestly read "futurama projections" three times before noticing that no, that's not what's written</p>



<a name="470916432"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/470916432" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fosco <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#470916432">(Sep 17 2024 at 09:03)</a>:</h4>
<p>This being said: the thing that comes to mind when reading that one can "stuff a description of a specialiser into the specialiser's own first input" is Lawvere's fixpoint theorem, survey'd here <a href="https://arxiv.org/abs/math/0305282">https://arxiv.org/abs/math/0305282</a> <br>
And probably this is corroborated by the previous remark that this is all about machines making machines (so, whatever category you can encode this in, will have internal homs)?</p>



<a name="470916559"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/470916559" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fosco <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#470916559">(Sep 17 2024 at 09:04)</a>:</h4>
<p>(I have no precise idea what I'm talking about, of course)</p>



<a name="470953523"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/470953523" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Schwiebert <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#470953523">(Sep 17 2024 at 11:36)</a>:</h4>
<p>Huh: I never would have thought to see "fixed point theorems" grouped with "paradoxes and incompleteness theorems". Interesting!</p>



<a name="471019422"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/471019422" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#471019422">(Sep 17 2024 at 15:38)</a>:</h4>
<p>See </p>
<ul>
<li>Wikipedia, <a href="https://en.wikipedia.org/wiki/Quine_(computing)">Quine</a></li>
</ul>
<blockquote>
<p>A <strong>quine</strong> is a <a href="https://en.wikipedia.org/wiki/Computer_program">computer program</a> that takes no input and produces a copy of its own <a href="https://en.wikipedia.org/wiki/Source_code">source code</a> as its only output. The standard terms for these programs in the <a href="https://en.wikipedia.org/wiki/Computability_theory">computability theory</a> and <a href="https://en.wikipedia.org/wiki/Computer_science">computer science</a> literature are "self-replicating programs", "self-reproducing programs", and "self-copying programs".</p>
</blockquote>
<blockquote>
<p>A quine is a <a href="https://en.wikipedia.org/wiki/Fixed_point_(mathematics)">fixed point</a> of an execution environment, when that environment is viewed as a <a href="https://en.wikipedia.org/wiki/Function_(mathematics)">function</a> transforming programs into their outputs. Quines are possible in any <a href="https://en.wikipedia.org/wiki/Turing_completeness">Turing-complete</a> programming language, as a direct consequence of <a href="https://en.wikipedia.org/wiki/Kleene%27s_recursion_theorem">Kleene's recursion theorem</a>.</p>
</blockquote>



<a name="471021055"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/471021055" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#471021055">(Sep 17 2024 at 15:43)</a>:</h4>
<p>Also see Quine's presentation of the Liar paradox and Goedel's first incompleteness theorem in terms of quining:</p>
<ul>
<li>W. V. Quine, <a href="https://math.dartmouth.edu/~matc/Readers/HowManyAngels/WaysofParadox/WaysofParadox.html">The ways of paradox</a>.</li>
</ul>
<blockquote>
<p>In an effort to clear up this antinomy it has been protested that the phrase 'This sentence', so used, refers to nothing. This is claimed on the ground that you cannot get rid of the phrase by supplying a sentence that is referred to. For what sentence does the phrase refer to? The sentence 'This sentence is false'. If, accordingly, we supplant the phrase 'This sentence' by a quotation of the sentence referred to, we get: ' 'This sentence is false' is false'. But the whole outside sentence here attributes falsity no longer to itself but merely to something other than itself, thereby engendering no paradox.</p>
</blockquote>
<blockquote>
<p>If, however, in our perversity we are still bent on constructing a sentence that does attribute falsity unequivocally to itself, we can do so thus: ' ' Yields a falsehood when appended to its own quotation' yields a falsehood when appended to its own quotation'. This sentence specifies a string of nine words and says of this string that if you put it down twice, with quotation marks around the first of the two occurrences, the result is false. But that result is the very sentence that is doing the telling. The sentence is true if and only if it is false, and we have our antinomy.</p>
</blockquote>



<a name="471023998"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/471023998" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#471023998">(Sep 17 2024 at 15:54)</a>:</h4>
<p>I'll admit I'm confused about the precise relation between Quine's original trick - ' ' Yields a falsehood when appended to its own quotation' yields a falsehood when appended to its own quotation' - and fixed point theorems.   What's the map that has a fixed point here?</p>
<p>On the other hand, it seems the modern computer science use of "quine" is different: it's a program that yields itself as output, so it's a fixed point of evaluation.   For a proof that any Turing complete language has such a fixed point, try this:</p>
<ul>
<li><a href="https://cs.stackexchange.com/a/92545/107769">Why does the fixed point theorem apply to quines?</a></li>
</ul>
<p>Maybe the two uses of "quine" are more connected than I realize.</p>



<a name="471035809"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/471035809" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bruno Gavranović <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#471035809">(Sep 17 2024 at 16:42)</a>:</h4>
<p><span class="user-mention" data-user-id="685603">@Ryan Schwiebert</span>, I often wonder about this question too.</p>
<p>Some time ago I came across <a href="https://johnwickerson.wordpress.com/2020/05/21/diagrams-for-composing-compilers/">this</a> particularly compelling graphical calculus for composing compilers.<br>
<a href="/user_uploads/21317/1HzIEiZeSsK9FkEckY2V1wl9/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/1HzIEiZeSsK9FkEckY2V1wl9/image.png" title="image.png"><img data-original-dimensions="1000x656" src="/user_uploads/thumbnail/21317/1HzIEiZeSsK9FkEckY2V1wl9/image.png/840x560.webp"></a></div><p>While I'm not sure if it says anything related to Futamura projection in particular, it seems highly relevant.<br>
Some of the high-level algebra is reminiscent of the algebra of composing maps with the <a href="https://ncatlab.org/nlab/show/para+construction">para</a> construction too</p>



<a name="471199774"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/471199774" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amar Hadzihasanovic <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#471199774">(Sep 18 2024 at 08:26)</a>:</h4>
<p><span class="user-mention" data-user-id="294557">@dusko</span> presents the Futamura projections in terms of "monoidal computers" in Section 6.2.2 of <a href="https://arxiv.org/abs/2208.03817">his book</a>.</p>



<a name="471403945"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/229199-learning%3A%20questions/topic/Futamura%20projections/near/471403945" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Stay <a href="https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning.3A-questions/topic/Futamura.20projections.html#471403945">(Sep 19 2024 at 05:24)</a>:</h4>
<p>The linked blog post talks about specializers, which fix an input and then optimize the resulting program.  But optimization of internals is deeply related to the execution of programs, which denotational semantics largely ignores.  So if there is a nontrivial categorical view of the Futamura projections, it will have to be in a context where we can model programs evolving over time.  The Lambek &amp; Scott approach to interpreting lambda calculus in a CCC won't suffice: the morphisms are beta-equivalence classes of terms with one free variable, but the number of beta reduction steps is precisely what the optimizer is attempting to reduce.</p>



<footer class="site-footer">

<hr><p>Last updated: Nov 01 2025 at 12:09 UTC</p>
This archive runs on a customization of <a href="https://github.com/zulip/zulip-archive">zulip-archive</a>
</footer>
</body>

</html>