<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  
<link rel="stylesheet" href="https://mattecapu.github.io/ct-zulip-archive/style.css" /><title>Tutorial: String Diagrams (Fabrizio Genovese) · event: ACT20 · Zulip Chat Archive</title>
</head>
<body>
<header>
<a href="https://mattecapu.github.io/ct-zulip-archive" class="home-link">
        <img class="logo" src="https://zulip-avatars.s3.amazonaws.com/21317/realm/icon.png?version=3" />
        <h1>Category Theory<br/>Zulip Server<br/>Archive</h1>
        </a>
        <p>
        You're reading the public-facing archive of the <a href="https://categorytheory.zulipchat.com/">Category Theory Zulip server</a>.<br/>
        
        To join the server you need an invite. Anybody can get an invite by contacting <a href="https://matteocapucci.wordpress.com">Matteo Capucci</a> at <em>name dot surname at gmail dot com</em>.<br/>
        
        For all things related to this archive refer to the same person.
        </p>
        </header>
        <hr />
    
<h2>Stream: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/index.html">event: ACT20</a></h2>
<h3>Topic: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html">Tutorial: String Diagrams (Fabrizio Genovese)</a></h3>

<hr>

<base href="https://categorytheory.zulipchat.com">

<a name="201018918"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/201018918" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#201018918">(Jun 16 2020 at 14:00)</a>:</h4>
<p>Hi all! This is the thread of discussion for Fabrizio's tutorial, "An introduction to string diagrams."</p>



<a name="201018953"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/201018953" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#201018953">(Jun 16 2020 at 14:00)</a>:</h4>
<p>Abstract:<br>
We will introduce the basic concepts of surface diagrams for 1-, 2- and n- categories. From there, we will introduce string diagrams for various flavors of monoidal categories (monoidal, compact closed, traced, ...). There are no prerequisites.</p>



<a name="202318655"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202318655" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> eric brunner <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202318655">(Jun 29 2020 at 14:37)</a>:</h4>
<p>still, a pre-talk reading would be useful. thanks in advance.</p>



<a name="202645330"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202645330" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202645330">(Jul 02 2020 at 02:46)</a>:</h4>
<p>When and where: Sunday July 5, 15:00 UTC (11 am EDT)<br>
Zoom meeting: <a href="https://mit.zoom.us/j/7055345747">https://mit.zoom.us/j/7055345747</a><br>
See also <a href="https://act2020.mit.edu/#tutorialday">the main website</a>.</p>



<a name="202924785"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202924785" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202924785">(Jul 05 2020 at 14:55)</a>:</h4>
<p>We start in 5 min!</p>



<a name="202925354"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202925354" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202925354">(Jul 05 2020 at 15:10)</a>:</h4>
<p>Here are the links given by Fabrizio.<br>
Marsden: Category Theory using string diagrams <a href="https://arxiv.org/abs/1401.7220">https://arxiv.org/abs/1401.7220</a><br>
Selinger: A survey of graphical languages for mon cat <a href="https://arxiv.org/abs/0908.3347">https://arxiv.org/abs/0908.3347</a></p>



<a name="202925391"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202925391" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Moeller <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202925391">(Jul 05 2020 at 15:11)</a>:</h4>
<p>He also mentioned this paper by Joyal and Street, where they essentially prove that using string diagrams is valid.<br>
<a href="https://www.sciencedirect.com/science/article/pii/000187089190003P">https://www.sciencedirect.com/science/article/pii/000187089190003P</a></p>



<a name="202926072"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202926072" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Plácido <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202926072">(Jul 05 2020 at 15:30)</a>:</h4>
<p>How does one draw a parallel pair <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⇉</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\rightrightarrows B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.86413em;vertical-align:-0.1808em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⇉</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> (no 2-morphisms between them) with this graphical representation of 2-categories?</p>



<a name="202926085"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202926085" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202926085">(Jul 05 2020 at 15:31)</a>:</h4>
<p>Let's ask this question at the end :)</p>



<a name="202926141"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202926141" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Moeller <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202926141">(Jul 05 2020 at 15:32)</a>:</h4>
<p>A single string diagram only depicts a single morphism. What I mean is that you can have many morphisms depicted, but they must be composed somehow to get it all down to a single (composite) morphism.</p>



<a name="202926148"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202926148" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Moeller <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202926148">(Jul 05 2020 at 15:33)</a>:</h4>
<p>So if you want two different morphisms, but you don't want to talk about composing them, you just have to draw two different diagrams.</p>



<a name="202926156"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202926156" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Plácido <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202926156">(Jul 05 2020 at 15:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="275989">Paolo Perrone</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/202926085">said</a>:</p>
<blockquote>
<p>Let's ask this question at the end :)</p>
</blockquote>
<p>Ok, thanks! I wrote it here because the Zoom chat is flowing too fast. I'll save my questions for later.</p>



<a name="202926202"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202926202" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Plácido <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202926202">(Jul 05 2020 at 15:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="275914">Joe Moeller</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/202926148">said</a>:</p>
<blockquote>
<p>So if you want two different morphisms, but you don't want to talk about composing them, you just have to draw two different diagrams.</p>
</blockquote>
<p>That makes sense. Thanks.</p>



<a name="202928120"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202928120" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kartik <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202928120">(Jul 05 2020 at 16:29)</a>:</h4>
<p>Someone took notes here, that also includes a bunch of links: <a href="https://codi.lassul.us/HqlF3K2CR0eYcpUbiOnneA">https://codi.lassul.us/HqlF3K2CR0eYcpUbiOnneA</a></p>



<a name="202928970"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202928970" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202928970">(Jul 05 2020 at 16:52)</a>:</h4>
<p>I'm still around if there are more questions btw <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="202929311"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202929311" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuri de Wit <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202929311">(Jul 05 2020 at 17:01)</a>:</h4>
<p><span class="user-mention" data-user-id="276438">@Fabrizio Genovese</span> , from the different 'extensions' of SMC (braided, traced, etc) where does Petri Nets fall?</p>



<a name="202929377"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202929377" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202929377">(Jul 05 2020 at 17:02)</a>:</h4>
<p>Heh! It turns out that Petri nets can be thought of as presentations of monoidal categories</p>



<a name="202929391"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202929391" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202929391">(Jul 05 2020 at 17:02)</a>:</h4>
<p>There are many different flavors of petri nets and many different flavors of monoidal categories, but roughly:</p>



<a name="202929458"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202929458" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202929458">(Jul 05 2020 at 17:04)</a>:</h4>
<p>Petri nets can be linked to commutative and symmetric monoidal categories, depending who you ask to. Relevan papers are: <br>
<a href="https://arxiv.org/abs/1808.05415">https://arxiv.org/abs/1808.05415</a><br>
<a href="https://link.springer.com/chapter/10.1007/3-540-59293-8_205">https://link.springer.com/chapter/10.1007/3-540-59293-8_205</a></p>



<a name="202929467"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202929467" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202929467">(Jul 05 2020 at 17:04)</a>:</h4>
<p>Then there are generalizations, such as:<br>
<a href="https://arxiv.org/abs/1805.05988">https://arxiv.org/abs/1805.05988</a><br>
<a href="https://www.researchgate.net/publication/221138189_Pre-nets_Read_Arcs_and_Unfolding_A_Functorial_Presentation/link/09e41511e079fab475000000/download">https://www.researchgate.net/publication/221138189_Pre-nets_Read_Arcs_and_Unfolding_A_Functorial_Presentation/link/09e41511e079fab475000000/download</a></p>



<a name="202947625"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/202947625" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#202947625">(Jul 06 2020 at 01:58)</a>:</h4>
<p>Hey all! Here's the video.<br>
<a href="https://www.youtube.com/watch?v=LY5H9uY7Gns&amp;list=PLCOXjXDLt3pYPE63bVbsVfA41_wa3sZOh">https://www.youtube.com/watch?v=LY5H9uY7Gns&amp;list=PLCOXjXDLt3pYPE63bVbsVfA41_wa3sZOh</a></p>
<div class="youtube-video message_inline_image"><a data-id="LY5H9uY7Gns" href="https://www.youtube.com/watch?v=LY5H9uY7Gns&amp;list=PLCOXjXDLt3pYPE63bVbsVfA41_wa3sZOh"><img src="https://i.ytimg.com/vi/LY5H9uY7Gns/default.jpg"></a></div>



<a name="203052132"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203052132" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Tanzer <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203052132">(Jul 06 2020 at 23:16)</a>:</h4>
<p>Given a string diagram in an SMC, I'm trying to picture algorithms for converting them into expressions involving tensoring, composition and identities.   Let's assume there are no loops.  Then the process nodes are partially ordered by the relation where A &lt;= B means that A outputs to wire X, and X inputs to B.   Then form a topological sort of the process nodes.   We can use this to get an expression for the whole diagram, which is a sequential composition of expressions, one per process node.  This corresponds to  morphing the diagram by sliding the process nodes around, so that in the result, no two process nodes are drawn concurrently.   Then every intermediate stage in the sequential pipeline is a tensoring of all the parallel wires that go from one stage to the next.   Each node inputs some wires from the outputs of its predecessor node, and some wires which are "carried over" from earlier stages in the chain.   So the expression for that node is the tensoring of the morphism associated with that node, with identities for all of the wires which are carrried over.</p>



<a name="203052182"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203052182" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Tanzer <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203052182">(Jul 06 2020 at 23:17)</a>:</h4>
<p>This construction seems to work, but it involves what looks like an artificial sequentialization of the diagram.</p>



<a name="203052853"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203052853" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Tanzer <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203052853">(Jul 06 2020 at 23:26)</a>:</h4>
<p>Maybe this is just one of those things, stemming ultimately from the fact that whereas the string diagram involves a DAG-like structure, any representing expression must be a tree.</p>



<a name="203055920"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203055920" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203055920">(Jul 07 2020 at 00:16)</a>:</h4>
<p>You  are tapping into a very complicated problem. It seems to me that you want to find a data structure that represents well a string diagram, that is, a data structure which is invariant wrt the topological deformations you do with diagrams.</p>



<a name="203055933"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203055933" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203055933">(Jul 07 2020 at 00:17)</a>:</h4>
<p>This is pretty much what we tried to do at Statebox for one year. We absolutely needed such a data structure to get a formally verified implementation of free SMCs in Idris</p>



<a name="203055981"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203055981" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203055981">(Jul 07 2020 at 00:18)</a>:</h4>
<p>Then this paper came out: <a href="http://cartographer.id/cartographer-calco-2019.pdf">http://cartographer.id/cartographer-calco-2019.pdf</a></p>



<a name="203056011"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203056011" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203056011">(Jul 07 2020 at 00:19)</a>:</h4>
<p>Pawel, Paul and Fabio worked out a data structure that is not quite what we want, but very very close to it. From there, we were able to edit it here and there to finally obtain a data structure that represents string diagrams invariantly</p>



<a name="203056095"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203056095" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203056095">(Jul 07 2020 at 00:20)</a>:</h4>
<p>In general, for some  "easier" stuff (e.g. manipulating string diagrams in the graphical interface) we just store the diagram as a tree. This is what we do in edit.statebox.cloud, and you can see the tree corresponding to a diagram in the bottom part of the window.</p>



<a name="203056135"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203056135" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203056135">(Jul 07 2020 at 00:21)</a>:</h4>
<p>Clearly, there are many different trees depicting the same diagram. We do not pick any particular normal form, the tree you get depends on how you specify the morphisms. This is ok because then we convert such a tree into our invariant data structure in the formally verified idris "core", where the actual computations are carried out</p>



<a name="203056249"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203056249" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203056249">(Jul 07 2020 at 00:23)</a>:</h4>
<p>Maybe all this is a bit handwavy, but long story short: Representing string diagrams in a computationally satisfying way is not easy, nor intuitive. This is very similar to what happens with graphs. Mathematicians working with graphs may think "well it's just a graph" but there are many different ways of storing a graph as data, which have absolutely inequivalent properties. Simply put, rivers of words have been written on the problem of computing with graphs, and with string diagrams the situation is similar if not worse <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="203057363"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203057363" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Fairbanks <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203057363">(Jul 07 2020 at 00:44)</a>:</h4>
<blockquote>
<p>Maybe this is just one of those things, stemming ultimately from the fact that whereas the string diagram involves a DAG-like structure, any representing expression must be a tree.</p>
</blockquote>
<p><span class="user-mention" data-user-id="275965">@Evan Patterson</span> implemented a function from StringDiagrams to Expressions in Catlab. It does require arbitrary choices about ordering the diagram in order to force a DAG into a tree. Different choices yield different properties of the resulting trees. That is part of the motivation for unbiased languages for SMCs based on Operads of Wiring Diagrams, which is an ongoing development topic in Catlab.</p>



<a name="203059520"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203059520" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Evan Patterson <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203059520">(Jul 07 2020 at 01:32)</a>:</h4>
<p>Thanks James, Catlab does have an algorithm for converting wiring diagrams into expression trees. It is inspired by known algorithms for decomposing <a href="https://en.wikipedia.org/wiki/Series-parallel_graph">series-parallel digraphs</a> (graphs that really wish they were SMCs). The algorithm prefers parallelism, i.e., it favors <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mo>⋅</mo><mi>g</mi><mo stretchy="false">)</mo><mo>⊗</mo><mo stretchy="false">(</mo><mi>h</mi><mo>⋅</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f \cdot g) \otimes (h \cdot k)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> over <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mo>⊗</mo><mi>h</mi><mo stretchy="false">)</mo><mo>⋅</mo><mo stretchy="false">(</mo><mi>g</mi><mo>⊗</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f \otimes h)\cdot (g \otimes k)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> in the interchange law. To deal with the arbitrariness of order in tensor products (think <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>⊗</mo><mi>g</mi></mrow><annotation encoding="application/x-tex">f \otimes g</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span></span></span></span> vs <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>⊗</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">g \otimes f</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>) simple heuristics for minimizing edge crossings are used.</p>
<p>That said, I do not understand the mathematical properties of the algorithm. I do not know whether it is "optimal" in finding parallelism or even that it works in all cases, as tricky special cases have a habit of cropping up. So, as Fabrizio said, it is a hard problem.</p>
<p>Personally, I find myself moving away from this approach towards working in fully unbiased structures like wiring diagrams. However, as the Cartographer paper illustrates, the problem of extracting expressions is closely related to the layout of diagrams for drawing, and it is used for that purpose in Catlab, being one of two layout algorithms supported. (The other layout algorithm is Graphviz dot, a layered graph drawing algorithm.) So there will always be uses for such techniques.</p>



<a name="203064482"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203064482" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Tanzer <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203064482">(Jul 07 2020 at 03:46)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="276438">@Fabrizio Genovese</span> , <span class="user-mention" data-user-id="275927">@James Fairbanks</span> and <span class="user-mention" data-user-id="275965">@Evan Patterson</span>  for your informative replies!</p>



<a name="203085944"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203085944" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aleks Kissinger <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203085944">(Jul 07 2020 at 10:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276438">Fabrizio Genovese</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203056011">said</a>:</p>
<blockquote>
<p>Pawel, Paul and Fabio worked out a data structure that is not quite what we want, but very very close to it. From there, we were able to edit it here and there to finally obtain a data structure that represents string diagrams invariantly</p>
</blockquote>
<p>I'm interested in what you mean by "invariant" here. One of the things that was always a pain Quantomatic was dealing concretely with graphs and graph rewriting, which are iso-invariant. This involves lots of fiddling with "names" of vertices and edges, with much of the code devoted to renaming and finding fresh names e.g to do direct sums and the like. Does your implementation get around those problems?</p>



<a name="203089570"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203089570" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203089570">(Jul 07 2020 at 11:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="295673">Aleks Kissinger</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203085944">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="276438">Fabrizio Genovese</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203056011">said</a>:</p>
<blockquote>
<p>Pawel, Paul and Fabio worked out a data structure that is not quite what we want, but very very close to it. From there, we were able to edit it here and there to finally obtain a data structure that represents string diagrams invariantly</p>
</blockquote>
<p>I'm interested in what you mean by "invariant" here. One of the things that was always a pain Quantomatic was dealing concretely with graphs and graph rewriting, which are iso-invariant. This involves lots of fiddling with "names" of vertices and edges, with much of the code devoted to renaming and finding fresh names e.g to do direct sums and the like. Does your implementation get around those problems?</p>
</blockquote>
<p>What i mean is that, for instance, you can write the same string diagram as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mo separator="true">;</mo><mi>g</mi><mo stretchy="false">)</mo><mo>⊗</mo><mo stretchy="false">(</mo><mi>h</mi><mo separator="true">;</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f;g) \otimes (h;k)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">h</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span> and as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mo>⊗</mo><mi>h</mi><mo stretchy="false">)</mo><mo separator="true">;</mo><mo stretchy="false">(</mo><mi>g</mi><mo>⊗</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f \otimes h);(g \otimes k)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mclose">)</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>. If you write a string diagram as a tree of tensors and compositions, those two things will be different trees. Instead, you want a data structure where those are literally the same thing.</p>



<a name="203089646"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203089646" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203089646">(Jul 07 2020 at 11:10)</a>:</h4>
<p>E.g, lists are naturally associative: If I denote a composition of morphisms as a list, then <code>[f,g,h]</code> both stands for <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mo separator="true">;</mo><mi>g</mi><mo stretchy="false">)</mo><mo separator="true">;</mo><mi>h</mi></mrow><annotation encoding="application/x-tex">(f;g);h</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo separator="true">;</mo><mo stretchy="false">(</mo><mi>g</mi><mo separator="true">;</mo><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f;(g;h)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mclose">)</span></span></span></span>. In this sense, the list is naturally invariant wrt associativity</p>



<a name="203090740"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203090740" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aleks Kissinger <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203090740">(Jul 07 2020 at 11:26)</a>:</h4>
<p>So, in your data structure, are any two descriptions of the same string diagram literally equal? Or are they equal upto some equivalence (e.g. alpha-conversion)?</p>



<a name="203095463"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095463" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095463">(Jul 07 2020 at 12:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="295673">Aleks Kissinger</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203090740">said</a>:</p>
<blockquote>
<p>So, in your data structure, are any two descriptions of the same string diagram literally equal? Or are they equal upto some equivalence (e.g. alpha-conversion)?</p>
</blockquote>
<p>Literally equal would be the dream. Actually the cartographer data structure goes very close to this modulo some slight reindexing</p>



<a name="203095557"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095557" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095557">(Jul 07 2020 at 12:30)</a>:</h4>
<p>So what we did is implementing everything in idris, and then we <strong>postulated</strong> that two terms are equal modulo reindexing</p>



<a name="203095562"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095562" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095562">(Jul 07 2020 at 12:30)</a>:</h4>
<p><span class="user-mention" data-user-id="276438">@Fabrizio Genovese</span>  I'd be interested to know how things developed since the last time we had a chat about this in Tallinn!<br>
Did you have a chance to get into nominal string diagrams? They felt like a good fix to the problem of alpha conversion etc. <a href="https://arxiv.org/abs/1904.07534">https://arxiv.org/abs/1904.07534</a></p>



<a name="203095584"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095584" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095584">(Jul 07 2020 at 12:31)</a>:</h4>
<p>It's quite fiddly, but in the end we managed to make it work <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="203095693"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095693" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095693">(Jul 07 2020 at 12:32)</a>:</h4>
<p>So the idea is that you create a type called "open hypegraph from l to m". This type is a record, so a term of this type is made of a bunch of other terms. Among those, there is this "wiring" which is just a permutation from a set of nats to another</p>



<a name="203095732"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095732" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095732">(Jul 07 2020 at 12:32)</a>:</h4>
<p>These nats represent indexings of boundaries and more importantly internal nodes. So you can re-index the internal nodes in any way you want, if you change the permutation accordingly you get the same thing</p>



<a name="203095753"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095753" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095753">(Jul 07 2020 at 12:33)</a>:</h4>
<p>so in the end we had to postulate this properties for idris typechecker not to complain.</p>



<a name="203095774"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095774" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095774">(Jul 07 2020 at 12:33)</a>:</h4>
<p>Let me see if we opened up our code already</p>



<a name="203095814"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095814" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095814">(Jul 07 2020 at 12:33)</a>:</h4>
<p>So this encoding works for hypergraph categories? or symmetric monoidal in general?</p>



<a name="203095887"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095887" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095887">(Jul 07 2020 at 12:34)</a>:</h4>
<p><a href="https://github.com/statebox/fsm-oracle/blob/master/src/Cartographer/GoodHypergraphCategory.idr">https://github.com/statebox/fsm-oracle/blob/master/src/Cartographer/GoodHypergraphCategory.idr</a></p>



<a name="203095910"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095910" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095910">(Jul 07 2020 at 12:34)</a>:</h4>
<p>So, <code>goodhypergraphSMC</code> is the free symmetric strict monoidal category on a signature</p>



<a name="203095928"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095928" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095928">(Jul 07 2020 at 12:35)</a>:</h4>
<p>this is based on <code>goodHypegraph</code> which is a restriction of the <code>hypegraph</code> data structure, which is the one I was talking about.</p>



<a name="203095950"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095950" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095950">(Jul 07 2020 at 12:35)</a>:</h4>
<p>This is the <code>hypegraph</code></p>



<a name="203095954"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095954" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095954">(Jul 07 2020 at 12:35)</a>:</h4>
<p><a href="https://github.com/statebox/fsm-oracle/blob/master/src/Cartographer/Hypergraph.idr">https://github.com/statebox/fsm-oracle/blob/master/src/Cartographer/Hypergraph.idr</a></p>



<a name="203095964"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095964" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095964">(Jul 07 2020 at 12:35)</a>:</h4>
<p>The postulate is on line 69.</p>



<a name="203095972"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203095972" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203095972">(Jul 07 2020 at 12:35)</a>:</h4>
<p>I think I remember this "good" business from the last time you explained this stuff. It's checking that each wire is connected to a single port on both ends?</p>



<a name="203096043"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096043" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096043">(Jul 07 2020 at 12:36)</a>:</h4>
<p>Yes, the idea is this: cartographer graphs can also form feedback loops, and we don't want them</p>



<a name="203096123"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096123" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096123">(Jul 07 2020 at 12:37)</a>:</h4>
<p>So we notice that: <br>
A singleton hypegraph is free of loops<br>
Permutations (hypegraphs with no internal nodes) are free of loops<br>
Any composition and tensoring of those two building blocks is free of loops</p>



<a name="203096133"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096133" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096133">(Jul 07 2020 at 12:37)</a>:</h4>
<p>Do you know how much of this invariant encoding would work for non-symmetric cases?</p>



<a name="203096166"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096166" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096166">(Jul 07 2020 at 12:37)</a>:</h4>
<p>Like, you don't want symmetries around?</p>



<a name="203096205"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096205" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096205">(Jul 07 2020 at 12:37)</a>:</h4>
<p>This MAY make things easier, since the whole permutation business is a nightmare</p>



<a name="203096251"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096251" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096251">(Jul 07 2020 at 12:38)</a>:</h4>
<p>Maybe you could just rule the permutations bit out</p>



<a name="203096257"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096257" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096257">(Jul 07 2020 at 12:38)</a>:</h4>
<p>I'm wondering if the problem gets any easier if you solve it in two stages, first non-symmetric monoidal then symmetry and permutation nightmares?</p>



<a name="203096278"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096278" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096278">(Jul 07 2020 at 12:38)</a>:</h4>
<p>Nope, it doesn't</p>



<a name="203096294"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096294" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096294">(Jul 07 2020 at 12:38)</a>:</h4>
<p>because the problem IS the permutation nightmare xD</p>



<a name="203096320"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096320" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096320">(Jul 07 2020 at 12:38)</a>:</h4>
<p>So, for instance, our code is:</p>
<div class="codehilite"><pre><span></span><code>data GoodHypergraph : {s : Type} -&gt; {ai, ao : s -&gt; List o} -&gt; (g : Hypergraph s ai ao k l) -&gt; Type where
    Singleton : (edge : s) -&gt; GoodHypergraph (singleton edge)
    Permutation : (p : Perm k l) -&gt; GoodHypergraph (permutation p)
    HComp : (a : GoodHypergraph g)
         -&gt; (b : GoodHypergraph h)
         -&gt; GoodHypergraph (compose g h)
    VComp : (a : GoodHypergraph g)
         -&gt; (b : GoodHypergraph h)
         -&gt; GoodHypergraph (add g h)
</code></pre></div>



<a name="203096341"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096341" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096341">(Jul 07 2020 at 12:39)</a>:</h4>
<p>If you don't want to allow permutations you just rule them out in the record substituting them wit <code>Identities</code></p>



<a name="203096358"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096358" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096358">(Jul 07 2020 at 12:39)</a>:</h4>
<p>So you want an identity datatype which is way easier than a permutation</p>



<a name="203096522"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096522" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096522">(Jul 07 2020 at 12:40)</a>:</h4>
<p>Don't you end up with factorial explosions when you try to handle permutations explicitly? Or did you manage to make the code lazy enough that it never actually run through all of them?</p>



<a name="203096553"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096553" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096553">(Jul 07 2020 at 12:41)</a>:</h4>
<p>So in this type signature <code>s</code> is the type of nodes (basic blocks), <code>ai</code> and <code>ao</code> are arity functions telling you inputs and outputs of wires, etc</p>



<a name="203096573"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096573" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096573">(Jul 07 2020 at 12:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="294964">Alexis Toumi</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203096522">said</a>:</p>
<blockquote>
<p>Don't you end up with factorial explosions when you try to handle permutations explicitly? Or did you manage to make the code lazy enough that it never actually run through all of them?</p>
</blockquote>
<p>You don't, because you don't deal with them explicitly</p>



<a name="203096593"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096593" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096593">(Jul 07 2020 at 12:41)</a>:</h4>
<p>Cool!</p>



<a name="203096604"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096604" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexis Toumi <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096604">(Jul 07 2020 at 12:41)</a>:</h4>
<p>I'm still curious whether/how nominal sets of wires would help for this nightmare</p>



<a name="203096652"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096652" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096652">(Jul 07 2020 at 12:42)</a>:</h4>
<p>If I write <code>append to list :: a -&gt; [a] -&gt; [a]</code> I'm not considering all lists over type <code>a</code> at once</p>



<a name="203096681"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096681" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096681">(Jul 07 2020 at 12:42)</a>:</h4>
<p>Nominal sets just hide permutations under the rug using a group action</p>



<a name="203096693"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096693" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096693">(Jul 07 2020 at 12:42)</a>:</h4>
<p>but guess what, we have to implement the group action anyway xD</p>



<a name="203096721"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096721" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096721">(Jul 07 2020 at 12:42)</a>:</h4>
<p>So at this point it was easier to use idris permutation library xD</p>



<a name="203096742"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096742" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096742">(Jul 07 2020 at 12:43)</a>:</h4>
<p>What would really help is HoTT</p>



<a name="203096765"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096765" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096765">(Jul 07 2020 at 12:43)</a>:</h4>
<p>Cos we could just use truncated types and define SMCs without constructing all this explicitly</p>



<a name="203096960"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203096960" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203096960">(Jul 07 2020 at 12:45)</a>:</h4>
<p>Which we did btw, actually <span class="user-mention" data-user-id="277960">@Fredrik Nordvall Forsberg</span>  did it for us: <a href="https://github.com/statebox/idris-ct/pull/32/files">https://github.com/statebox/idris-ct/pull/32/files</a></p>



<a name="203111481"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203111481" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aleks Kissinger <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203111481">(Jul 07 2020 at 14:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276438">Fabrizio Genovese</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203095463">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="295673">Aleks Kissinger</span> <a href="#narrow/stream/243068-ACT-2020/topic/Tutorial.3A.20String.20Diagrams.20(Fabrizio.20Genovese)/near/203090740">said</a>:</p>
<blockquote>
<p>So, in your data structure, are any two descriptions of the same string diagram literally equal? Or are they equal upto some equivalence (e.g. alpha-conversion)?</p>
</blockquote>
<p>Literally equal would be the dream. Actually the cartographer data structure goes very close to this modulo some slight reindexing</p>
</blockquote>
<p>Yeah, this is basically what quanto does as well. I see Cartographer has a "HyperEdgeId" type, which is basically an int, which serves to give the hyperedge a unique (but meaningless) name, then you are always working modulo renaming. I don't know if there's really any way around that. There may even be some kind of "no free lunch" principle when it comes to data structures representing string diagrams</p>



<a name="203112204"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203112204" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aleks Kissinger <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203112204">(Jul 07 2020 at 14:49)</a>:</h4>
<p>i've experimented some with representing string diagrams as Penrose abstract tensor systems (formalised using nominal algebra). theoretically, this looks quite nice. in practice, i lost weeks proving little lemmas about finite supports and equivarience in nominal isabelle, and never quite got it to understand the "obvious" way you can do equational reasoning with the abstract tensor notation.</p>



<a name="203114357"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/243068-event%3A%20ACT20/topic/Tutorial%3A%20String%20Diagrams%20%28Fabrizio%20Genovese%29/near/203114357" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fabrizio Genovese <a href="https://mattecapu.github.io/ct-zulip-archive/stream/243068-event.3A-ACT20/topic/Tutorial.3A.20String.20Diagrams.20.28Fabrizio.20Genovese.29.html#203114357">(Jul 07 2020 at 15:05)</a>:</h4>
<p>I think there is no way until we have a type theory that supports quotients well, like HoTT.</p>



<footer class="site-footer">

<hr><p>Last updated: Feb 28 2026 at 12:12 UTC</p>
This archive runs on a customization of <a href="https://github.com/zulip/zulip-archive">zulip-archive</a>
</footer>
</body>

</html>