<!DOCTYPE html>
<html>
<head>
  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
  	<meta name="viewport" content="width=device-width, initial-scale=1" />
  
<link rel="stylesheet" href="https://mattecapu.github.io/ct-zulip-archive/style.css" /><title>gluing lemma · theory: categorical probability · Zulip Chat Archive</title>
</head>
<body>
<header>
<a href="https://mattecapu.github.io/ct-zulip-archive" class="home-link">
        <img class="logo" src="https://zulip-avatars.s3.amazonaws.com/21317/realm/icon.png?version=3" />
        <h1>Category Theory<br/>Zulip Server<br/>Archive</h1>
        </a>
        <p>
        You're reading the public-facing archive of the <a href="https://categorytheory.zulipchat.com/">Category Theory Zulip server</a>.<br/>
        
        To join the server you need an invite. Anybody can get an invite by contacting <a href="https://matteocapucci.wordpress.com">Matteo Capucci</a> at <em>name dot surname at gmail dot com</em>.<br/>
        
        For all things related to this archive refer to the same person.
        </p>
        </header>
        <hr />
    
<h2>Stream: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/index.html">theory: categorical probability</a></h2>
<h3>Topic: <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html">gluing lemma</a></h3>

<hr>

<base href="https://categorytheory.zulipchat.com">

<a name="553815173"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553815173" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553815173">(Nov 05 2025 at 10:23)</a>:</h4>
<p>The gluing lemma is the following statement, taken from Villani's monograph on optimal transport:<br>
<a href="/user_uploads/21317/ik-CbxggbImf37F55otH83F7/image.png">image.png</a><br>
<a href="/user_uploads/21317/QCp-KGerPSdvred_IRCrNXlF/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/21317/ik-CbxggbImf37F55otH83F7/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="609x70" src="/user_uploads/thumbnail/21317/ik-CbxggbImf37F55otH83F7/image.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/21317/QCp-KGerPSdvred_IRCrNXlF/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="580x362" src="/user_uploads/thumbnail/21317/QCp-KGerPSdvred_IRCrNXlF/image.png/840x560.webp"></a></div><p>I wonder if a formalization in Markov categories with conditionals is known?</p>



<a name="553815793"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553815793" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553815793">(Nov 05 2025 at 10:26)</a>:</h4>
<p>Yes! See for example <a href="https://arxiv.org/abs/1908.07021">here</a>, sections 11 and 12.</p>



<a name="553816260"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553816260" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553816260">(Nov 05 2025 at 10:28)</a>:</h4>
<p>(I think the construction is exactly the one in Definition 12.8, at least if you want the <em>law</em> of those random variables, which is what matters for optimal transport.)</p>



<a name="553817225"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553817225" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553817225">(Nov 05 2025 at 10:33)</a>:</h4>
<p>Ah nice! The remark about the category of couplings is what I was looking for!</p>



<a name="553817476"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553817476" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553817476">(Nov 05 2025 at 10:34)</a>:</h4>
<p>It's so good to have the necessary hypotheses for these results neatly figured out..!</p>



<a name="553817639"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553817639" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553817639">(Nov 05 2025 at 10:35)</a>:</h4>
<p>Oh. Take a look at Definition 13.8 then.<br>
(There is quite a big line of work on that category by the way, starting <a href="https://ncatlab.org/nlab/show/category+of+couplings">here</a>.)</p>



<a name="553819856"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553819856" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553819856">(Nov 05 2025 at 10:45)</a>:</h4>
<p>By the way, the fact that categories of couplings (i.e. joint distributions with specified marginals) and of transport plans (i.e. particular kernels/probabilistic relations) are one and the same thing, is a generalization of the very famous correspondence between regular categories and tabular allegories.<br>
See for example <a href="https://arxiv.org/abs/2508.01146">this recent preprint</a> and <a href="https://youtu.be/ls6zOX8L1eI?si=lsu8IArL4Co1FHKr">my talk at CT</a>.<br>
(There is for sure a double-categorical story as well.)</p>
<div class="youtube-video message_inline_image"><a data-id="ls6zOX8L1eI" href="https://youtu.be/ls6zOX8L1eI?si=lsu8IArL4Co1FHKr"><img src="https://uploads.zulipusercontent.net/b512dce4a9def0ac0b745d56924657eb283bde1f/68747470733a2f2f692e7974696d672e636f6d2f76692f6c73367a4f58384c3165492f6d7164656661756c742e6a7067"></a></div>



<a name="553822146"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553822146" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Baez <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553822146">(Nov 05 2025 at 10:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="275989">Paolo Perrone</span> <a href="#narrow/channel/253118-theory.3A-categorical-probability/topic/gluing.20lemma/near/553819856">said</a>:</p>
<blockquote>
<p>By the way, the fact that categories of couplings (i.e. joint distributions with specified marginals) and of transport plans (i.e. particular kernels/probabilistic relations) are one and the same thing, is a generalization of the very famous correspondence between regular categories and tabular allegories.<br>
See for example <a href="https://arxiv.org/abs/2508.01146">this recent preprint</a> and <a href="https://youtu.be/ls6zOX8L1eI?si=lsu8IArL4Co1FHKr">my talk at CT</a>.<br>
(There is for sure a double-categorical story as well.)</p>
</blockquote>
<p>Wow, that's neat.  I haven't looked at those things yet.  Do you find a general abstract result that includes those two correspondences as special cases?</p>



<a name="553822890"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553822890" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553822890">(Nov 05 2025 at 10:59)</a>:</h4>
<p>Not quite but almost. But I think that general abstract result exists.<br>
(The correspondence for now uses a strong version of 'maps', which in particular must be split epi. This is good enough e.g. for probability, but too strong for relations.)</p>



<a name="553870172"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553870172" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553870172">(Nov 05 2025 at 14:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="275989">Paolo Perrone</span> <a href="#narrow/channel/253118-theory.3A-categorical-probability/topic/gluing.20lemma/near/553819856">said</a>:</p>
<blockquote>
<p>By the way, the fact that categories of couplings (i.e. joint distributions with specified marginals) and of transport plans (i.e. particular kernels/probabilistic relations) are one and the same thing, is a generalization of the very famous correspondence between regular categories and tabular allegories.<br>
See for example <a href="https://arxiv.org/abs/2508.01146">this recent preprint</a> and <a href="https://youtu.be/ls6zOX8L1eI?si=lsu8IArL4Co1FHKr">my talk at CT</a>.<br>
(There is for sure a double-categorical story as well.)</p>
</blockquote>
<p>Oh, right :)</p>



<a name="553871100"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553871100" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553871100">(Nov 05 2025 at 14:29)</a>:</h4>
<p>Actually, 'coupling' and 'transport plan' are usualy synonym (see e.g. <a href="https://ncatlab.org/nlab/show/coupling">[[coupling]]</a>). Is the theorem that any coupling <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \to Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> corresponds to a kernel <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \to Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>, by disintegration?</p>



<a name="553873625"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553873625" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553873625">(Nov 05 2025 at 14:38)</a>:</h4>
<p>There are two levels.</p>
<p>1) A joint distribution and an a.s. equivalence class of measure-preserving kernel amount to the same data (provided disintegrations exist). Hence they are both referred to as 'couplings' or 'transport plans' interchangeably.</p>
<p>2) There is a more general notion of coupling: a span of (eq. classes of) measure-preserving functions between probability spaces. (And the joint distribution is a terminal such span, in an appropriate sense.)</p>
<p>What we have here is that the category of kernels is equivalent to a category of spans of functions (=deterministic kernels). And this parallels how the category of relations is a category of spans of functions (=deterministic relations).</p>



<a name="553874128"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553874128" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matteo Capucci (he/him) <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553874128">(Nov 05 2025 at 14:40)</a>:</h4>
<p>Nice!</p>



<a name="553874841"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553874841" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553874841">(Nov 05 2025 at 14:43)</a>:</h4>
<p>The neat thing is that not only do kernels correspond to joint distributions, but also, and mostly, the composition of kernels corresponds to the 'gluing' of joint distributions (followed by marginalization on the middle variable).<br>
This has to do with the fact that Markov kernels compose in a 'Markov' way (hence the name): in a composite kernel, the two probabilistic transitions happen independently of one another.</p>



<a name="553875050"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/553875050" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#553875050">(Nov 05 2025 at 14:44)</a>:</h4>
<p>(This happens with relations too, and it's exactly what the Beck-Chevalley condition is about.)</p>



<a name="554351055"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/554351055" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eigil Rischel <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#554351055">(Nov 07 2025 at 15:35)</a>:</h4>
<p><a href="/user_uploads/21317/p9xyKu3XTmo8T12bGYf0T7WH/image.png">image.png</a><br>
I only just saw this paper, but I found this part very intersting. I recently had cause to use this fact (that a square is independent in this sense if and only if the square obtained after replacing the vertical maps with their Bayesian inverses is still commutative), in some work on stochastic processes. This condition is basically the one-step version of what probability theorists call an <em>immersion of filtrations</em> (formally this means that any martingale for the smaller filtration is still a martingale when considered with respect to the larger filtration). Very interesting stuff!</p>
<div class="message_inline_image"><a href="/user_uploads/21317/p9xyKu3XTmo8T12bGYf0T7WH/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="584x207" src="/user_uploads/thumbnail/21317/p9xyKu3XTmo8T12bGYf0T7WH/image.png/840x560.webp"></a></div>



<a name="554472406"></a>
<h4><a href="https://categorytheory.zulipchat.com#narrow/stream/253118-theory%3A%20categorical%20probability/topic/gluing%20lemma/near/554472406" class="zl"><img src="https://mattecapu.github.io/ct-zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paolo Perrone <a href="https://mattecapu.github.io/ct-zulip-archive/stream/253118-theory.3A-categorical-probability/topic/gluing.20lemma.html#554472406">(Nov 08 2025 at 10:38)</a>:</h4>
<p><span class="user-mention silent" data-user-id="276165">Eigil Rischel</span> <a href="#narrow/channel/253118-theory.3A-categorical-probability/topic/gluing.20lemma/near/554351055">said</a>:</p>
<blockquote>
<p><a href="/user_uploads/21317/p9xyKu3XTmo8T12bGYf0T7WH/image.png">image.png</a></p>
</blockquote>
<p>I find this very fascinating too.<br>
(By the way I recently gave a short talk focusing on just that: <a href="https://www.youtube.com/watch?v=mUPJEt3FeiU">https://www.youtube.com/watch?v=mUPJEt3FeiU</a>)</p>
<div class="youtube-video message_inline_image"><a data-id="mUPJEt3FeiU" href="https://www.youtube.com/watch?v=mUPJEt3FeiU"><img src="https://uploads.zulipusercontent.net/5060564f8b3b805cce3bc45006eb33105f071ce5/68747470733a2f2f692e7974696d672e636f6d2f76692f6d55504a457433466569552f6d7164656661756c742e6a7067"></a></div>



<footer class="site-footer">

<hr><p>Last updated: Feb 28 2026 at 12:12 UTC</p>
This archive runs on a customization of <a href="https://github.com/zulip/zulip-archive">zulip-archive</a>
</footer>
</body>

</html>