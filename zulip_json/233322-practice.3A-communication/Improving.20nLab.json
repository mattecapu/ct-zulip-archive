[
    {
        "content": "<p>NLab is a great resource, but as everything can be improved, I thought it would be good to have a thread on it.<br>\nTwo ideas to start:</p>\n<ol>\n<li>\n<p>A lot of links are dead on nlab. It would be useful to have a crawler verify links regularly. Indeed it would be useful for any object linked to, to be saved first, and in case a link breaks the cached version could be linked to. <br>\nThis is a general feature that any web server should have, as I argue at the end of the blog post <a href=\"https://blog.usejournal.com/co-immunology-and-the-web-43379b46688e\">co-immunology and the Web</a></p>\n</li>\n<li>\n<p>On another thread a couple of days ago, it occurred to me that it would be useful to have a map of how different CT concepts have ended up being used in the world. We found that <a href=\"https://www.artima.com/weblogs/viewpost.jsp?thread=163733\">petri-nets were used in Scala</a> which is very helpful to know.</p>\n</li>\n</ol>",
        "id": 198906201,
        "sender_full_name": "Henry Story",
        "timestamp": 1590592270
    },
    {
        "content": "<p>You may want to cc the <a href=\"https://ncatlab.org/nlabmeta/show/steering+committee\">Steering Committee</a>, although idea 1 sounds really technical and I have no idea who the sysadmin is now. It was <span class=\"user-mention silent\" data-user-id=\"276018\">Andrew Stacey</span>, but I'm not sure if it's still him now.</p>",
        "id": 198907521,
        "sender_full_name": "(=_=)",
        "timestamp": 1590592782
    },
    {
        "content": "<p>Idea 2 is a nice idea, but would require some visualisation, and I don't know how much <a href=\"https://golem.ph.utexas.edu/wiki/instiki/show/HomePage\">Instiki</a> is capable of doing.</p>",
        "id": 198907842,
        "sender_full_name": "(=_=)",
        "timestamp": 1590592920
    },
    {
        "content": "<p>I guess if this were added  on the wiki in a way so as to make the data extractable people could slowly add such information to each page, and then later extract the data when enough was available to build a visualization.</p>",
        "id": 198908606,
        "sender_full_name": "Henry Story",
        "timestamp": 1590593238
    },
    {
        "content": "<p>It's just markdown, so adding a section (with a standardised name) for real-world applications would probably do the trick.</p>",
        "id": 198909536,
        "sender_full_name": "(=_=)",
        "timestamp": 1590593600
    },
    {
        "content": "<p>The sysadmin is Richard Williamson. I'm on the Steering Committee and can bring it up.</p>",
        "id": 198910033,
        "sender_full_name": "Todd Trimble",
        "timestamp": 1590593822
    },
    {
        "content": "<p>Yeah, I know David, but he's pretty busy these days.</p>",
        "id": 198910912,
        "sender_full_name": "(=_=)",
        "timestamp": 1590594231
    },
    {
        "content": "<p>I think anyone who wants to start adding application sections would be welcome to do so.</p>",
        "id": 198911616,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1590594536
    },
    {
        "content": "<p>So <span class=\"user-mention\" data-user-id=\"281126\">@Henry Story</span> , I did hear back from two other Steering Committee members, and there is general openness to the crawler idea, but I don't know anything about this, such as how to even get started. Do you have any experience with getting such a crawler installed?</p>",
        "id": 198917330,
        "sender_full_name": "Todd Trimble",
        "timestamp": 1590597073
    },
    {
        "content": "<p>I am in the middle  starting a company to get a part time job to pay for my PhD. But it would be relatively easy to write one in Scala (for me) using akka. Nevertheless like any software project it does require work - writing code, testing, ... I think I need it for the project I am working on (hence my blog post). So at some point I'll be writing one. It would be then some work (but less) to adapt it to the nlab.</p>",
        "id": 198918017,
        "sender_full_name": "Henry Story",
        "timestamp": 1590597393
    },
    {
        "content": "<p>I'm <em>technically</em> an 'assistant system administrator' for the nLab; I say 'technically' because I only came on board at the end of last year, and haven't yet contributed much (for reasons I'll explain below). But I can at least offer some initial thoughts. :-)</p>\n<p><a href=\"https://ncatlab.org/nlab/show/Richard+Williamson\">Richard Williamson</a> is the current sysadmin for the nLab. He's currently working hard on a rewrite of the nForum, part of which involves writing a new Markdown parser. The current priority is to move the nLab to the cloud, and Richard feels this rewrite is a blocker for that. Once the rewrite is done, however, the move to the cloud will present opportunities for people to help out.</p>\n<p>As a result of the preceding, Richard currently doesn't have much time available to onboard people wishing to help out with nLab stuff. There are several small changes I started working on, but I reached a point where I needed further assistance from Richard, and his time constraints have meant he's been unable to do so. So I've not done much more than occasionally dealing with nLab spam.</p>\n<p>From my perspective, the nLab software needs administrative re-organisation to make it easier for others to contribute. For example, development is effectively not under version control - the <a href=\"https://github.com/ncatlab\">GitHub repos</a> are not actively used (via branches, GitHub forks, issues, pull requests etc.), but are essentially snapshot mirrors.</p>\n<p>One other thing I'd like to mention is that nLab currently makes use of Ruby (via Instiki and Ruby on Rails) and Python, and I seem to remember Richard's new parser might be in another language again, maybe C? My personal preference is that we try to avoid adding further languages to the mix, as the more languages involved, the more complex the entire system will be to maintain.</p>",
        "id": 199121530,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1590737236
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"278736\">Alexis Hazell</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199121530\">said</a>:</p>\n<blockquote>\n<p>One other thing I'd like to mention is that nLab currently makes use of Ruby (via Instiki and Ruby on Rails) and Python, and I seem to remember Richard's new parser might be in another language again, maybe C? </p>\n</blockquote>\n<p>From a certain point of view, this is <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span>.</p>",
        "id": 199121789,
        "sender_full_name": "(=_=)",
        "timestamp": 1590737439
    },
    {
        "content": "<p>if you have a point of view from which it's not <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span>, i would be morbidly curious to know what it is</p>",
        "id": 199591250,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591172369
    },
    {
        "content": "<p>i just wanna know why the search is so slow</p>",
        "id": 199591285,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591172400
    },
    {
        "content": "<p>um</p>",
        "id": 199591594,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591172610
    },
    {
        "content": "<p><a href=\"/user_uploads/21317/3ijukgb9wBSt2JuirzkVtwsL/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/3ijukgb9wBSt2JuirzkVtwsL/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/3ijukgb9wBSt2JuirzkVtwsL/image.png\"></a></div>",
        "id": 199591598,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591172612
    },
    {
        "content": "<p>this better not be doing what i think it's doing</p>",
        "id": 199591607,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591172618
    },
    {
        "content": "<p>What do you think it's doing?</p>",
        "id": 199593935,
        "sender_full_name": "Oscar Cunningham",
        "timestamp": 1591174158
    },
    {
        "content": "<p>I don't even know what language that is, but the nLab search is really slow so if you think they've made a horrific mistake then I believe you</p>",
        "id": 199594044,
        "sender_full_name": "Oscar Cunningham",
        "timestamp": 1591174224
    },
    {
        "content": "<p>it's loading a list of every page from the database and then searching through them in the web app</p>",
        "id": 199594896,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591174758
    },
    {
        "content": "<p>instead of letting the database do the searching</p>",
        "id": 199594908,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591174766
    },
    {
        "content": "<p>unless i've misunderstood the code, which is possibleâ€”but i did poke around a bit to make moderately sure</p>",
        "id": 199594962,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591174792
    },
    {
        "content": "<p>sorry, not just a <em>list</em> of every page, but the <em>content</em> of every page, so that it can scan through all of it</p>",
        "id": 199595046,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591174821
    },
    {
        "content": "<p>It's Ruby - more specifically, Ruby on Rails.</p>",
        "id": 199595115,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591174871
    },
    {
        "content": "<p>(rails is a framework, the language is still ruby)</p>",
        "id": 199595226,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591174931
    },
    {
        "content": "<p>Yes, I'm aware. :-)</p>",
        "id": 199595253,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591174945
    },
    {
        "content": "<p>sorry <span aria-label=\"zip it\" class=\"emoji emoji-1f910\" role=\"img\" title=\"zip it\">:zip_it:</span></p>",
        "id": 199595312,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591174981
    },
    {
        "content": "<p>I see. So I'm downloading a copy of the entire nLab (minus pictures) every time I do a search <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span> (EDIT: No)</p>",
        "id": 199595362,
        "sender_full_name": "Oscar Cunningham",
        "timestamp": 1591175020
    },
    {
        "content": "<p>I don't know what RoR does behind the scenes with this, as I only started learning it last year when I came on board, then haven't looked into it any further for the reasons I described above, plus all the other commitments in my life.</p>",
        "id": 199595375,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591175037
    },
    {
        "content": "<p>well, <em>you</em> aren't, but the ruby process is downloading a copy from the database every time, as far as i can tell</p>",
        "id": 199595420,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175047
    },
    {
        "content": "<p>RoR might translate such code directly into db queries for all I know.</p>",
        "id": 199595455,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591175086
    },
    {
        "content": "<p>and they're probably either on the same machine or on a very fast network with each other, so that's waaaaaaaay faster than downloading the whole nlab over the internet</p>",
        "id": 199595456,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175086
    },
    {
        "content": "<p>nah alexis i poked around in the code to make sure</p>",
        "id": 199595476,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175098
    },
    {
        "content": "<p>im pretty confident this is what it's doing</p>",
        "id": 199595486,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175107
    },
    {
        "content": "<p>one sec</p>",
        "id": 199595487,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175109
    },
    {
        "content": "<p>They're on the same server.</p>",
        "id": 199595491,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591175112
    },
    {
        "content": "<p>ahh, you're one of the admins :o</p>",
        "id": 199595531,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175145
    },
    {
        "content": "<p>Well, as I wrote above, 'technically'. :-)</p>",
        "id": 199595571,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591175162
    },
    {
        "content": "<p>I don't know how much the hardware underlying the current server is impacting performance, but since Richard is prioritising getting things ready for a move to cloud servers, I suspect it might be.</p>",
        "id": 199595673,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591175261
    },
    {
        "content": "<p>so the <code>select</code> method being called on <code>@web</code> is, i am pretty willing to guess from strong context clues, this:<br>\n<a href=\"/user_uploads/21317/JUuhC8VXG-4sNamgRGO7CN-T/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/JUuhC8VXG-4sNamgRGO7CN-T/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/JUuhC8VXG-4sNamgRGO7CN-T/image.png\"></a></div>",
        "id": 199595746,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175310
    },
    {
        "content": "<p>...not that name resolution in ruby is actually possible to do statically, but we try.</p>",
        "id": 199595768,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175333
    },
    {
        "content": "<p>then: <a href=\"/user_uploads/21317/k6vTRs4r697R7X_rwU4_FN8k/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/k6vTRs4r697R7X_rwU4_FN8k/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/k6vTRs4r697R7X_rwU4_FN8k/image.png\"></a></div>",
        "id": 199595781,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175351
    },
    {
        "content": "<p>so when you say <code>@web.select { |page| ... }</code>, that ends up just <code>@web.pages.select {|page| ... }</code> and tossing them into this <code>PageSet</code> wrapper class instead of an <code>Array</code></p>",
        "id": 199595886,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175417
    },
    {
        "content": "<p>roughly speaking</p>",
        "id": 199595888,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175419
    },
    {
        "content": "<p>and this is where <code>.pages</code> comes from on <code>@web</code>:<br>\n<a href=\"/user_uploads/21317/BHJlI-zPvLmLVmR7PWf51RtC/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/BHJlI-zPvLmLVmR7PWf51RtC/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/BHJlI-zPvLmLVmR7PWf51RtC/image.png\"></a></div>",
        "id": 199595926,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175452
    },
    {
        "content": "<p>browsing the activerecord docu makes it look like methods generated by <code>has_many</code> will produce some kind of instance of this <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/Relation.html\">https://api.rubyonrails.org/classes/ActiveRecord/Relation.html</a></p>",
        "id": 199596039,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175528
    },
    {
        "content": "<p>and that folds in <code>Enumerable</code>, so <code>select</code> is gonna enumerate the whole thing</p>",
        "id": 199596081,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175573
    },
    {
        "content": "<p>its possible ive confused myself and this is actually a <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/Result.html\">https://api.rubyonrails.org/classes/ActiveRecord/Result.html</a> but that's also folding in <code>Enumerable</code></p>",
        "id": 199596105,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175594
    },
    {
        "content": "<p>so either way, that <code>select</code> is happening on the ruby end</p>\n<p>EDIT: i realized later the <code>select</code> is actually probably coming from <a href=\"https://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-select\">https://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-select</a> (which that documentation completely fails to show, as ironic punishment for me because i mocked the impossibility of statically resolving names in ruby above)</p>\n<p>but that does in fact appear to delegate back to <code>Enumerable</code> when called with a block, so. same conclusion</p>",
        "id": 199596121,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175609
    },
    {
        "content": "<p>which means the only way it can be getting all the stuff it needs to be looking at is if <code>@web.pages</code> really is just... grabbing the entire site</p>",
        "id": 199596142,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175639
    },
    {
        "content": "<p>obviously there are any number of places where i couldve missed something here, but it seems to fit together as far as i can tell, and it would certainly explain why the search function is so incredibly slow</p>",
        "id": 199596246,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175712
    },
    {
        "content": "<p>but it's 5:15am here and hooooly crap i should be asleep <span aria-label=\"sob\" class=\"emoji emoji-1f62d\" role=\"img\" title=\"sob\">:sob:</span></p>",
        "id": 199596267,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175738
    },
    {
        "content": "<p>:-) Your analysis certainly seems reasonable but to me, but yeah, I only have a passing familiarity the system (and RoR) at this point. But it wouldn't surprise me if the nLab hadn't significantly outgrown the sort of use-case that RoR might have been designed for.</p>",
        "id": 199596471,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591175885
    },
    {
        "content": "<p>oh that has nothing to do with it :p</p>",
        "id": 199596501,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175912
    },
    {
        "content": "<p>you can just ask the db to match the regex instead of ruby</p>",
        "id": 199596523,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175924
    },
    {
        "content": "<p>you just need to fiddle the code around a little so that it's constructing a query that passes the regex to the db, instead of doing a full-site query and then filtering it ruby-side</p>",
        "id": 199596581,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175959
    },
    {
        "content": "<p>ruby's regex engine probably has more features than the db's, but i feel like that's a small thing to lose</p>",
        "id": 199596611,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591175995
    },
    {
        "content": "<p>im going to close this tab for now before i get sucked into a convo about this</p>",
        "id": 199596680,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591176024
    },
    {
        "content": "<p>i need. sleep</p>",
        "id": 199596683,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591176026
    },
    {
        "content": "<p>Fair enough. :-) But for when you come back later: could perhaps mention all this in the \"<a href=\"https://nforum.ncatlab.org/discussion/10105/?Focus=83244#Comment_83244\">Bugs and feature requests</a>\" discussion in the nForum? That way this issue is less likely to be forgotten. (Oh how I wish we were using an <em>actual</em> issue tracker ....)</p>",
        "id": 199596858,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591176145
    },
    {
        "content": "<p>More generally, people might like to check out the \"<a href=\"https://ncatlab.org/nlabmeta/show/Technical%20TODO%20list\">Technical TODO list</a>\", which describes a number of things that need to be addressed. :-)</p>",
        "id": 199597627,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591176614
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276072\">sarahzrf</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199591250\">said</a>:</p>\n<blockquote>\n<p>if you have a point of view from which it's not <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span>, i would be morbidly curious to know what it is</p>\n</blockquote>\n<p>From the point of view of \"C is faster than Ruby and Python, so we should use C\".</p>\n<p>Well done on the code review, by the way!</p>",
        "id": 199601145,
        "sender_full_name": "(=_=)",
        "timestamp": 1591178997
    },
    {
        "content": "<p>Well, I don't remember the exact language Richard is writing the new parser in (it might not have been C, but Go, or something else entirely), but at any rate, his work is not, afaik, intended to address nLab search speed .... At any rate, I've just sent him an invite to join this discussion.</p>",
        "id": 199601724,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591179418
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"278736\">Alexis Hazell</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199601724\">said</a>:</p>\n<blockquote>\n<p>Well, I don't remember the exact language Richard is writing the new parser in (it might not have been C, but Go, or something else entirely), but at any rate, his work is not, afaik, intended to address nLab search speed</p>\n</blockquote>\n<p>Sorry, it was just a guess. But I know there's a point of view that thinks that Python and Ruby cannot possibly be faster than lower-level languages like C or Go, and since the slow search came up in this convo as an issue, that became my hunch. I'm sure Richard has his own reasons for choosing a new language, and I'm hoping his experience in industry is a sign of good things to come.</p>",
        "id": 199601900,
        "sender_full_name": "(=_=)",
        "timestamp": 1591179592
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"278736\">Alexis Hazell</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199121530\">said</a>:</p>\n<blockquote>\n<p>He's currently working hard on a rewrite of the nForum, part of which involves writing a new Markdown parser. The current priority is to move the nLab to the cloud, and Richard feels this rewrite is a blocker for that. [...]</p>\n<p>One other thing I'd like to mention is that nLab currently makes use of Ruby (via Instiki and Ruby on Rails) and Python, and I seem to remember Richard's new parser might be in another language again, maybe C? </p>\n</blockquote>\n<p>So here's something that's confusing me. There are a few open-source markdown parsers written in <a href=\"https://www.google.com/search?q=markdown+parser+ruby\">Ruby</a> or <a href=\"https://www.google.com/search?q=markdown+parser+python\">Python</a> out there, some of which are allegedly fast. Since this rewrite has been such a blocker for moving the nLab to the cloud, what have been the difficulties in re-purposing one of these pre-existing parsers for the nForum? Or was that what Richard's been trying to do?</p>",
        "id": 199613841,
        "sender_full_name": "(=_=)",
        "timestamp": 1591188125
    },
    {
        "content": "<p>Sorry, I don't know the details, apart from the parser being only one aspect of an overall rewrite of the nForum code (currently in PHP), which Richard has said is what's needed for the move. Hopefully Richard will join this discussion and fill in those details. :-)</p>",
        "id": 199616765,
        "sender_full_name": "Alexis Hazell",
        "timestamp": 1591189697
    },
    {
        "content": "<p>By the way, <span class=\"user-mention\" data-user-id=\"276143\">@David Tanzer</span> has set up a wiki sort of like the nLab and <em>very</em> like the Azimuth wiki - but for the ACT community.</p>",
        "id": 199657434,
        "sender_full_name": "John Baez",
        "timestamp": 1591208731
    },
    {
        "content": "<p>He'll open it up to us pretty soon.</p>",
        "id": 199657476,
        "sender_full_name": "John Baez",
        "timestamp": 1591208757
    },
    {
        "content": "<p>I hope we use it, and I hope some of you programmers work on making it great!</p>",
        "id": 199657555,
        "sender_full_name": "John Baez",
        "timestamp": 1591208777
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"275920\">@John Baez</span> Indeed!  Once it's launched, we can use a separate stream for planning and detailed discussions about content organization and page contents.   Hope to see people there!</p>",
        "id": 199660512,
        "sender_full_name": "David Tanzer",
        "timestamp": 1591210268
    },
    {
        "content": "<p>Amazing! I talked about this a lot a year or 2 ago, and then dropped it because noone else seemed to care as much as me</p>",
        "id": 199661125,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591210575
    },
    {
        "content": "<p>It's a kind of coincidence, <span class=\"user-mention\" data-user-id=\"275901\">@Jules Hedges</span>  - David was trying to get the Azimuth Wiki to use TikZ, and it turned out to be easier to set up a new wiki that's similar in format to the Azimuth Wiki but uses TikZ.</p>",
        "id": 199661645,
        "sender_full_name": "John Baez",
        "timestamp": 1591210863
    },
    {
        "content": "<p>Yay! I'll definitely be on board with this</p>",
        "id": 199661937,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591211035
    },
    {
        "content": "<p>I think we could <em>both</em> put content on the nLab, and in new wikis, provided that we give links to one another when it's relevant, so that we don't have many small projects. After all, as applied category theorists we know very well that networks can be glued :)</p>",
        "id": 199674413,
        "sender_full_name": "Paolo Perrone",
        "timestamp": 1591217139
    },
    {
        "content": "<p>Guys, if you are going to write an nLab web site, do it in an advanced typesafe language! Something where you can learn/use Category Theory while programming! Not Ruby. <br>\n<span aria-label=\"duck\" class=\"emoji emoji-1f986\" role=\"img\" title=\"duck\">:duck:</span></p>",
        "id": 199675676,
        "sender_full_name": "Henry Story",
        "timestamp": 1591217816
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"278736\">Alexis Hazell</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199616765\">said</a>:</p>\n<blockquote>\n<p>Sorry, I don't know the details, apart from the parser being only one aspect of an overall rewrite of the nForum code (currently in PHP), which Richard has said is what's needed for the move. Hopefully Richard will join this discussion and fill in those details. :-)</p>\n</blockquote>\n<p>Sorry to put you on the spot, it's just that the question occurred to me as I was reviewing this thread. Yeah, let's wait for him to join this.</p>",
        "id": 199690210,
        "sender_full_name": "(=_=)",
        "timestamp": 1591227183
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276424\">Rongmin Lu</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199601145\">said</a>:</p>\n<blockquote>\n<p>Well done on the code review, by the way!</p>\n</blockquote>\n<p>little can motivate me like the conviction that i have found a mistake in someone else's code <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 199696116,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591233228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276072\">sarahzrf</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199696116\">said</a>:</p>\n<blockquote>\n<p>little can motivate me like the conviction that i have found a mistake in someone else's code <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>\n</blockquote>\n<p>Ah yes, the \"somebody on the internet is wrong\" effect. <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 199705303,
        "sender_full_name": "(=_=)",
        "timestamp": 1591246570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275920\">John Baez</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199661645\">said</a>:</p>\n<blockquote>\n<p>It's a kind of coincidence, <span class=\"user-mention silent\" data-user-id=\"275901\">Jules Hedges</span>  - David was trying to get the Azimuth Wiki to use TikZ, and it turned out to be easier to set up a new wiki that's similar in format to the Azimuth Wiki but uses TikZ.</p>\n</blockquote>\n<p>i wonder if it would be possible to get tikzit running on emscripten and integrate that with such a wiki somehow <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 199719300,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591260244
    },
    {
        "content": "<p>i think that might make a really nice ui</p>",
        "id": 199719331,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591260265
    },
    {
        "content": "<p>otoh, tikzit isn't huge, so it might be more expedient to just try to clone it for the web directly</p>",
        "id": 199719685,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591260493
    },
    {
        "content": "<p>...is what i would say if i had momentarily forgotten how easy it is to underestimate how much work a given thing would be to develop.</p>",
        "id": 199719771,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591260577
    },
    {
        "content": "<p>(:</p>",
        "id": 199719785,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591260585
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276072\">sarahzrf</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199719300\">said</a>:</p>\n<blockquote>\n<p>i wonder if it would be possible to get tikzit running on emscripten and integrate that with such a wiki somehow <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>\n</blockquote>\n<p>Stole my idea.... I didn't suggest it now someone is doing <em>actual</em> work, since I assumed it would be really hard</p>",
        "id": 199724435,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591263928
    },
    {
        "content": "<p>For writing it makes little difference, if it supports TikZ then you can use TikZit offline and just copy the compiled code in. Integrated TikZit would be really amazing for collaborative editing of diagrams</p>",
        "id": 199724530,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591263987
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276072\">sarahzrf</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199719300\">said</a>:</p>\n<blockquote>\n<p>i wonder if it would be possible to get tikzit running on emscripten and integrate that with such a wiki somehow <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>\n</blockquote>\n<p>Not emscripten, but not that far off either using web-assembly: <a href=\"http://tikzjax.com/\">http://tikzjax.com/</a></p>",
        "id": 199727272,
        "sender_full_name": "Kenji Maillard",
        "timestamp": 1591265983
    },
    {
        "content": "<p>wait, tex is written in pascal? <a href=\"/user_uploads/21317/ARC0j5etF2RzzntyM4D3HBEw/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/ARC0j5etF2RzzntyM4D3HBEw/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/ARC0j5etF2RzzntyM4D3HBEw/image.png\"></a></div>",
        "id": 199811461,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591306565
    },
    {
        "content": "<p>TIL</p>",
        "id": 199811465,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591306569
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275901\">Jules Hedges</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199724530\">said</a>:</p>\n<blockquote>\n<p>For writing it makes little difference, if it supports TikZ then you can use TikZit offline and just copy the compiled code in. Integrated TikZit would be really amazing for collaborative editing of diagrams</p>\n</blockquote>\n<p>hmm, remind me, to what extent can tikzit open tikz code? like, doesn't it save its diagrams as basically just tikz?</p>",
        "id": 199811549,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591306636
    },
    {
        "content": "<p>I <em>think</em> it has its own file format (but I don't use it, sad laptop)</p>",
        "id": 199811976,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591306861
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276072\">sarahzrf</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199811461\">said</a>:</p>\n<blockquote>\n<p>wait, tex is written in pascal? <a href=\"/user_uploads/21317/ARC0j5etF2RzzntyM4D3HBEw/image.png\">image.png</a></p>\n</blockquote>\n<p>this is one of the most nightmarish sentences i've read</p>",
        "id": 199845815,
        "sender_full_name": "Matteo Capucci (he/him)",
        "timestamp": 1591344314
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275932\">Matteo Capucci</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199845815\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"276072\">sarahzrf</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199811461\">said</a>:</p>\n<blockquote>\n<p>wait, tex is written in pascal? <a href=\"/user_uploads/21317/ARC0j5etF2RzzntyM4D3HBEw/image.png\">image.png</a></p>\n</blockquote>\n<p>this is one of the most nightmarish sentences i've read</p>\n</blockquote>\n<p>oh buckle in then, because that's actually not true</p>",
        "id": 199846266,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591344615
    },
    {
        "content": "<p>TeX is written in WEB</p>",
        "id": 199846290,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591344634
    },
    {
        "content": "<p>Which then compiles to Pascal</p>",
        "id": 199846335,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591344665
    },
    {
        "content": "<p>If you're now wondering what WEB is: it's a programming language invented by Knuth himself, and he's basically the only one to ever write programs in it</p>",
        "id": 199846512,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591344805
    },
    {
        "content": "<p><em>how does this improve the situation</em></p>",
        "id": 199848626,
        "sender_full_name": "Matteo Capucci (he/him)",
        "timestamp": 1591346494
    },
    {
        "content": "<p>Well, basically WEB is an experiment in literate programming: you essentially write documentation that has the code of your actual program interspersed</p>",
        "id": 199848970,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591346716
    },
    {
        "content": "<p>WEB then compiles the documentation to TeX and the actual code to Pascal</p>",
        "id": 199849010,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591346741
    },
    {
        "content": "<p>All of this is ancient in terms of the age of computers, of course.</p>",
        "id": 199849108,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591346796
    },
    {
        "content": "<blockquote>\n<p>This implementation was called \"WEB\" by Knuth since he believed that it was one of the few three-letter words of English that hadn't already been applied to computing.</p>\n</blockquote>\n<p>This is a quote from the wiki page.</p>",
        "id": 199849127,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591346816
    },
    {
        "content": "<p>Oh I see. Cool then!</p>",
        "id": 199849436,
        "sender_full_name": "Matteo Capucci (he/him)",
        "timestamp": 1591347011
    },
    {
        "content": "<p>What does everyone have against Pascal? It was state of the art when it was created, it had the wisdom of Dijkstra built in</p>",
        "id": 199858249,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591352914
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275901\">Jules Hedges</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199858249\">said</a>:</p>\n<blockquote>\n<p>What does everyone have against Pascal? It was state of the art when it was created, it had the wisdom of Dijkstra built in</p>\n</blockquote>\n<p>the use of past tense in your phrase looks extremely relevant to the overall reaction of people</p>",
        "id": 199861236,
        "sender_full_name": "Kenji Maillard",
        "timestamp": 1591354957
    },
    {
        "content": "<p>anyway TeX is one of the greatest tool I'm using, but I think it's somewhat poor from the PL perspective: I never understood how to write things in a modular way, like local commands for instance; even packages break each other and my usual solution is to look up on TeX-exchange some incantation magically putting them in the right order...</p>",
        "id": 199861604,
        "sender_full_name": "Kenji Maillard",
        "timestamp": 1591355249
    },
    {
        "content": "<p>In my opinion TeX is a failed experiment in language design, it demonstrates quite well that building a language with macroexpansion as its model of computation is a nightmare in practice</p>",
        "id": 199862222,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591355659
    },
    {
        "content": "<p>Specifically, we accept now that having errors is the <em>default</em> path during compilation, whereas a successful compilation is the exceptional path. And macroexpansion based computation is really, really bad for reporting errors</p>",
        "id": 199862291,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591355738
    },
    {
        "content": "<p>I guess it comes from a time when everyone was still in love with GÃ¶del and Quine and Lisp, and doing weird shenanigans with syntax. Eventually everyone got over that and every reasonable language now respects lexical transparency</p>",
        "id": 199862411,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591355837
    },
    {
        "content": "<p>Bold of you to assume people ever got over Lisp.</p>",
        "id": 199862699,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591356072
    },
    {
        "content": "<p>Also TeX is clearly not failed in any practical sense; on the contrary, it's obviously hugely successful :)</p>",
        "id": 199862792,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591356147
    },
    {
        "content": "<p>Yep, Cobol is successful too</p>",
        "id": 199863186,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591356449
    },
    {
        "content": "<p>Not really</p>",
        "id": 199863446,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591356661
    },
    {
        "content": "<p>Cobol is basically dead. At least I would be very surprised if there was anybody who developed new software in Cobol. Its only use is keeping software alive that was written a long time ago.</p>",
        "id": 199863570,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591356740
    },
    {
        "content": "<p>Ok fair, Fortran is a better comparison, lots and lots of new software is written in Fortran because it has the best libraries for one important job</p>",
        "id": 199863625,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591356811
    },
    {
        "content": "<p>Yes, agree</p>",
        "id": 199863634,
        "sender_full_name": "Ben Steffan",
        "timestamp": 1591356825
    },
    {
        "content": "<p>I will probably use LaTeX until I die, having invested so much time in learning it.   But younger folks should invent something better.</p>\n<p>Literally, I will probably die while debugging some LaTeX.</p>",
        "id": 199903403,
        "sender_full_name": "John Baez",
        "timestamp": 1591375213
    },
    {
        "content": "<p>\"Making a better LaTeX\" would be the side project to end all side projects. You could probably spend your whole career on it and still not make something that looks as good</p>",
        "id": 199919665,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591383230
    },
    {
        "content": "<p>There's LuaLaTeX - it's quite easy to use it to implement new little languages for drawing diagrams, for example.</p>",
        "id": 199923866,
        "sender_full_name": "Eduardo Ochs",
        "timestamp": 1591385644
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275901\">Jules Hedges</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199919665\">said</a>:</p>\n<blockquote>\n<p>\"Making a better LaTeX\" would be the side project to end all side projects. You could probably spend your whole career on it and still not make something that looks as good</p>\n</blockquote>\n<p>I feel that something like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.89883em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.68333em;\"><span style=\"top:-2.904999em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.46782999999999997em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span> is either built impromptu within a weekend or never.</p>",
        "id": 199926830,
        "sender_full_name": "Fabrizio Genovese",
        "timestamp": 1591387181
    },
    {
        "content": "<p>Javascript has a similar story, it was developed without much thinking over 10 days</p>",
        "id": 199926861,
        "sender_full_name": "Fabrizio Genovese",
        "timestamp": 1591387199
    },
    {
        "content": "<p>Sure the core programming language could be hacked together in a weekend and be immediately a big improvement, but the typesetting algorithms would be years of work, and getting enough libraries to actually write papers would probably take decades for a team of 1</p>",
        "id": 199930187,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591389031
    },
    {
        "content": "<p>Imagine rewriting TikZ from scratch, even its user manual is 900 pages long</p>",
        "id": 199930221,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591389054
    },
    {
        "content": "<p>And that's just one library</p>",
        "id": 199930231,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1591389061
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275922\">Ben Steffan</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199862699\">said</a>:</p>\n<blockquote>\n<p>Bold of you to assume people ever got over Lisp.</p>\n</blockquote>\n<p>learn type theory, ben</p>",
        "id": 199946095,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591401150
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"275901\">@Jules Hedges</span> modal type theory is probably the right way to do macros</p>",
        "id": 199946127,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591401200
    },
    {
        "content": "<p>ppl are working on it...</p>",
        "id": 199946134,
        "sender_full_name": "sarahzrf",
        "timestamp": 1591401206
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275901\">Jules Hedges</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199919665\">said</a>:</p>\n<blockquote>\n<p>\"Making a better LaTeX\" would be the side project to end all side projects. You could probably spend your whole career on it and still not make something that looks as good</p>\n</blockquote>\n<p>Here's a side project that spent a whole lot of time to make LaTeX look slightly better: <a href=\"https://ctan.org/pkg/microtype?lang=en\">https://ctan.org/pkg/microtype?lang=en</a></p>",
        "id": 199995906,
        "sender_full_name": "Joshua Meyers",
        "timestamp": 1591482395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275901\">Jules Hedges</span> <a href=\"#narrow/stream/233322-practice.3A-communication/topic/Improving.20nLab/near/199919665\">said</a>:</p>\n<blockquote>\n<p>\"Making a better LaTeX\" would be the side project to end all side projects. You could probably spend your whole career on it and still not make something that looks as good</p>\n</blockquote>\n<p>It's been attempted by some people in the logic group at ChambÃ©ry, in OCaml:<br>\n<a href=\"https://github.com/patoline/patoline\">https://github.com/patoline/patoline</a><br>\nI know that at least one PhD manuscript has been typeset in Patoline, but from what I understand you should personally know the developers if you want to do that :p<br>\n(Also, the website <a href=\"http://patoline.org\">patoline.org</a> is down, which is not a good sign for the health of the projectâ€¦)</p>",
        "id": 199996032,
        "sender_full_name": "LÃª ThÃ nh DÅ©ng (Tito) Nguyá»…n",
        "timestamp": 1591482646
    },
    {
        "content": "<p>There is also ConTeXt...</p>\n<p><a href=\"https://tex.stackexchange.com/questions/4987/why-should-i-be-interested-in-context/5007#5007\">https://tex.stackexchange.com/questions/4987/why-should-i-be-interested-in-context/5007#5007</a><br>\n<a href=\"https://tex.stackexchange.com/questions/141425/can-you-use-latex-packages-in-context-emulate-context-in-latex\">https://tex.stackexchange.com/questions/141425/can-you-use-latex-packages-in-context-emulate-context-in-latex</a><br>\n<a href=\"http://www.pragma-ade.nl/overview.htm\">http://www.pragma-ade.nl/overview.htm</a></p>",
        "id": 200000437,
        "sender_full_name": "Eduardo Ochs",
        "timestamp": 1591490702
    }
]