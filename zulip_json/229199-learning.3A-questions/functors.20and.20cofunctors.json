[
    {
        "content": "<p>A discrete opfibration is at the same time a functor and a cofunctor, in a compatible way. (And moreover, the liftings satisfy a universal property.)<br>\nMore generally, how do we call things which are both functors and cofunctors? Have they been studied?</p>",
        "id": 242790036,
        "sender_full_name": "Paolo Perrone",
        "timestamp": 1623786879
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275989\">Paolo Perrone</span> <a href=\"#narrow/stream/229199-learning.3A-questions/topic/Functors.20and.20cofunctors/near/242790036\">said</a>:</p>\n<blockquote>\n<p>A discrete opfibration is at the same time a functor and a cofunctor, in a compatible way. (And moreover, the liftings satisfy a universal property.)<br>\nMore generally, how do we call things which are both functors and cofunctors? Have they been studied?</p>\n</blockquote>\n<p>The things A -&gt; B which are both functors A -&gt;B  and cofunctors A -&gt; B in a compatible way are called <em>delta lenses</em> (which isn't a great name). <br>\nI have a bunch of papers on delta lenses from this point of view, the most helpful are probably <a href=\"https://arxiv.org/abs/2009.06835v1\">Internal lenses as functors and cofunctors</a> and <a href=\"http://www.tac.mta.ca/tac/volumes/35/44/35-44abs.html\">Internal split opfibrations and cofunctors</a>.</p>",
        "id": 242808516,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1623796717
    },
    {
        "content": "<p>I'd be very happy to discuss any further questions you had. Was there a particular motivation or examples behind your question?</p>",
        "id": 242808658,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1623796833
    },
    {
        "content": "<p>Thank you! That seems exactly what I needed. <br>\nThe motivation (as usual for my work) is probability, I think there's an analogy between cofunctors and conditioning, and I want to see if it's something deeper than just an analogy. <br>\nLet me study your papers, and I'll get back to you :)</p>",
        "id": 242878732,
        "sender_full_name": "Paolo Perrone",
        "timestamp": 1623849607
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275989\">Paolo Perrone</span> <a href=\"#narrow/stream/229199-learning.3A-questions/topic/functors.20and.20cofunctors/near/242878732\">said</a>:</p>\n<blockquote>\n<p>Thank you! That seems exactly what I needed. <br>\nThe motivation (as usual for my work) is probability, I think there's an analogy between cofunctors and conditioning, and I want to see if it's something deeper than just an analogy. <br>\nLet me study your papers, and I'll get back to you :)</p>\n</blockquote>\n<p>That sounds very interesting! Look forward to hearing more about it.</p>",
        "id": 242934397,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1623873480
    },
    {
        "content": "<p>Thank you! Here's a first question, just out of my ignorance about lenses.<br>\nIf I understand correctly, a delta lens is a generalization of an ordinary lens, where the product projection is replaced by any other map, right?<br>\nAnd also, internal lenses are the internalization of delta lenses, not of ordinary lenses. Is that correct?</p>",
        "id": 242940607,
        "sender_full_name": "Paolo Perrone",
        "timestamp": 1623876312
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275989\">Paolo Perrone</span> <a href=\"#narrow/stream/229199-learning.3A-questions/topic/functors.20and.20cofunctors/near/242940607\">said</a>:</p>\n<blockquote>\n<p>Thank you! Here's a first question, just out of my ignorance about lenses.<br>\nIf I understand correctly, a delta lens is a generalization of an ordinary lens, where the product projection is replaced by any other map, right?<br>\nAnd also, internal lenses are the internalization of delta lenses, not of ordinary lenses. Is that correct?</p>\n</blockquote>\n<p>An \"ordinary lens\" means lots of different things to different people, but to me it means a pair of functions f : A -&gt; B and p : A x B -&gt; A satisfying the three lens laws. In this case, a delta lens is a generalisation of an ordinary lens, the sense that a delta lens between codiscrete categories is precisely a ordinary lens.</p>",
        "id": 243141246,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1624011414
    },
    {
        "content": "<p>You are correct that internal lenses are an internalisation of delta lenses.</p>",
        "id": 243141375,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1624011511
    },
    {
        "content": "<p>slighly off topic, but since Bryce is already here and talking about internal lenses...</p>\n<p>I don't really know anything about lenses, but have read about how they arise in this internal setting, and one aspect (the fact that Mealy morphisms are internal functors if and only if their <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>-cell admits a right adjoint) reminded me of the way that profunctors \"are\" functors (via Yoneda) if and only if they admit a right adjoint.</p>\n<p>Another aspect (the way that internal cofunctors can be written as spans with the left leg an identity-on-objects functor and the right leg a discrete opfibration) reminded me of the story of Gabriel–Zisman localisation combined with a nice fact about projective moudles, where morphisms are given by spans with the left leg a weak equivalence and the right leg a fibration.</p>\n<p>(Then the idea of a lens being the data of a third functor that makes the span commute looks a bit like the idea of a morphism in the localisation being somehow \"pre-localised\" if there exists a third morphism making the span commute).</p>\n<p>From what I've been told after talking to some people about this vague observation, it seems like the first similarity can be explained by equipments, but I'm not so sure about the second. I know this is really just a stream-of-conciousness post, but maybe somebody has something interesting to say about my hand-wavy foggy weak analogies. So is this something that you've thought about at all?</p>",
        "id": 243217824,
        "sender_full_name": "Tim Hosgood",
        "timestamp": 1624061036
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"280178\">Tim Hosgood</span> <a href=\"#narrow/stream/229199-learning.3A-questions/topic/functors.20and.20cofunctors/near/243217824\">said</a>:</p>\n<blockquote>\n<p>I don't really know anything about lenses, but have read about how they arise in this internal setting, and one aspect (the fact that Mealy morphisms are internal functors if and only if their <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>-cell admits a right adjoint) reminded me of the way that profunctors \"are\" functors (via Yoneda) if and only if they admit a right adjoint.</p>\n<p>Another aspect (the way that internal cofunctors can be written as spans with the left leg an identity-on-objects functor and the right leg a discrete opfibration) reminded me of the story of Gabriel–Zisman localisation combined with a nice fact about projective moudles, where morphisms are given by spans with the left leg a weak equivalence and the right leg a fibration.</p>\n<p>(Then the idea of a lens being the data of a third functor that makes the span commute looks a bit like the idea of a morphism in the localisation being somehow \"pre-localised\" if there exists a third morphism making the span commute).</p>\n<p>From what I've been told after talking to some people about this vague observation, it seems like the first similarity can be explained by equipments, but I'm not so sure about the second. I know this is really just a stream-of-conciousness post, but maybe somebody has something interesting to say about my hand-wavy foggy weak analogies. So is this something that you've thought about at all?</p>\n</blockquote>\n<p>Hi Tim, these are some great observations. Some thoughts I had: </p>\n<ul>\n<li>Depending on which category of Mealy morphisms one works with, different things could be meant by \"right adjoint\", but lets suppose you mean the one which admits a pseudofunctor Meal -&gt; Span(Cat) , the bicategory of categories and spans of functors. Then a Mealy morphism is a functor if and only if it is sent to a left adjoint by this pseudofunctor. I think 1-cells admitting a right adjoint in Meal itself are forced to be discrete opfibrations.</li>\n</ul>",
        "id": 243229744,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1624078772
    },
    {
        "content": "<p>I agree this first observation can be explained by equipments (there is a double category of categories, functors, and Mealy morphisms). As an aside, I first learnt about Mealy morphisms and their connection to profunctors in the Garner &amp; Shulman paper <a href=\"https://arxiv.org/abs/1301.3191\">Enriched categories as a free cocompletion</a> See the introduction as well as 16.8 and 16.27 in that paper.</p>",
        "id": 243229912,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1624079045
    },
    {
        "content": "<ul>\n<li>Your second obversation is very interesting. I don't know much about Gabriel-Zisman localisation or projective modules, however earlier this year I realised that delta lenses (internal lenses) are comonadic over cofunctors (internal cofunctors), when you set up appropirate categories of these things in the right way. I was able to generalise this result by replacing cofunctors with spans whose left legs were \"weak equivalences\" with respect to some coreflective subcategory, and whose right legs were a class of chosen morphisms (which I incidentially called \"fibrations\" to align with the Cat case where they are taken to be discrete opfibrations).</li>\n</ul>",
        "id": 243230095,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1624079373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"280178\">@Tim Hosgood</span> I'll track down the slides with the talk I gave on this and send you an email so we could discuss this further. I'd love to better understand this analogy.</p>",
        "id": 243230160,
        "sender_full_name": "Bryce Clarke",
        "timestamp": 1624079499
    },
    {
        "content": "<p>oh that sounds even closer then! look forward to reading the slides :)</p>",
        "id": 243250315,
        "sender_full_name": "Tim Hosgood",
        "timestamp": 1624109652
    },
    {
        "content": "<p>In case anyone is still interested, the \"lenses and conditioning\" idea that I was pointing out earlier in this thread is now worked out in this preprint. <a href=\"https://arxiv.org/abs/2110.06591\">https://arxiv.org/abs/2110.06591</a></p>",
        "id": 257501434,
        "sender_full_name": "Paolo Perrone",
        "timestamp": 1634201601
    }
]