[
    {
        "content": "<p>In a seminar advertisement, I recently found the following claim: </p>\n<blockquote>\n<p>Commutative monoids in a category with finite products can be<br>\nidentified with product-preserving functors from spans of finite<br>\nsets.</p>\n</blockquote>\n<p>Has anyone heard this or know the detail of how this works? Looks super interesting!</p>",
        "id": 520634704,
        "sender_full_name": "Jade Master",
        "timestamp": 1748342343
    },
    {
        "content": "<p>The idea must be that the symmetric monoidal category of spans of finite sets is generated by spans from 2 to 1 (corresponding to multiplication in your monoid) and from 1 to 2 (corresponding to the diagonal map from your monoid to its square).</p>",
        "id": 520640306,
        "sender_full_name": "John Baez",
        "timestamp": 1748344227
    },
    {
        "content": "<p>Btw, I sent you an urgent email over the weekend.</p>",
        "id": 520640388,
        "sender_full_name": "John Baez",
        "timestamp": 1748344256
    },
    {
        "content": "<p>You can get all the details in <a href=\"https://www.sciencedirect.com/science/article/pii/S2352220816301365\">this paper</a> on deconstructing Lawvere theories. It is very concisely stated in Example 6.2a, but to digest the story a bit:</p>\n<ul>\n<li>Generate a category <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"sans-serif\">F</mi></mrow><annotation encoding=\"application/x-tex\">\\mathsf{F}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathsf\">F</span></span></span></span> of string diagrams with generators <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mo>→</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">2 \\to 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo>→</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">0 \\to 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> and the evident equations for commutative monoids. This is the prop of commutative monoids in the sense that symmetric monoidal functor <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"sans-serif\">F</mi><mo>→</mo><mi mathvariant=\"bold\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathsf{F} \\rightarrow \\mathbf{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathsf\">F</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord mathbf\">C</span></span></span></span> correspond to commutative monoids in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord mathbf\">C</span></span></span></span>.</li>\n<li>You can also recognize that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"sans-serif\">F</mi></mrow><annotation encoding=\"application/x-tex\">\\mathsf{F}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathsf\">F</span></span></span></span> is the opposite of the category of finite sets and functions.</li>\n<li>A main theorem in that paper is that if you add generators <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>→</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">1 \\to 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>→</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">1 \\to 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> with equations for cocommutative comonoids plus a distributive law between the monoid and comonoid structures (i.e. you add a copy and delete map), you get the Lawvere theory of commutative monoids. (Theorem 6.1)</li>\n<li>Another result in that paper is that this Lawvere theory is obtained with a distributive law between props, and there you can see that the category obtained is the category of spans of finite sets. (Example 3.4b)</li>\n</ul>\n<p>You can recognize John's comments in this.</p>",
        "id": 520641990,
        "sender_full_name": "Ralph Sarkis",
        "timestamp": 1748344710
    },
    {
        "content": "<p>Theorem 1.24 of Gambino and Kock's <a href=\"https://arxiv.org/abs/0906.4931\">Polynomial functors and polynomial monads</a> is also worth taking a look at.</p>",
        "id": 520642660,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1748344891
    },
    {
        "content": "<p>I'm more familiar with the prop for commutative monoids than what we're talking about here, the Lawvere theory for commutative monoids.  The prop is just FinSet <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mrow></mrow><mtext>op</mtext></msup></mrow><annotation encoding=\"application/x-tex\">^{\\text{op}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\"><span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">op</span></span></span></span></span></span></span></span></span></span></span></span></span>, since it lacks the map from 1 to 2.</p>",
        "id": 520642911,
        "sender_full_name": "John Baez",
        "timestamp": 1748344952
    },
    {
        "content": "<p>See also <a href=\"https://arxiv.org/abs/1109.1598\">https://arxiv.org/abs/1109.1598</a> ...</p>",
        "id": 520644560,
        "sender_full_name": "James Deikun",
        "timestamp": 1748345453
    },
    {
        "content": "<p>If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is a rig, the Lawvere theory for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-modules is the category of matrices with entries in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>.</p>\n<p>Thus, in particular, the Lawvere theory for commutative monoids (which are the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\rm N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">N</span></span></span></span></span>-modules) is the category of matrices of natural numbers.</p>\n<p>The category of spans in finite sets may be considered an unbiased version of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">M</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">t</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rm Mat(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">Mat</span><span class=\"mopen\">(</span><span class=\"mord mathrm\">N</span><span class=\"mclose\">)</span></span></span></span></span>.</p>",
        "id": 528445042,
        "sender_full_name": "Claudio Pisani",
        "timestamp": 1752312037
    },
    {
        "content": "<blockquote>\n<p>If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is a rig, the Lawvere theory for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-modules is the category of matrices with entries in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>.</p>\n</blockquote>\n<p>Right.  This can be seen from that therem saying the Lawvere theory of X's is the opposite of the category of finitely generated free X's.  The Lawvere theory of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-modules is thus the opposite of teh category of finitely generated free <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-modules, which is the category of matrices with entries in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>.  But this category is equivalent to its opposite, by taking transposes of matrices!</p>",
        "id": 528445742,
        "sender_full_name": "John Baez",
        "timestamp": 1752312813
    },
    {
        "content": "<p>Now that makes me wonder: which Lawvere theories are equivalent to their opposite category?</p>",
        "id": 528445775,
        "sender_full_name": "John Baez",
        "timestamp": 1752312850
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275920\">John Baez</span> <a href=\"#narrow/channel/229199-learning.3A-questions/topic/Commutative.20Monoids.20and.20Functors.20from.20Finite.20Spans/near/528445775\">said</a>:</p>\n<blockquote>\n<p>Now that makes me wonder: which Lawvere theories are equivalent to their opposite category?</p>\n</blockquote>\n<p>I don't know, but I wouldn't be surprised if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">M</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">t</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\rm Mat(R)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">Mat</span><span class=\"mopen\">(</span><span class=\"mord mathrm\">R</span><span class=\"mclose\">)</span></span></span></span></span> is in fact the only instance.</p>",
        "id": 528465216,
        "sender_full_name": "Claudio Pisani",
        "timestamp": 1752333209
    },
    {
        "content": "<p>That's a fun conjecture!   Note the finite products have to be coproducts as well, which is well on the way to being biproducts as they are in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi mathvariant=\"sans-serif\">M</mi><mi mathvariant=\"sans-serif\">a</mi><mi mathvariant=\"sans-serif\">t</mi></mrow><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathsf{Mat}(R)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathsf\">Mat</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span></span></span></span>.</p>",
        "id": 528468604,
        "sender_full_name": "John Baez",
        "timestamp": 1752336598
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"275920\">John Baez</span> <a href=\"#narrow/channel/229199-learning.3A-questions/topic/Commutative.20Monoids.20and.20Functors.20from.20Finite.20Spans/near/528468604\">said</a>:</p>\n<blockquote>\n<p>Note the finite products have to be coproducts as well</p>\n</blockquote>\n<p>... so that an arrow <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext> </mtext><mrow><mi mathvariant=\"normal\">n</mi><mo>→</mo><mi mathvariant=\"normal\">m</mi><mtext> </mtext></mrow></mrow><annotation encoding=\"application/x-tex\">\\,\\rm n \\to m\\,</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathrm\">m</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span></span></span></span></span> is an arrow from a coproduct to a product (of the generating object <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>) and so it is a matrix of arrows <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>→</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x\\to x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> ...</p>",
        "id": 528477434,
        "sender_full_name": "Claudio Pisani",
        "timestamp": 1752346128
    },
    {
        "content": "<p>Are you assuming that the contravariant autoequivalence is the identity on objects?  Or can you prove that?</p>",
        "id": 528477988,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1752346671
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276777\">Mike Shulman</span> <a href=\"#narrow/channel/229199-learning.3A-questions/topic/Commutative.20Monoids.20and.20Functors.20from.20Finite.20Spans/near/528477988\">said</a>:</p>\n<blockquote>\n<p>Are you assuming that the contravariant autoequivalence is the identity on objects?  Or can you prove that?</p>\n</blockquote>\n<p>well, I was just suggesting an idea of a proof; but maybe the enunciate itself, as you suggest, should be clarified ...</p>",
        "id": 528480931,
        "sender_full_name": "Claudio Pisani",
        "timestamp": 1752349909
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"276777\">Mike Shulman</span> <a href=\"#narrow/channel/229199-learning.3A-questions/topic/Commutative.20Monoids.20and.20Functors.20from.20Finite.20Spans/near/528477988\">said</a>:</p>\n<blockquote>\n<p>Are you assuming that the contravariant autoequivalence is the identity on objects?  Or can you prove that?</p>\n</blockquote>\n<p>I guess I was stupidly assuming that without noticing.  But it might be nice to assume that, see how far one can get with that assumption, and then see what it takes to prove that assumption.</p>",
        "id": 528482159,
        "sender_full_name": "John Baez",
        "timestamp": 1752351211
    },
    {
        "content": "<p>I admit it would be pretty wild if you could have such an autoequivalence that was not the identity on objects.</p>",
        "id": 528484226,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1752353860
    }
]