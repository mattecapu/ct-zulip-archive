[
    {
        "content": "<p>This is a set of questions about two different definitions of \"comb\" or \"optic\" like things, which seem to be equivalent in Markov categories. The questions are mostly of the \"hey, what's going on here?\" variety, i.e. not very specific.</p>\n<p>I was recently reading Jacobs, Kissinger and Zanazi's paper <a href=\"https://arxiv.org/abs/1811.08338\">Causal Inference by String Diagram Surgery</a>, where they give the following definition of a \"2-comb\":</p>\n<p><a href=\"/user_uploads/21317/tAPR1uI4VYn5FHnHJJPjDpmC/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/tAPR1uI4VYn5FHnHJJPjDpmC/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/tAPR1uI4VYn5FHnHJJPjDpmC/image.png\"></a></div><p>(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"sans-serif\">S</mi><mi mathvariant=\"sans-serif\">t</mi><mi mathvariant=\"sans-serif\">o</mi><mi mathvariant=\"sans-serif\">c</mi><mi mathvariant=\"sans-serif\">h</mi></mrow><annotation encoding=\"application/x-tex\">\\mathsf{Stoch}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathsf\">S</span><span class=\"mord mathsf\">t</span><span class=\"mord mathsf\">o</span><span class=\"mord mathsf\">c</span><span class=\"mord mathsf\">h</span></span></span></span></span> here is the category of finite sets and stochastic matrices, but I guess this definition makes sense in any Markov category.)</p>\n<p>This is a kind of conditional independence relationship, and it motivates the comb notation,</p>\n<p><a href=\"/user_uploads/21317/1rx1akjRElJ7QOOjjQdCEii0/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/1rx1akjRElJ7QOOjjQdCEii0/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/1rx1akjRElJ7QOOjjQdCEii0/image.png\"></a></div><p>This same notation is also used for optics, as introduced by Riley in <a href=\"https://arxiv.org/abs/1809.00738\">Categories of Optics</a>. (Riley doesn't use the word \"comb\" for it, but lots of other people do.)</p>\n<p>On the face of it an optic is quite a different thing from what JKZ define, but I think in Markov categories they're equivalent. An optic (at least one way to look at it) is an equivalence class of pairs of morphisms</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>A</mi><mn>1</mn></msub><mover><mo stretchy=\"true\">→</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mi>u</mi></mpadded></mover><msub><mi>B</mi><mn>1</mn></msub><mo>⊗</mo><mi>M</mi><mo separator=\"true\">,</mo><mtext> </mtext><mtext> </mtext><msub><mi>A</mi><mn>2</mn></msub><mo>⊗</mo><mi>M</mi><mover><mo stretchy=\"true\">→</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mi>v</mi></mpadded></mover><msub><mi>B</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">(A_1\\xrightarrow{u} B_1\\otimes M,\\,\\, A_2\\otimes M\\xrightarrow{v}B_2).</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.173392em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.923392em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000001em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.934392em;vertical-align:-0.01100000000000001em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.923392em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.01100000000000001em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mord\">.</span></span></span></span></span></p>\n<p>(I won't state the equivalence relation explicitly.) This is different from a single morphism that obeys an equation. However, if I have such a pair of morphisms then I can form a morphism that obeys JKZ's condition as follows. </p>\n<p><a href=\"/user_uploads/21317/38HHAsnjgLIF7bm0riobtYv7/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/38HHAsnjgLIF7bm0riobtYv7/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/38HHAsnjgLIF7bm0riobtYv7/image.png\"></a></div><p>(Sorry for switching orientations.) The equation uses the naturalness of the delete morphism, so we need at least that property of Markov categories for this to work.</p>\n<p>The correspondence isn't one-to-one - many pairs of morphisms map to a single morphism in this way - but I think the preimages of this map are exactly the equivalence classes in the definition of an optic. So (I think) in any Markov category there is a 1-1 correspondence between 2-combs as Jacobs et al. define them and optics as Riley defines them. I assume this correspondence is well known - people use the same notation after all - but I was surprised that I hadn't seen it noted anywhere. (Is it noted anywhere?)</p>\n<p>Now on to my questions. I assume it isn't a coincidence that these two definitions are equivalent, but it currently seems a bit mysterious to me, even though I could probably prove it fairly easily. Is there some way I can understand, from a nice intuitive, probabilistic point of view, why the definition of an optic should be equivalent to a kind of conditional independence relationship when we specialise to Markov categories?</p>\n<p>[edit: I should have tried to prove it before asking the question - it turns out it's not obvious at all and probably needs some extra conditions beyond being a Markov category. The question should really be \"under what conditions are they the same?\"]</p>\n<p>My next question is about \"bending wires\" and requires some more images, so I'll post it below shortly.</p>",
        "id": 222719782,
        "sender_full_name": "Nathaniel Virgo",
        "timestamp": 1610632772
    },
    {
        "content": "<p>In order to compose 2-combs, JKZ move into the category of finite sets and <em>unnormalised</em> Markov kernels, in which objects have duals, which lets them bend wires around like this:</p>\n<p><a href=\"/user_uploads/21317/rNE3-mSf5VeFaQlR2mF_POFY/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/rNE3-mSf5VeFaQlR2mF_POFY/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/rNE3-mSf5VeFaQlR2mF_POFY/image.png\"></a></div><p>This seems in some way related to the \"bending wires\" in the other common notation for optics. That wire-bending is a notation for a coend rather than dualisation, but I'm wondering if they're related. In the context of a suitable unnormalised Markov category I guess there's no reason you couldn't write a 2-comb like this</p>\n<p><a href=\"/user_uploads/21317/eZOn6TINULzNH6hJX3LcOpUk/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/21317/eZOn6TINULzNH6hJX3LcOpUk/image.png\" title=\"image.png\"><img src=\"/user_uploads/21317/eZOn6TINULzNH6hJX3LcOpUk/image.png\"></a></div><p>subject to the same equivalence relation as above. Here the arrows, cap and \"backwards\" morphisms represent dualisation, so this is really just a family of morphisms in an unnormalised Markov category, rather than a notation for profunctors and coends.</p>\n<p>I don't think I can make a sharp question out of this - I'm basically just asking if anyone has any nice intuitions about what's really going on here. Coends still seem very abstract and magical to me, whereas Markov kernels and unnormalised Markov kernels seem very straightforward and simple, so if I can clearly understand the relationship between them it would hopefully make a lot of things a lot easier to understand.</p>",
        "id": 222721645,
        "sender_full_name": "Nathaniel Virgo",
        "timestamp": 1610633604
    },
    {
        "content": "<p>(This might be better in <a class=\"stream\" data-stream-id=\"229156\" href=\"/#narrow/stream/229156-practice.3A-applied-ct\">#practice: applied ct</a>. Sorry, I wasn't thinking too hard about where to post it.)</p>",
        "id": 222722168,
        "sender_full_name": "Nathaniel Virgo",
        "timestamp": 1610633857
    },
    {
        "content": "<p>I think if you tag <span class=\"user-mention\" data-user-id=\"295673\">@Aleks Kissinger</span> that you might get a nice answer :)</p>",
        "id": 222732100,
        "sender_full_name": "John van de Wetering",
        "timestamp": 1610637881
    },
    {
        "content": "<p>hi <span class=\"user-mention\" data-user-id=\"276071\">@Nathaniel Virgo</span>, it's a good question, and one I remember discussing with <span class=\"user-mention\" data-user-id=\"309293\">@Guillaume Boisseau</span> (who has been thinking a lot about optics) about a year ago. The two concepts are closely related. Indeed it is true for any comb in Stoch (or even in the quantum generalisation of Stoch!) can be decomposed into a pair <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo>:</mo><msub><mi>A</mi><mn>1</mn></msub><mo>→</mo><msub><mi>B</mi><mn>1</mn></msub><mo>⊗</mo><mi>M</mi><mo separator=\"true\">,</mo><mi>g</mi><mo>:</mo><msub><mi>A</mi><mn>2</mn></msub><mo>⊗</mo><mi>M</mi><mo>→</mo><msub><mi>B</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(f: A_1 \\to B_1 \\otimes M, g: A_2 \\otimes M \\to B_2)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8777699999999999em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>.</p>\n<p>However, it is not totally clear if it implements the same equivalence relation as the coend imposes, or a stronger one. Namely, two such pairs are considered to define the same comb if they compose to give the same map as you drew in your second diagram. On the other hand, the coend equivalence only says a pair should be considered equivalent if I can find a mediating map <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">m</span></span></span></span> where:</p>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>⊗</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo>∘</mo><mi>f</mi><mo separator=\"true\">,</mo><mi>g</mi><mo stretchy=\"false\">)</mo><mo>∼</mo><mo stretchy=\"false\">(</mo><mi>f</mi><mo separator=\"true\">,</mo><mi>g</mi><mo>∘</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>⊗</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">((1 \\otimes m) \\circ f, g) \\sim (f,  g \\circ (1 \\otimes m))</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mclose\">)</span></span></span></span></p>\n<p>This implies that when I plug these two pieces together I'll get the same comb, but the converse seems to be a very special property of a category (which is maybe true in Stoch, but we didn't come up with a proof or counter-example).</p>",
        "id": 222736778,
        "sender_full_name": "Aleks Kissinger",
        "timestamp": 1610639661
    },
    {
        "content": "<p>The classical case of decomposing a comb into two pieces is basically a special case of the product rule for conditional probabilities. The quantum case was (somewhat famously) proved by Eggeling, Schlingemann, and Werner using a nice property of quantum channels called \"essential uniqueness of purifications\": <a href=\"https://arxiv.org/abs/quant-ph/0104027\">https://arxiv.org/abs/quant-ph/0104027</a></p>\n<p>You can find both proofs re-done in a categorical style in the appendix (A.2) of mine and Sander Uijlen's causality paper: <a href=\"https://arxiv.org/pdf/1701.04732.pdf\">https://arxiv.org/pdf/1701.04732.pdf</a></p>",
        "id": 222738030,
        "sender_full_name": "Aleks Kissinger",
        "timestamp": 1610640087
    },
    {
        "content": "<p>I want to add to this that this proof can be generalized to finite-dimensional C*-algebras by using a <a href=\"https://arxiv.org/abs/1802.00367\">modified version of purification</a> that also works for classical systems. This proof isn't written down anywhere but can be pretty easily constructed by putting Sander's proof together with the modified definition of purification. So it is possible to do this proof in an entirely categorical way that restricts to the quantum and classical case.</p>",
        "id": 222745121,
        "sender_full_name": "John van de Wetering",
        "timestamp": 1610642795
    },
    {
        "content": "<p>Nice question! My gut feeling is also that they <em>ought</em> to be the same, so it's interesting if there are counterexamples. If so then it would also be interesting to figure out what conditions you need on a Markov category to make them coincide</p>",
        "id": 222867260,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1610722460
    },
    {
        "content": "<p>For your section question my gut feeling is no, the cap in the optic-orientation diagram should correspond in the comb-orientation diagram to a wire that goes through the \"bar\" of the comb, but in the forwards direction. It allows you to \"bypass\" from the input of the first tooth to the output of the second tooth</p>",
        "id": 222867577,
        "sender_full_name": "Jules Hedges",
        "timestamp": 1610722570
    }
]