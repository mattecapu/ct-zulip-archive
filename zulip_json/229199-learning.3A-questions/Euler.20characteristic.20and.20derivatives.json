[
    {
        "content": "<p>There's a good notion of the derivative of a data type or a species.  <span class=\"user-mention\" data-user-id=\"398565\">@Marcelo Fiore</span> and <span class=\"user-mention\" data-user-id=\"277067\">@Tom Leinster</span>'s paper <a href=\"https://arxiv.org/abs/math/0212377\">Objects of categories as complex numbers</a> uses ring theory to say when we can think of a data type as having a complex cardinality.</p>\n<p>\"Setting the derivative to zero\" lets us pick out critical points of functions—maxima, minima, and inflection points—but does it have any combinatorial meaning other than finding a critical point of the cardinality of the data type?  Flajolet and Sedgewick's <em>Analytic Combinatorics</em> spends all of section VIII on saddle points, which in many circumstances can be used to put upper bounds on the growth of the sequence, but I feel like there's got to be something more going on here.</p>\n<p>One idea I had was to use the fact that the cardinality is related to Euler characteristic; for instance, binary strings have cardinality -1 and can be thought of as a \"poor man's interval\".  Adding one point to compactify it, we get something with cardinality 0.  How is a circle related to the critical points of a data type?  Does it have something to do with loop space?</p>",
        "id": 235394918,
        "sender_full_name": "Mike Stay",
        "timestamp": 1618944489
    },
    {
        "content": "<p>I would look deep in <a href=\"https://arxiv.org/abs/1109.2688\">Algorithms for Combinatorial Systems: Well-Founded Systems and Newton Iterations</a> for hints to that. Bruno Salvy was a PhD student of Flajolet's, and uses Species throughout this particular paper.</p>\n<p>Note that the derivative a data type should really be understood as a tangent space, not a \"derivative\" in the usual functional sense. It's misleading that it can be computed via the derivative of a Functor using the usual rules of differentiation. [It is not wrong that it is computed that way, merely that it tends to prime the wrong neurons when looking at it too quickly.]</p>",
        "id": 235407224,
        "sender_full_name": "Jacques Carette",
        "timestamp": 1618949482
    },
    {
        "content": "<p>Thanks, I'll have a look.</p>\n<blockquote>\n<p>tangent space</p>\n</blockquote>\n<p>That's encouraging, since my end goal is to understand the combinatorial content of Lagrangian mechanics.</p>",
        "id": 235416181,
        "sender_full_name": "Mike Stay",
        "timestamp": 1618952807
    },
    {
        "content": "<p>That sounds like a great goal, Mike.  Hard, but potentially great.</p>",
        "id": 235428215,
        "sender_full_name": "John Baez",
        "timestamp": 1618959091
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"296322\">Jacques Carette</span> <a href=\"#narrow/stream/229199-learning.3A-questions/topic/Euler.20characteristic.20and.20derivatives/near/235407224\">said</a>:</p>\n<blockquote>\n<p>I would look deep in <a href=\"https://arxiv.org/abs/1109.2688\">Algorithms for Combinatorial Systems: Well-Founded Systems and Newton Iterations</a> for hints to that. Bruno Salvy was a PhD student of Flajolet's, and uses Species throughout this particular paper.</p>\n<p>Note that the derivative a data type should really be understood as a tangent space, not a \"derivative\" in the usual functional sense. It's misleading that it can be computed via the derivative of a Functor using the usual rules of differentiation. [It is not wrong that it is computed that way, merely that it tends to prime the wrong neurons when looking at it too quickly.]</p>\n</blockquote>\n<p>I don't think this is misleading, but tell me more! I might be interested in drawing a (dis)connection between the two meanings of \"derivative\"</p>",
        "id": 235457784,
        "sender_full_name": "fosco",
        "timestamp": 1618982975
    },
    {
        "content": "<p>I'm going to stick to the intuitive level in my answer. Think of derivative from the differential geometry point of view: to a map f from a manifold M to a manifold N, it associates to each 'point' m of M a linear map from the tangent space <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mi>m</mi></msub><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">T_m M</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mrow><mi>f</mi><mi>m</mi></mrow></msub><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">T_{f m} N</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361079999999999em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal mtight\">m</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"><span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span></span></span></span>.</p>\n<p>I think of a data-structure as a space - a highly structured space (rather like a manifold). But the addresses of a manifold are different, in that functions on a manifold are defined directly on them.  I'm using address in the same sense that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}^n</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68889em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">R</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> gets given 'addresses' when choosing a cartesian coordinate system. From the functional point of view, one view of data structures also associates addresses to each location - this is the 'containers' view. What's different is that data-structures contain data at those addresses. One could just say that this is a function from addresses to some value space - and this is indeed a valid way to look at it. But it's a bit odd, since usually this function is \"maximally wild\": it is essentially a random function. You really do want fully arbitrary data in your lists, arrays, even trees (though sometimes you do want balanced binary trees of ordered data - but still, within that constraint, the data is still wild).  This is rarely so for a function on a manifold, which tends to be specified via a rather small amount of data. Asking that such functions be smooth is quite a restriction.</p>\n<p>So the analog of computing a derivative of a data-structure is the analog of mapping from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">T M</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span>. There is also an associated analog of derivatives on functions, which is where all the fuss around AD comes from. What's easy to forget in traditional AD is that the tangent space to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}^n</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68889em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">R</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> can be naturally identified with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}^n</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68889em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathbb\">R</span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.664392em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span>. To me, that's an annoying coincidence.  [The work on tangent categories and differential categories does treat that correctly]</p>\n<p>Some of this is present in <span class=\"user-mention\" data-user-id=\"360069\">@Conal Elliott</span> 's work - but I remember discussions of this on Google Buzz circa 2011.  I think it was <span class=\"user-mention\" data-user-id=\"284226\">@Paolo G. Giarrusso</span> who might have pointed me to it.</p>\n<p>I am currently actively working on ideas in these circle of ideas with a PhD student.  I don't want to give too much away quite yet, but we're hoping to release a preprint soon.</p>",
        "id": 235552970,
        "sender_full_name": "Jacques Carette",
        "timestamp": 1619027300
    }
]