[
    {
        "content": "<p>I've been trying to understand how the concept of a domain-specific language fits within Category Theory. More specifically, here is the situation I have.</p>\n<p>Consider a set <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{Prim}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span></span></span></span>, from which I construct a free monoid <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[\\mathbf{Prim}]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span><span class=\"mclose\">]</span></span></span></span>. Now, a DSL defined over this set <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{Prim}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span></span></span></span> would be a functor (or something) such that one could manipulate values of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{Prim}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span></span></span></span> and apply an<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>v</mi><mi>a</mi><mi>l</mi><mo>:</mo><mi>D</mi><mi>S</mi><mi>L</mi><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><mo>→</mo><mo stretchy=\"false\">[</mo><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">eval: DSL \\mathbf{Prim} \\to [\\mathbf{Prim}]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span><span class=\"mclose\">]</span></span></span></span>.</p>\n<p>This looked very similar to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>-algebras, but the caveat is that my <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>v</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">eval</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span> function is not evaluating to the carrier, but to the free monoid over the carrier. Moreover, I'm interested in understanding if fixing the \"carrier\" and varying the functors (DSL?) I could define a terminal DSL, from which the other DSL could be derived. Does any of this makes any sense?</p>",
        "id": 383739923,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1691696273
    },
    {
        "content": "<p>A DSL is a kind of programming language. Do you know anything about denotational semantics of programming languages?</p>",
        "id": 383740754,
        "sender_full_name": "Kevin Arlin",
        "timestamp": 1691696528
    },
    {
        "content": "<p>Yeah, I know a bit about denotational semantics, mostly from functional programming. Not an expert though</p>",
        "id": 383741719,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1691696836
    },
    {
        "content": "<p>I recall Alan Jeffrey did some _very_ interesting work on semantics and monoidal stuff in the late nineties but I don't know where to find it anymore: it was a webpage, now just a glorified citation as far as I can tell under the title \"Premonoidal categories and flow graphs.\" Some more recent stuff in this vein is (e.g.) <a href=\"https://arxiv.org/abs/2202.02061\">https://arxiv.org/abs/2202.02061</a></p>",
        "id": 383756257,
        "sender_full_name": "Steve Huntsman",
        "timestamp": 1691700788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"498398\">@Davi Sales Barreira</span> Could you give an example of such a DSL you're interested in?</p>",
        "id": 388397245,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693512043
    },
    {
        "content": "<p>Primer on F-algebras: <a href=\"https://www.schoolofhaskell.com/user/bartosz/understanding-algebras\">https://www.schoolofhaskell.com/user/bartosz/understanding-algebras</a></p>\n<p><span class=\"user-mention\" data-user-id=\"498398\">@Davi Sales Barreira</span>, why did you choose the free monoid datastructure? Structures like lists are often the basis of the DSL, not the result.</p>",
        "id": 388795359,
        "sender_full_name": "Jencel Panic",
        "timestamp": 1693728250
    },
    {
        "content": "<p>What I'm trying to understand is the following.  I have <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">P</mi><mi mathvariant=\"bold\">r</mi><mi mathvariant=\"bold\">i</mi><mi mathvariant=\"bold\">m</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{Prim}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Prim</span></span></span></span></span> which is a collection of primitives. To describe complex objects, I want to generate collections of primitive. For example, in my case, I have primitives which are basic geometric objects which I use to describe a scene. Thus, a complex scene is just a collection of these basic geometric objects, i.e. an element of the free monoid over primitives. The thing is, how do I then construct these collections? Here is where a DSL comes in. The DSL incremenets some syntax/operations that I can use over my primitives in order to more \"easily\" create this scene. For example, a DSL can give a tree-like structure, which could then be flattened into a list of primitives. Before flattening, I have an expression in the DSL. Makes sense?</p>\n<p>What I'm therefore trying to understand is if this notion of a DSL has a categorical analogue.</p>",
        "id": 388971497,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693827923
    },
    {
        "content": "<p>I think that this will be an F-algebra with  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[Prim]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span><span class=\"mclose\">]</span></span></span></span> as a carrier.</p>",
        "id": 389009720,
        "sender_full_name": "Jencel Panic",
        "timestamp": 1693839652
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"612694\">@Jencel Panic</span> , in fact, if we consider the \"DSL\" over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[Prim]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span><span class=\"mclose\">]</span></span></span></span> so that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>v</mi><mi>a</mi><mi>l</mi><mo stretchy=\"false\">(</mo><mi>D</mi><mi>S</mi><mi>L</mi><mo stretchy=\"false\">[</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">)</mo><mo>−</mo><mo>&gt;</mo><mo stretchy=\"false\">[</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">eval(DSL [Prim]) -&gt; [Prim]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span><span class=\"mclose\">])</span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span><span class=\"mclose\">]</span></span></span></span>, than that would be an algebra... But using <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[Prim]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span><span class=\"mclose\">]</span></span></span></span> as the carrier is not so natural. It is more natural to think of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mi>S</mi><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">DSL</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span></span></span></span> over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">Prim</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span></span></span></span>.</p>",
        "id": 389025634,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693845382
    },
    {
        "content": "<p>Hence why the more \"natural\" construction is not directly an F-Algebra.</p>",
        "id": 389025663,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693845401
    },
    {
        "content": "<p>But perhaps there is some isomorphism hidden somewhere, and we can use <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mi>S</mi><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">DSL</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\">L</span></span></span></span> over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[Prim]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span><span class=\"mclose\">]</span></span></span></span> and there is some natural extension to a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">D Prim</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span></span></span></span>.</p>",
        "id": 389025786,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693845469
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"498398\">@Davi Sales Barreira</span> Based on your example, I'm wondering if the free commutative monoid would be better for your application than the free monoid. Free commutative monoids capture the idea of \"finite collection with multiplicity and without order\", while free monoids capture the idea of \"finite collection with multiplicity and with order\". Perhaps the former makes more sense in this case?</p>",
        "id": 389034598,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693850376
    },
    {
        "content": "<p>Anyway, what you're describing sounds vaguely like a morphism of monads. I'm far from an expert on monads, so take everything I say with a grain of salt. But if you had some monad <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span> capturing some tree-like structure encoding the abstract syntax of your language, then I would expect there to be a monad morphism <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo>⇒</mo><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">T \\Rightarrow M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span>, where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> is the free (commutative) monoid functor. This is the \"flattening\" operation you described. (I know this can be done in simple cases, such as flattening binary trees to lists. What you want might be a bit more complicated.)</p>",
        "id": 389034823,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693850500
    },
    {
        "content": "<p>So, if you're willing to make your syntax as simple as, \"a scene consists of either A) a primitive, or B) a pair of scenes\", then that would be represented by a monad morphism as I described above.</p>",
        "id": 389034981,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693850586
    },
    {
        "content": "<p>In that simple case, I believe the DSL over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">Prim</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span></span></span></span> would be the free algebra of the endofunctor <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi><mo>↦</mo><msup><mi>X</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">X \\mapsto X^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6943em;vertical-align:-0.011em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">↦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> generated by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">Prim</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span></span></span></span>, and it would indeed come with a canonical map to the free (commutative) monoid generated by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">Prim</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span></span></span></span>.</p>",
        "id": 389035152,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693850696
    },
    {
        "content": "<p>If you want more complicated syntax, the endofunctor you would choose would change in ways that I'd be happy to elaborate on if you'd like more detail.</p>",
        "id": 389035571,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693850966
    },
    {
        "content": "<p>One thing to keep in mind, though, is that the actual language is probably more complicated than the simple version you're describing. I'm guessing that you have some primitives such as \"translate\", \"rotate\", \"reflect\", and \"dilate\" that are involved as well. In order to have a full account of what you're doing, you would need to take those into account as well.</p>",
        "id": 389035782,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1693851092
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599004\">@Ben Logsdon</span> , thanks for the answer. I actually want non-commutative, as the order is the order of the rendering of the objects.</p>",
        "id": 389168556,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693913841
    },
    {
        "content": "<p>If I understood you, the idea is that we have free algebras over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">Prim</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">im</span></span></span></span>, and there is a canonical way to go to the free monoid... Is that it?</p>",
        "id": 389169236,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693914122
    },
    {
        "content": "<p>Since you said I needed monads, would it be Free Monad?</p>",
        "id": 389169437,
        "sender_full_name": "Davi Sales Barreira",
        "timestamp": 1693914204
    },
    {
        "content": "<p>I just noticed <a href=\"https://arxiv.org/abs/2302.00744\">https://arxiv.org/abs/2302.00744</a></p>",
        "id": 391744355,
        "sender_full_name": "Steve Huntsman",
        "timestamp": 1695057511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"498398\">@Davi Sales Barreira</span> sorry for the delay...I've been buried in teaching recently, so I'm just now coming back to this!</p>\n<p>Yes, it sounds like you understood what I said correctly. The monad which generates free monoids is called the \"free monoid monad\", because the monad takes as an input an object <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> and returns the free monoid generated by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>. And the key operation I think you're looking for is a natural transformation (i.e. a monad morphism) from some other monad <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span> to the free monoid monad.</p>\n<p>And yes, what you said about the non-commutativity makes sense :)</p>",
        "id": 395964883,
        "sender_full_name": "Ben Logsdon",
        "timestamp": 1696974333
    }
]