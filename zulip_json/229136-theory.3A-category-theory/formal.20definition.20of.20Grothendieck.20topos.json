[
    {
        "content": "<p>If you have a Yoneda structure on a 2-category <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"script\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\cal K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.01445em;\">K</span></span></span></span></span>, then afaiu you have a KZ monad that allows you to define the 'free cocompletion' of a given object <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo>:</mo><mi mathvariant=\"script\">K</mi></mrow><annotation encoding=\"application/x-tex\">c : \\cal K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.01445em;\">K</span></span></span></span></span>. Now free cocompletion of categories give us 'presheaf topoi', and Grothendieck topoi are defined as lex reflective subcategories thereof.<br>\nHence I was wondering what could be a 'formal' version of this definition? The only part of the definition I don't know how to immediately abstract for any 2-cat is the 'exactness' of the reflector.</p>",
        "id": 298729215,
        "sender_full_name": "Matteo Capucci (he/him)",
        "timestamp": 1663146176
    },
    {
        "content": "<p>In the case of Grothendieck topoi, the presheaf construction gives a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mrow><mi mathvariant=\"bold\">C</mi><mi mathvariant=\"bold\">a</mi><mi mathvariant=\"bold\">t</mi></mrow><mo>↪</mo><mrow><mi mathvariant=\"bold\">C</mi><mi mathvariant=\"bold\">A</mi><mi mathvariant=\"bold\">T</mi></mrow><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbf{Cat} \\hookrightarrow \\mathbf{CAT})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathbf\">Cat</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">↪</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">CAT</span></span><span class=\"mclose\">)</span></span></span></span>-relative KZ doctrine taking small categories to their free cocompletions under small colimits (which takes values in locally-small categories); and a coKZ doctrine on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">C</mi><mi mathvariant=\"bold\">A</mi><mi mathvariant=\"bold\">T</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{CAT}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">CAT</span></span></span></span></span> taking locally-small categories to their free completions under finite limits. The presheaf construction lifts to the algebras of the coKZ-doctrine, which gives a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mrow><mi mathvariant=\"bold\">L</mi><mi mathvariant=\"bold\">e</mi><mi mathvariant=\"bold\">x</mi></mrow><mo>↪</mo><mrow><mi mathvariant=\"bold\">L</mi><mi mathvariant=\"bold\">E</mi><mi mathvariant=\"bold\">X</mi></mrow><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbf{Lex} \\hookrightarrow \\mathbf{LEX})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathbf\">Lex</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">↪</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">LEX</span></span><span class=\"mclose\">)</span></span></span></span>-relative KZ-doctrine (in other words, there's a distributive law between a relative KZ-doctrine and a coKZ doctrine). The \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>-small\" algebras for this lifted relative KZ-doctrine are Grothendieck topoi: the exactness condition on the left adjoint arises from the distributivity condition. The intuition for these ideas comes from Fiore–Gambino–Hyland–Winskel's <a href=\"https://arxiv.org/abs/1612.03678\">Relative pseudomonads, Kleisli bicategories, and substitution monoidal structures</a> together with Garner–Lack's <a href=\"https://arxiv.org/abs/1107.0778\">Lex colimits</a>.</p>",
        "id": 298740011,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663150464
    },
    {
        "content": "<p>To formalise this situation, you therefore need a (pseudo)distributive law between a (relative) KZ-doctrine and a coKZ-doctrine.</p>",
        "id": 298740082,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663150500
    },
    {
        "content": "<p>Why do you need the coKZ-doctrine part? It's true that you need something extra to show that a free cocompletion is lex, but I don't think that's a strictly crucial feature of the construction.</p>",
        "id": 298745568,
        "sender_full_name": "Morgan Rogers (he/him)",
        "timestamp": 1663152752
    },
    {
        "content": "<p>Taking the definition of Grothendieck topos to be a lex-reflective subcategory of a presheaf category (which is the definition that most readily formalises to a 2-categorical context), you need two components: small colimits, and finite limits. The relative KZ-doctrine provides the small colimits, the coKZ-doctrine proves the finite limits, and the pseudodistributive law provides the interaction between the two.</p>",
        "id": 298751788,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663155189
    },
    {
        "content": "<p>I imagine one could take a different definition of Grothendieck topos, and formalise it differently, but this is the one that seems most in the spirit of 2-categorical algebra (essentially the viewpoint presented by Anel–Joyal in <a href=\"http://mathieu.anel.free.fr/mat/doc/Anel-Joyal-Topo-logie.pdf\">Topo-logie</a>).</p>",
        "id": 298751969,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663155263
    },
    {
        "content": "<p>Silly me for skipping over the lex requirement on the reflection! Fair enough. This does make it hard for me to tell how unusual these conditions are, though. How much of topos theory do you think you could rebuild on top of that abstraction <span class=\"user-mention\" data-user-id=\"276092\">@Nathanael Arkor</span>?</p>",
        "id": 298754213,
        "sender_full_name": "Morgan Rogers (he/him)",
        "timestamp": 1663156087
    },
    {
        "content": "<p>I haven't given it a great deal of thought, but my inclination is that one could get quite far using this abstraction. There are other structures that have similar theorems to that of Grothendieck topoi (e.g. Grothendieck categories, and <a href=\"http://sweet.ua.pt/dirk/ct2015/abstracts/fiore_m.pdf\">para-topoi</a>) that arise from different (KZ, coKZ) pairs. For some theorems, it may be necessary also to add a presentability assumption (in the vein of Di Liberti–Loregian's <a href=\"https://arxiv.org/abs/1804.08710\">Accessibility and presentability in 2-categories</a>), since this does not come for free in a formal setting, unlike the categorical setting, because one cannot play the same tricks with size.</p>",
        "id": 298758660,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663157484
    },
    {
        "content": "<p>There are also other, more concrete, ways to define lexness abstractly.  For instance, you can say that an object <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> of a 2-category <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is lex if all hom-categories <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">K(x,c)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span></span></span></span> have finite limits and all precomposition functors <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mo>−</mo><mo>∘</mo><mi>g</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mi>K</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>K</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(-\\circ g) : K(y,c) \\to K(x,c)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span></span></span></span> preserve them.  Similarly, if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> are lex, then a morphism <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>c</mi><mo>→</mo><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">f:c\\to d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> is lex if all postcomposition functors <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo>∘</mo><mo>−</mo><mo stretchy=\"false\">)</mo><mo>:</mo><mi>K</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>→</mo><mi>K</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>d</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(f\\circ -) : K(x,c) \\to K(x,d)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">−</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mclose\">)</span></span></span></span> preserve finite limits.  This way you can define a \"Grothendieck topos object\" in any Yoneda structure.</p>",
        "id": 298813935,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1663175590
    },
    {
        "content": "<p>You don't even need a Yoneda structure to define a topos this way, if you're happy defining cocompleteness similarly. I suppose you're imagining that the presheaf aspect is being given by the Yoneda structure, and the lexness representably. But this definition seems a little artificial to me, because it disregards the exactness properties of Grothendieck topoi, since there is no guarantee the presheaf objects of the Yoneda structure are cocomplete. Furthermore, this doesn't recover the correct notion of finite completeness for enriched categories: for that, you need to define the limits using the Yoneda structure too (and then the approach is very similar to the one I outlined).</p>",
        "id": 298815334,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663176126
    },
    {
        "content": "<p>I think it's consistent to be okay with defining lexness this way but want some more abstract way to talk about cocompleteness, since lexness is an elementary property whereas cocompleteness is not.</p>",
        "id": 298818239,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1663177165
    },
    {
        "content": "<p>And I'm not an expert in Yoneda structures specifically, but it seems to me that in any sensible notion of \"formal category theory\" presheaf objects should be cocomplete.  For instance, this is the case for virtual equipments when you use a suitable notion of smallness (specifically, such that composites along small objects exist) -- the proof is essentially given in 10.25 of <a href=\"http://www.tac.mta.ca/tac/volumes/28/21/28-21abs.html\">Enriched indexed categories</a>.</p>",
        "id": 298818331,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1663177200
    },
    {
        "content": "<p>It's true that you should in general use the notion of \"finite limits\" from your formal category theory, so that they have an enriched universal property.  But I think there is still an essential difference with the KZ/coKZ approach in that the notion of finite limit can be <em>defined</em>, rather than postulated, and one doesn't need to assume or prove that the free completion under such finite limits exists.</p>",
        "id": 298818588,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1663177277
    },
    {
        "content": "<p>I wouldn't be surprised if using an actual definition of \"finite limit\" in this way, rather than an abstract coKZ monad, yields a notion of \"topos object\" that behaves more like a traditional topos.</p>",
        "id": 298818685,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1663177309
    },
    {
        "content": "<blockquote>\n<p>it seems to me that in any sensible notion of \"formal category theory\" presheaf objects should be cocomplete</p>\n</blockquote>\n<p>I am inclined to agree, but I think it's not possible to prove that the presheaf objects of a Yoneda structure are cocomplete without an additional assumption (Weber needs to assume it in Theorem 3.20 of <a href=\"https://link.springer.com/article/10.1007/s10485-007-9079-2\">Yoneda structures from 2-toposes</a>, for instance). I think Yoneda structures have several shortcomings over more equipment-theoretic approaches to formal category theory, though.</p>",
        "id": 298819898,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663177730
    },
    {
        "content": "<p>I do agree that the most appropriate setting for \"formal topoi\" is some kind of equipment, but I think the (co)KZ approach is simpler to explain.</p>",
        "id": 298820147,
        "sender_full_name": "Nathanael Arkor",
        "timestamp": 1663177826
    },
    {
        "content": "<p>Maybe if you already know what \"(co)KZ\" means it is.  But if you're working in an equipment (or Yoneda structure) you should already know what the correct notion of internal limit and colimit are, so saying \"this morphism preserves finite limits\" shouldn't really require any extra explanation.</p>",
        "id": 298820328,
        "sender_full_name": "Mike Shulman",
        "timestamp": 1663177917
    },
    {
        "content": "<p>Thank you all for the great replies!</p>",
        "id": 299011256,
        "sender_full_name": "Matteo Capucci (he/him)",
        "timestamp": 1663260678
    }
]